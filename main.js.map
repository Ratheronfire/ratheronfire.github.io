{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/components/about-dialog/about-dialog/about-dialog.component.css","webpack:///./src/app/components/about-dialog/about-dialog/about-dialog.component.html","webpack:///./src/app/components/about-dialog/about-dialog/about-dialog.component.ts","webpack:///./src/app/components/admin-debug/admin-debug.component.css","webpack:///./src/app/components/admin-debug/admin-debug.component.html","webpack:///./src/app/components/admin-debug/admin-debug.component.ts","webpack:///./src/app/components/buildings/buildings/buildings.component.css","webpack:///./src/app/components/buildings/buildings/buildings.component.html","webpack:///./src/app/components/buildings/buildings/buildings.component.ts","webpack:///./src/app/components/enemy/enemy.component.css","webpack:///./src/app/components/enemy/enemy.component.html","webpack:///./src/app/components/enemy/enemy.component.ts","webpack:///./src/app/components/fighter-detail/fighter-detail.component.css","webpack:///./src/app/components/fighter-detail/fighter-detail.component.html","webpack:///./src/app/components/fighter-detail/fighter-detail.component.ts","webpack:///./src/app/components/fighter/fighter.component.css","webpack:///./src/app/components/fighter/fighter.component.html","webpack:///./src/app/components/fighter/fighter.component.ts","webpack:///./src/app/components/harvest/harvest.component.css","webpack:///./src/app/components/harvest/harvest.component.html","webpack:///./src/app/components/harvest/harvest.component.ts","webpack:///./src/app/components/map/map.component.css","webpack:///./src/app/components/map/map.component.html","webpack:///./src/app/components/map/map.component.ts","webpack:///./src/app/components/messages/messages.component.css","webpack:///./src/app/components/messages/messages.component.html","webpack:///./src/app/components/messages/messages.component.ts","webpack:///./src/app/components/save-dialog/save-dialog.component.css","webpack:///./src/app/components/save-dialog/save-dialog.component.html","webpack:///./src/app/components/save-dialog/save-dialog.component.ts","webpack:///./src/app/components/settings/settings.component.css","webpack:///./src/app/components/settings/settings.component.html","webpack:///./src/app/components/settings/settings.component.ts","webpack:///./src/app/components/store/store.component.css","webpack:///./src/app/components/store/store.component.html","webpack:///./src/app/components/store/store.component.ts","webpack:///./src/app/components/tile-detail/tile-detail.component.css","webpack:///./src/app/components/tile-detail/tile-detail.component.html","webpack:///./src/app/components/tile-detail/tile-detail.component.ts","webpack:///./src/app/components/upgrades/upgrades.component.css","webpack:///./src/app/components/upgrades/upgrades.component.html","webpack:///./src/app/components/upgrades/upgrades.component.ts","webpack:///./src/app/components/workers/workers.component.css","webpack:///./src/app/components/workers/workers.component.html","webpack:///./src/app/components/workers/workers.component.ts","webpack:///./src/app/directives/crop/crop.directive.ts","webpack:///./src/app/directives/no-scroll/no-scroll.directive.ts","webpack:///./src/app/directives/snap/snap.directive.ts","webpack:///./src/app/material-import/material-import.module.ts","webpack:///./src/app/objects/entity.ts","webpack:///./src/app/objects/healthbar.ts","webpack:///./src/app/objects/message.ts","webpack:///./src/app/objects/resource.ts","webpack:///./src/app/objects/resourceData.ts","webpack:///./src/app/objects/tile.ts","webpack:///./src/app/objects/upgrade.ts","webpack:///./src/app/objects/vector.ts","webpack:///./src/app/objects/worker.ts","webpack:///./src/app/pipes/enumtoarraypipe.ts","webpack:///./src/app/pipes/long-number-pipe.ts","webpack:///./src/app/pipes/pipe.module.ts","webpack:///./src/app/pipes/resource-id.pipe.ts","webpack:///./src/app/services/admin/admin.service.ts","webpack:///./src/app/services/buildings/buildings.service.ts","webpack:///./src/app/services/enemy/enemy.service.ts","webpack:///./src/app/services/fighter/fighter.service.ts","webpack:///./src/app/services/harvest/harvest.service.ts","webpack:///./src/app/services/map/map.service.ts","webpack:///./src/app/services/messages/messages.service.ts","webpack:///./src/app/services/resources/resources.service.ts","webpack:///./src/app/services/settings/settings.service.ts","webpack:///./src/app/services/store/store.service.ts","webpack:///./src/app/services/tick/tick.service.ts","webpack:///./src/app/services/tooltip/tooltip.service.ts","webpack:///./src/app/services/upgrades/upgrades.service.ts","webpack:///./src/app/services/workers/workers.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"/* AppComponent's private CSS styles */\\nh1 {\\n  font-size: 1.2em;\\n  color: #999;\\n  margin-bottom: 0;\\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\n}\\nh2 {\\n  font-size: 2em;\\n  margin-top: 0;\\n  padding-top: 0;\\n}\\nnav a {\\n  padding: 5px 10px;\\n  text-decoration: none;\\n  margin-top: 10px;\\n  display: inline-block;\\n  background-color: #eee;\\n  border-radius: 4px;\\n}\\nnav a:visited, a:link {\\n  color: #607d8b;\\n}\\nnav a:hover {\\n  color: #039be5;\\n  background-color: #cfd8dc;\\n}\\nnav a.active {\\n  color: #039be5;\\n}\\n.resource-list {\\n  float: left;\\n}\\n.game-container {\\n  display: flex;\\n  flex-direction: column;\\n  position: absolute;\\n  top: 0;\\n  bottom: 0;\\n  left: 0;\\n  right: 0;\\n}\\n.game-toolbar,\\n.game-toolbar button {\\n  background-color: #582902;\\n}\\n.game-is-mobile .game-toolbar {\\n  position: fixed;\\n  /* Make sure the toolbar will stay on top of the content as it scrolls past. */\\n  z-index: 2;\\n}\\nh1.game-app-name {\\n  margin-left: 8px;\\n}\\n.game-sidenav-container {\\n  /* When the sidenav is not fixed, stretch the sidenav container to fill the available space. This\\n     causes `<mat-sidenav-content>` to act as our scrolling element for desktop layouts. */\\n  flex: 1;\\n}\\n.game-sidenav-container mat-sidenav {\\n  width: 500px;\\n  overflow-x: hidden;\\n}\\n.game-is-mobile .game-sidenav-container mat-sidenav {\\n  width: 100%;\\n}\\n.game-is-mobile .game-sidenav-container {\\n  /* When the sidenav is fixed, don't constrain the height of the sidenav container. This allows the\\n     `<body>` to be our scrolling element for mobile layouts. */\\n  flex: 1 0 auto;\\n}\\n.sidenav-buttons {\\n  position: absolute;\\n  right: 0;\\n}\\n.toolbar-button-text {\\n  display: inline-block;\\n}\\n.main-pane,\\nmat-nav-list,\\nmat-tab-group {\\n  height: 100%;\\n}\\n\"","module.exports = \"<div class=\\\"game-container\\\" [class.game-is-mobile]=\\\"mobileQuery.matches\\\" [@.disabled]=\\\"disableAnimations\\\">\\n  <mat-toolbar color=\\\"primary\\\" class=\\\"game-toolbar\\\">\\n    <h1 class=\\\"game-app-name\\\">Age of Clicking</h1>\\n    <div class=\\\"sidenav-buttons\\\">\\n      <button mat-flat-button (click)=\\\"hideResourceList = !hideResourceList\\\">\\n        <mat-icon>map</mat-icon><p class=\\\"toolbar-button-text\\\" *ngIf=\\\"!mobileQuery.matches\\\">Expand Map</p>\\n      </button>\\n      <button mat-flat-button (click)=\\\"snav.toggle()\\\" [matBadge]=\\\"affordableUpgradeCount\\\" [matBadgeHidden]=\\\"affordableUpgradeCount <= 0\\\" matBadgePosition=\\\"before\\\" matBadgeColor=\\\"accent\\\">\\n        <mat-icon>menu</mat-icon><p class=\\\"toolbar-button-text\\\" *ngIf=\\\"!mobileQuery.matches\\\">Menu</p>\\n      </button>\\n    </div>\\n  </mat-toolbar>\\n\\n  <mat-sidenav-container class=\\\"game-sidenav-container\\\" [style.marginTop.px]=\\\"mobileQuery.matches ? 56 : 0\\\">\\n    <mat-sidenav #snav [mode]=\\\"mobileQuery.matches ? 'over' : 'side'\\\" [opened]=\\\"!mobileQuery.matches\\\" [fixedInViewport]=\\\"mobileQuery.matches\\\" position=\\\"end\\\"\\n      fixedTopGap=\\\"56\\\">\\n      <mat-nav-list>\\n        <mat-tab-group class=\\\"tab-group\\\" dynamicHeight>\\n          <mat-tab label=\\\"Workers\\\">\\n            <app-workers></app-workers>\\n          </mat-tab>\\n          <mat-tab label=\\\"Store\\\">\\n            <app-store></app-store>\\n          </mat-tab>\\n          <mat-tab label=\\\"Upgrades{{affordableUpgradeCount > 0 ? ' (' + affordableUpgradeCount + ')' : ''}}\\\">\\n            <app-upgrades></app-upgrades>\\n          </mat-tab>\\n          <mat-tab label=\\\"Log\\\">\\n            <app-messages></app-messages>\\n          </mat-tab>\\n          <mat-tab label=\\\"Settings\\\">\\n            <app-settings></app-settings>\\n            <app-admin-debug *ngIf=\\\"debugMode\\\"></app-admin-debug>\\n          </mat-tab>\\n        </mat-tab-group>\\n      </mat-nav-list>\\n    </mat-sidenav>\\n    <mat-sidenav-content>\\n      <div class=\\\"main-pane\\\">\\n        <app-harvest class=\\\"resource-list stone\\\" [style.display]=\\\"hideResourceList? 'none': ''\\\"></app-harvest>\\n        <app-map class=\\\"map\\\" [style.display]=\\\"mobileQuery.matches && !hideResourceList? 'none': ''\\\"></app-map>\\n      </div>\\n    </mat-sidenav-content>\\n  </mat-sidenav-container>\\n</div>\\n\"","import { Component, ChangeDetectorRef, NgZone } from '@angular/core';\nimport { MediaMatcher } from '@angular/cdk/layout';\n\nimport { ResourcesService } from './services/resources/resources.service';\nimport { UpgradesService } from './services/upgrades/upgrades.service';\nimport { EnemyService } from './services/enemy/enemy.service';\nimport { SettingsService } from './services/settings/settings.service';\nimport { ResourceEnum } from './objects/resourceData';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  sidebarWidth = 600;\n  hideResourceList = false;\n  mobileQuery: MediaQueryList;\n\n  private _mobileQueryListener: () => void;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected upgradesService: UpgradesService,\n              protected enemyService: EnemyService,\n              protected settingsService: SettingsService,\n              protected changeDetectorRef: ChangeDetectorRef,\n              protected ngZone: NgZone,\n              protected media: MediaMatcher) {\n    this.mobileQuery = media.matchMedia('(max-width: 600px)');\n    this._mobileQueryListener = () => changeDetectorRef.detectChanges();\n    this.mobileQuery.addListener(this._mobileQueryListener);\n\n    // window.Game = window.Game || {};\n    // window.Game.Resources = window.Game.Resources || {};\n    // window.Game.Resources.getResources = this.getResourceNames.bind(this);\n    // window.Game.Resources.add = this.addToResource.bind(this);\n    // window.Game.Upgrades = window.Game.Upgrades || {};\n    // window.Game.Upgrades.getUpgrades = this.getUpgrades.bind(this);\n    // window.Game.Upgrades.purchase = this.purchaseUpgrade.bind(this);\n\n    window.onbeforeunload = event => {\n      const message = 'Are you sure you want to leave this page? Unsaved data will be lost.';\n      if (!event) {\n        event = window.event;\n      }\n\n      event.returnValue = message;\n\n      return message;\n    };\n  }\n\n  getResourceNames() {\n    return this.ngZone.run(() => this.resourcesService.getResources().map(resource => resource.resourceEnum));\n  }\n\n  addToResource(resourceEnum: ResourceEnum, amount: number) {\n    this.ngZone.run(() => this.resourcesService.resources.get(resourceEnum).addAmount(amount));\n  }\n\n  getUpgrades() {\n    return this.ngZone.run(() => this.upgradesService.getUpgrades());\n  }\n\n  purchaseUpgrade(id: number) {\n    return this.ngZone.run(() => this.upgradesService.getUpgrade(id).purchaseUpgrade());\n  }\n\n  get affordableUpgradeCount(): number {\n    const upgrades = this.upgradesService.getUpgrades(false, true, true);\n    const affordableUpgrades = upgrades.filter(upgrade => upgrade.canAfford());\n\n    return affordableUpgrades.length;\n  }\n\n  get disableAnimations(): boolean {\n    return this.settingsService.disableAnimations;\n  }\n\n  get debugMode(): boolean {\n    return this.settingsService.debugMode;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { ZoomableCanvasComponent } from '@durwella/zoomable-canvas';\n\nimport { MaterialImportModule } from './material-import/material-import.module';\nimport { PhaserModule } from 'phaser-component-library';\nimport { PipeModule } from './pipes/pipe.module';\nimport { ColorPickerModule } from 'ngx-color-picker';\n\nimport { AppComponent } from './app.component';\nimport { HarvestComponent } from './components/harvest/harvest.component';\nimport { MessagesComponent } from './components/messages/messages.component';\nimport { WorkersComponent } from './components/workers/workers.component';\nimport { StoreComponent } from './components/store/store.component';\nimport { UpgradesComponent } from './components/upgrades/upgrades.component';\nimport { MapComponent } from './components/map/map.component';\nimport { SettingsComponent } from './components/settings/settings.component';\nimport { AdminDebugComponent } from './components/admin-debug/admin-debug.component';\nimport { AboutDialogComponent } from './components/about-dialog/about-dialog/about-dialog.component';\nimport { SaveDialogComponent } from './components/save-dialog/save-dialog.component';\nimport { CropDirective } from './directives/crop/crop.directive';\nimport { NoScrollDirective } from './directives/no-scroll/no-scroll.directive';\nimport { EnemyComponent } from './components/enemy/enemy.component';\nimport { FighterComponent } from './components/fighter/fighter.component';\nimport { BuildingsComponent } from './components/buildings/buildings/buildings.component';\nimport { TileDetailComponent } from './components/tile-detail/tile-detail.component';\nimport { FighterDetailComponent } from './components/fighter-detail/fighter-detail.component';\nimport { SnapDirective } from './directives/snap/snap.directive';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    ZoomableCanvasComponent,\n    HarvestComponent,\n    MessagesComponent,\n    WorkersComponent,\n    StoreComponent,\n    UpgradesComponent,\n    SettingsComponent,\n    AdminDebugComponent,\n    MapComponent,\n    CropDirective,\n    SaveDialogComponent,\n    NoScrollDirective,\n    EnemyComponent,\n    FighterComponent,\n    BuildingsComponent,\n    TileDetailComponent,\n    FighterDetailComponent,\n    SnapDirective,\n    AboutDialogComponent\n  ],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    ReactiveFormsModule,\n    BrowserAnimationsModule,\n    MaterialImportModule,\n    PhaserModule,\n    PipeModule,\n    ColorPickerModule\n  ],\n  entryComponents: [\n    AboutDialogComponent,\n    SaveDialogComponent\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","module.exports = \"h1 {\\n  font-size: 1.2em;\\n  color: #999;\\n  margin-bottom: 0;\\n}\\n\\n\\nh2 {\\n  font-size: 2em;\\n  margin-top: 0;\\n  padding-top: 0;\\n}\\n\\n\\n* {\\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\n}\\n\\n\\na {\\n  padding: 5px 10px;\\n  text-decoration: none;\\n  margin-top: 10px;\\n  display: inline-block;\\n  background-color: #eee;\\n  border-radius: 4px;\\n}\\n\\n\\nnav a:visited, a:link {\\n  color: #607d8b;\\n}\\n\\n\\nnav a:hover {\\n  color: #039be5;\\n  background-color: #cfd8dc;\\n}\\n\\n\\nnav a.active {\\n  color: #039be5;\\n}\\n\"","module.exports = \"<h1>Age Of Clicking - Version Alpha 4.0</h1>\\n<br />\\n\\n<div>\\n  An exploration-based incremental game by Ratheronfire.\\n  <br />\\n  Thanks to the <a href=\\\"http://reddit.com/r/incremental_games/\\\" target=\\\"_blank\\\">/r/incremental_games</a> community for helping to test the game!\\n  <br />\\n\\n  <div>\\n    <h2>Links</h2>\\n    <li>\\n      <a href=\\\"https://github.com/Ratheronfire/AgeOfClicking\\\">Age of Clicking Git Repository</a>\\n    </li>\\n    <li>\\n      <a href=\\\"https://discord.gg/ZXw73C9\\\">Age of Clicking Discord Group</a>\\n    </li>\\n    <li>\\n      <a href=\\\"https://www.paypal.com/cgi-bin/webscr?cmd=_s-xclick&hosted_button_id=8DTWKHUT9DYZN\\\" target=\\\"_blank\\\">Donate</a> If you enjoyed the game and want to help support me, feel free to drop a few bucks here! It's not at all required, but it's appreciated.\\n    </li>\\n  </div>\\n\\n  <div>\\n    <h2>Also Check Out:</h2>\\n    <li>\\n      <a href=\\\"http://orteil.dashnet.org/cookieclicker/\\\" target=\\\"_blank\\\">Cookie Clicker</a> The incremental game that started them all!\\n    </li>\\n    <li>\\n      <a href=\\\"http://scholtek.com/minedefense\\\" target=\\\"_blank\\\">Mine Defense</a> A seemingly simple game with a surprising amount of depth.\\n    </li>\\n    <li>\\n      <a href=\\\"http://bloodrizer.ru/games/kittens/\\\" target=\\\"_blank\\\">Kittens Game</a> Filled with gradually unfolding systems and resources that all feed off of eachother.\\n    </li>\\n  </div>\\n</div>\\n\\n<div>\\n  <h2>Version History</h2>\\n\\n  Alpha 4\\n  <li>\\n    Massive overhaul to the map codebase\\n  </li>\\n  <li>\\n    Integrated the Phaser game development library\\n  </li>\\n  <li>\\n    New tileset sprites and UI design\\n  </li>\\n  <li>\\n    Numerous bugfixes and improvements\\n  </li>\\n  <li>\\n    Walls actually work now!\\n  </li>\\n\\n  <br />\\n  Alpha 3\\n  <li>\\n    UI Overhaul\\n  </li>\\n  <li>\\n    New map mystem\\n  </li>\\n  <li>\\n    Expanded endgame resources\\n  </li>\\n  <li>\\n    Added enemies, tower defense, and tile upgrading.\\n  </li>\\n  <li>\\n    Added new market resources which automatically sell your stored resources.\\n  </li>\\n  <li>\\n    Added food resources used to keep workers active.\\n  </li>\\n\\n  <br />\\n  Pre-Alpha 3\\n  <li>\\n    Complete lack of usable UI\\n  </li>\\n  <li>\\n    Only a few resources & upgrades were added at this point.\\n  </li>\\n</div>\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nimport { SettingsService } from '../../../services/settings/settings.service';\n\n@Component({\n  selector: 'app-about-dialog',\n  templateUrl: './about-dialog.component.html',\n  styleUrls: ['./about-dialog.component.css']\n})\nexport class AboutDialogComponent implements OnInit {\n\n  constructor(public dialogRef: MatDialogRef<AboutDialogComponent>,\n              @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n}\n","module.exports = \"\"","module.exports = \"<h2>Debug</h2>\\n\\n<mat-checkbox class=\\\"filterAccessible button-text-background\\\" checked=\\\"true\\\" [(ngModel)]=\\\"adminService.filterAccessible\\\">Hide Inaccessible\\n  Upgrades</mat-checkbox>\\n<br />\\n\\n<mat-divider></mat-divider>\\n<br />\\n\\n<div>\\n  <mat-select placeholder=\\\"Resource\\\" style=\\\"width: 200px; background: white\\\" [(ngModel)]=\\\"selectedResource\\\">\\n    <mat-option *ngFor=\\\"let resource of resourcesService.getResources()\\\" [value]=\\\"resource\\\">\\n      {{resource.name | titlecase}}\\n    </mat-option>\\n  </mat-select>\\n\\n  <input class=\\\"button-text\\\" [(ngModel)]=\\\"amount\\\">\\n  <button mat-raised-button (click)=\\\"addResourceAmount()\\\">Add to all resources</button>\\n  <div *ngIf=\\\"selectedResource !== undefined\\\">\\n    <button mat-raised-button (click)=\\\"addResourceAmount(selectedResource)\\\">Add to {{selectedResource.name |\\n      titlecase}}</button>\\n  </div>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { AdminService } from '../../services/admin/admin.service';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { Resource } from '../../objects/resource';\nimport { Worker } from '../../objects/worker';\nimport { WorkersService } from '../../services/workers/workers.service';\nimport { UpgradesService } from '../../services/upgrades/upgrades.service';\n\n@Component({\n  selector: 'app-admin-debug',\n  templateUrl: './admin-debug.component.html',\n  styleUrls: ['./admin-debug.component.css']\n})\nexport class AdminDebugComponent implements OnInit {\n  public filterAccessible = true;\n\n  public selectedResource: Resource;\n  amount = 0;\n\n  constructor(public resourcesService: ResourcesService,\n              public adminService: AdminService\n  ) {}\n\n  ngOnInit() {}\n\n  addResourceAmount(selectedResource?: Resource) {\n    if (!selectedResource) {\n      for (const resource of this.resourcesService.getResources()) {\n        resource.addAmount(+this.amount);\n      }\n\n      return;\n    }\n\n    selectedResource.addAmount(+this.amount);\n  }\n}\n","module.exports = \"/* BuildingsComponent's private CSS styles */\\n.buildings {\\n  position: absolute;\\n  top: 72px;\\n  width: 140px;\\n  display: -ms-grid;\\n  display: grid;\\n\\n  background: white;\\n\\n  flex-direction: column;\\n}\\nbutton {\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n  font-family: Arial;\\n}\\n.resource-list {\\n  text-align: center;\\n}\\n.resource-list div {\\n  display: inline-block;\\n}\\n.resource-list img {\\n  width: 16px;\\n  height: 16px;\\n}\\n\"","module.exports = \"<mat-button-toggle-group #group=\\\"matButtonToggleGroup\\\" [(ngModel)]=\\\"selectedBuilding\\\"\\nclass=\\\"buildings\\\">\\n<mat-button-toggle *ngFor=\\\"let buildingTile of getBuildingTileArray(true)\\\" [value]=\\\"buildingTile\\\" class=\\\"building wood\\\"\\n  [disabled]=\\\"!canAffordBuilding(buildingTile.tileType)\\\" (click)=\\\"mapService.buildingListVisible = false\\\">\\n  <div class=\\\"title button-text\\\" matTooltip=\\\"{{buildingTile.description}}\\\" matTooltipPosition=\\\"above\\\">\\n    {{buildingTile.name}}\\n  </div>\\n  <div class=\\\"resource-list\\\">\\n    <div *ngFor=\\\"let resourceCost of buildingTile.resourceCosts\\\" matTooltip=\\\"{{resourceCost.resourceCost}} {{getResource(resourceCost.resourceEnum).name | titlecase}}\\\"\\n      matTooltipPosition=\\\"below\\\" class=\\\"button-text\\\">\\n      <img id=\\\"{{getResource(resourceCost.resourceEnum).name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource(resourceCost.resourceEnum).name}}\\\">\\n      {{resourceCost.resourceCost | longNumber}}\\n    </div>\\n  </div>\\n</mat-button-toggle>\\n</mat-button-toggle-group>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { BuildingTileData, BuildingTileType } from '../../../objects/tile';\nimport { Resource } from '../../../objects/resource';\nimport { ResourceEnum } from '../../../objects/resourceData';\nimport { ResourcesService } from '../../../services/resources/resources.service';\nimport { BuildingsService } from '../../../services/buildings/buildings.service';\nimport { FighterService } from './../../../services/fighter/fighter.service';\nimport { SettingsService } from '../../../services/settings/settings.service';\nimport { MapService } from '../../../services/map/map.service';\n\n@Component({\n  selector: 'app-buildings',\n  templateUrl: './buildings.component.html',\n  styleUrls: ['./buildings.component.css']\n})\nexport class BuildingsComponent implements OnInit {\n  constructor(protected resourcesService: ResourcesService,\n              protected buildingsService: BuildingsService,\n              protected fighterService: FighterService,\n              protected settingsService: SettingsService,\n              protected mapService: MapService) { }\n\n  ngOnInit() {\n  }\n\n  selectBuilding(buildingTile: BuildingTileData) {\n    if (this.selectedBuilding === buildingTile) {\n      this.selectedBuilding = undefined;\n    } else {\n      this.fighterService.selectedFighterType = undefined;\n      this.selectedBuilding = buildingTile;\n    }\n  }\n\n  canAffordBuilding(buildingType: BuildingTileType): boolean {\n    return this.buildingsService.canAffordBuilding(this.buildingTiles.get(buildingType));\n  }\n\n  get buildingTiles() {\n    return this.mapService.buildingTileData;\n  }\n\n  getBuildingTileArray(filterByPlaceable: boolean): BuildingTileData[] {\n    let tiles = Array.from(this.mapService.buildingTileData.values());\n\n    if (filterByPlaceable) {\n      tiles = tiles.filter(tile => tile.placeable);\n    }\n\n    return tiles;\n  }\n\n  getResource(resourceEnum: ResourceEnum): Resource {\n    return this.resourcesService.resources.get(resourceEnum);\n  }\n\n  get selectedBuilding(): BuildingTileData {\n    return this.buildingsService.selectedBuilding;\n  }\n\n  set selectedBuilding(value) {\n    this.buildingsService.selectedBuilding = value;\n  }\n}\n","module.exports = \"\"","module.exports = \"<button (click)=\\\"enemyService.spawnEnemy()\\\">Spawn Enemy</button>\\n\"","import { EnemyService } from '../../services/enemy/enemy.service';\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-enemy',\n  templateUrl: './enemy.component.html',\n  styleUrls: ['./enemy.component.css']\n})\nexport class EnemyComponent implements OnInit {\n  constructor(public enemyService: EnemyService) { }\n\n  ngOnInit() {\n  }\n}\n","module.exports = \"#fighter-tooltip {\\n  left: 0;\\n  bottom: 0;\\n\\n  position: absolute;\\n}\\n\\nmat-card {\\n  text-align: center;\\n}\\n\\n.resource-list div {\\n  display: inline-block;\\n}\\n\\n.resource-list img {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n.repair-container {\\n  display: inline-flex;\\n  white-space: pre-wrap;\\n}\\n\\n.repair-container button {\\n  position: relative;\\n  top: -25%;\\n}\\n\\n.stats-container {\\n  width: 100%;\\n}\\n\\n.upgrade-button {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.upgrade-button mat-icon {\\n  position: relative;\\n  top: 5px;\\n}\\n\\n#card-header {\\n  float: left;\\n  max-width: 250px;\\n\\n  padding-right: 5px;\\n}\\n\\n#card-content {\\n  float: right;\\n\\n  border: burlywood;\\n  border-width: 0 0 0 1px;\\n  border-style: solid;\\n\\n  padding-left: 5px;\\n}\\n\"","module.exports = \"<mat-card id=\\\"fighter-tooltip\\\" class=\\\"steel\\\">\\n  <div *ngIf=\\\"focusedFighter\\\">\\n    <div id=\\\"card-header\\\">\\n      <mat-card-title class=\\\"button-text-background\\\">{{focusedFighter.name}}</mat-card-title>\\n      <mat-card-subtitle class=\\\"button-text\\\">{{focusedFighter.description}}</mat-card-subtitle>\\n\\n      <div class=\\\"repair-container\\\">\\n        {{focusedFighter.health}}/{{focusedFighter.maxHealth | longNumber}} Health\\n        <div *ngIf=\\\"focusedFighter.health < focusedFighter.maxHealth\\\">\\n          <button mat-raised-button (click)=\\\"focusedFighter.heal()\\\" color=\\\"accent\\\" [disabled]=\\\"!focusedFighter.canHeal()\\\">\\n            Heal\\n            <div class=\\\"resource-list\\\">\\n              <div matTooltip=\\\"{{focusedFighter.healCost | longNumber}} {{getResource('GOLD').name | titlecase}}\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                {{focusedFighter.healCost | longNumber}}\\n              </div>\\n            </div>\\n          </button>\\n        </div>\\n      </div>\\n      <br />\\n      <br />\\n\\n      <button mat-raised-button color=\\\"warn\\\" (click)=\\\"removeFighter()\\\">Remove Fighter</button>\\n    </div>\\n\\n    <mat-card-content id=\\\"card-content\\\">\\n      <table class=\\\"stats-container\\\">\\n        <tbody>\\n          <tr class=\\\"stat-row\\\">\\n            <td>\\n              <p>\\n                Max Health: {{focusedFighter.maxHealth | longNumber}}\\n              </p>\\n            </td>\\n            <td>\\n              <b>\\n                Level {{focusedFighter.statLevels['MAXHEALTH']}}\\n              </b>\\n            </td>\\n            <td>\\n              <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedFighter.upgradeStat('MAXHEALTH')\\\"\\n                [disabled]=\\\"!focusedFighter.canUpgradeStat('MAXHEALTH')\\\" matTooltip=\\\"Level {{focusedFighter.statLevels['MAXHEALTH'] + 1}}: {{focusedFighter.getUpgradedStat('MAXHEALTH') | longNumber}} Max Health\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n                <div class=\\\"resource-list\\\">\\n                  <div class=\\\"button-text\\\">\\n                    <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                    {{focusedFighter.statCosts['MAXHEALTH'] | longNumber}}\\n                  </div>\\n                </div>\\n              </button>\\n            </td>\\n          </tr>\\n\\n          <tr class=\\\"stat-row\\\">\\n            <td>\\n              <p>\\n                Attack: {{focusedFighter.attack | longNumber}}\\n              </p>\\n            </td>\\n            <td>\\n              <b>\\n                Level {{focusedFighter.statLevels['ATTACK']}}\\n              </b>\\n            </td>\\n            <td>\\n              <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedFighter.upgradeStat('ATTACK')\\\"\\n                [disabled]=\\\"!focusedFighter.canUpgradeStat('ATTACK')\\\" matTooltip=\\\"Level {{focusedFighter.statLevels['ATTACK'] + 1}}: {{focusedFighter.getUpgradedStat('ATTACK') | longNumber}} Attack\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n                <div class=\\\"resource-list\\\">\\n                  <div class=\\\"button-text\\\">\\n                    <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                    {{focusedFighter.statCosts['ATTACK'] | longNumber}}\\n                  </div>\\n                </div>\\n              </button>\\n            </td>\\n          </tr>\\n\\n          <tr class=\\\"stat-row\\\">\\n            <td>\\n              <p>\\n                Defense: {{focusedFighter.defense | longNumber}}\\n              </p>\\n            </td>\\n            <td>\\n              <b>\\n                Level {{focusedFighter.statLevels['DEFENSE']}}\\n              </b>\\n            </td>\\n            <td>\\n              <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedFighter.upgradeStat('DEFENSE')\\\"\\n                [disabled]=\\\"!focusedFighter.canUpgradeStat('DEFENSE')\\\" matTooltip=\\\"Level {{focusedFighter.statLevels['DEFENSE'] + 1}}: {{focusedFighter.getUpgradedStat('DEFENSE') | longNumber}} Defense\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n                <div class=\\\"resource-list\\\">\\n                  <div class=\\\"button-text\\\">\\n                    <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                    {{focusedFighter.statCosts['DEFENSE'] | longNumber}}\\n                  </div>\\n                </div>\\n              </button>\\n            </td>\\n          </tr>\\n\\n          <tr class=\\\"stat-row\\\">\\n            <td>\\n              <p>\\n                Attack Range: {{focusedFighter.attackRange | longNumber}}\\n                Tile{{focusedFighter.attackRange === 1 ? '' : 's'}}\\n              </p>\\n            </td>\\n            <td>\\n              <b>\\n                Level {{focusedFighter.statLevels['RANGE']}}\\n              </b>\\n            </td>\\n            <td>\\n              <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedFighter.upgradeStat('RANGE')\\\"\\n                [disabled]=\\\"!focusedFighter.canUpgradeStat('RANGE')\\\" matTooltip=\\\"Level {{focusedFighter.statLevels['RANGE'] + 1}}: {{focusedFighter.getUpgradedStat('RANGE') | longNumber}} Attack Range\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n                <div class=\\\"resource-list\\\">\\n                  <div class=\\\"button-text\\\">\\n                    <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                    {{focusedFighter.statCosts['RANGE'] | longNumber}}\\n                  </div>\\n                </div>\\n              </button>\\n            </td>\\n          </tr>\\n\\n          <tr class=\\\"stat-row\\\" *ngIf=\\\"focusedFighter.moveable\\\">\\n            <td>\\n              <p>\\n                Movement Speed: {{focusedFighter.animationSpeed * 100 | longNumber}}\\n                Tile{{focusedFighter.animationSpeed === 1 ? '' : 's'}}/second\\n              </p>\\n            </td>\\n            <td>\\n              <b>\\n                Level {{focusedFighter.statLevels['MOVEMENTSPEED']}}\\n              </b>\\n            </td>\\n            <td>\\n              <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedFighter.upgradeStat('MOVEMENTSPEED')\\\"\\n                [disabled]=\\\"!focusedFighter.canUpgradeStat('MOVEMENTSPEED')\\\" matTooltip=\\\"Level {{focusedFighter.statLevels['MOVEMENTSPEED'] + 1}}: {{focusedFighter.getUpgradedStat('MOVEMENTSPEED') * 100 | longNumber}} Tiles/Second\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n                <div class=\\\"resource-list\\\">\\n                  <div class=\\\"button-text\\\">\\n                    <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                    {{focusedFighter.statCosts['MOVEMENTSPEED'] | longNumber}}\\n                  </div>\\n                </div>\\n              </button>\\n            </td>\\n          </tr>\\n\\n          <tr class=\\\"stat-row\\\">\\n            <td>\\n              <p>\\n                Fire Rate: {{1000 / focusedFighter.fireMilliseconds | longNumber}}/Second\\n              </p>\\n            </td>\\n            <td>\\n              <b>\\n                Level {{focusedFighter.statLevels['FIRERATE']}}\\n              </b>\\n            </td>\\n            <td>\\n              <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedFighter.upgradeStat('FIRERATE')\\\"\\n                [disabled]=\\\"!focusedFighter.canUpgradeStat('FIRERATE')\\\" matTooltip=\\\"Level {{focusedFighter.statLevels['FIRERATE'] + 1}}: {{1000 / focusedFighter.getUpgradedStat('FIRERATE') | longNumber}}/Second\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n                <div class=\\\"resource-list\\\">\\n                  <div class=\\\"button-text\\\">\\n                    <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n                    {{focusedFighter.statCosts['FIRERATE'] | longNumber}}\\n                  </div>\\n                </div>\\n              </button>\\n            </td>\\n          </tr>\\n        </tbody>\\n      </table>\\n    </mat-card-content>\\n  </div>\\n</mat-card>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { MapService } from '../../services/map/map.service';\nimport { BuildingsService } from '../../services/buildings/buildings.service';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { ResourceEnum } from './../../objects/resourceData';\nimport { Fighter } from './../../objects/entity';\n\n@Component({\n  selector: 'app-fighter-detail',\n  templateUrl: './fighter-detail.component.html',\n  styleUrls: ['./fighter-detail.component.css']\n})\nexport class FighterDetailComponent implements OnInit {\n  snapSetting = 'lowerLeft';\n\n  constructor(protected mapService: MapService,\n              protected buildingsService: BuildingsService,\n              protected resourcesService: ResourcesService) { }\n\n  ngOnInit() {\n  }\n\n  getResource(resourceEnum: ResourceEnum) {\n    return this.resourcesService.resources.get(resourceEnum);\n  }\n\n  removeFighter() {\n    if (!this.focusedFighter) {\n      return;\n    }\n\n    this.focusedFighter.kill();\n\n    this.focusedTile = undefined;\n    this.focusedFighter = undefined;\n  }\n\n  get focusedTile(): Phaser.Tilemaps.Tile {\n    return this.mapService.focusedTile;\n  }\n\n  set focusedTile(value: Phaser.Tilemaps.Tile) {\n    this.mapService.focusedTile = value;\n  }\n\n  get focusedFighter(): Fighter {\n    return this.mapService.focusedFighter;\n  }\n\n  set focusedFighter(value: Fighter) {\n    this.mapService.focusedFighter = value;\n  }\n}\n","module.exports = \"/* FightersComponent's private CSS styles */\\n.fighters {\\n  position: absolute;\\n  top: 72px;\\n  left: 392px;\\n  width: 134px;\\n  display: -ms-grid;\\n  display: grid;\\n\\n  background: white;\\n\\n  flex-direction: column;\\n}\\nbutton {\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n  font-family: Arial;\\n}\\n.resource-list {\\n  text-align: center;\\n}\\n.resource-list div {\\n  display: inline-block;\\n}\\n.resource-list img {\\n  width: 16px;\\n  height: 16px;\\n}\\n\"","module.exports = \"<mat-button-toggle-group #group=\\\"matButtonToggleGroup\\\" [(ngModel)]=\\\"selectedFighterType\\\" class=\\\"fighters\\\">\\n  <mat-button-toggle *ngFor=\\\"let fighterType of fighterService.fighterTypes\\\" [value]=\\\"fighterType\\\" class=\\\"fighter wood\\\"\\n    [disabled]=\\\"!canAffordFighter(fighterType)\\\" (click)=\\\"mapService.fighterListVisible = false\\\">\\n    <div class=\\\"title button-text\\\" matTooltip=\\\"{{fighterType.description}}\\\" matTooltipPosition=\\\"above\\\">\\n      {{fighterType.name}}\\n    </div>\\n    <div class=\\\"resource-list\\\">\\n      <div matTooltip=\\\"{{fighterType.cost | longNumber}} {{getResource('GOLD').name | titlecase}}\\\"\\n        matTooltipPosition=\\\"below\\\" class=\\\"button-text\\\">\\n        <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource('GOLD').name}}\\\">\\n        {{fighterType.cost | longNumber}}\\n      </div>\\n    </div>\\n  </mat-button-toggle>\\n</mat-button-toggle-group>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { ResourceEnum } from '../../objects/resourceData';\nimport { FighterData } from '../../objects/entity';\nimport { BuildingsService } from './../../services/buildings/buildings.service';\nimport { FighterService } from '../../services/fighter/fighter.service';\nimport { SettingsService } from '../../services/settings/settings.service';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { MapService } from '../../services/map/map.service';\n\n@Component({\n  selector: 'app-fighter',\n  templateUrl: './fighter.component.html',\n  styleUrls: ['./fighter.component.css']\n})\nexport class FighterComponent implements OnInit {\n  constructor(public resourcesService: ResourcesService,\n              public settingsService: SettingsService,\n              public buildingsService: BuildingsService,\n              public fighterService: FighterService,\n              public mapService: MapService) { }\n\n  ngOnInit() {\n  }\n\n  getResource(resourceEnum: ResourceEnum) {\n    return this.resourcesService.resources.get(resourceEnum);\n  }\n\n  canAffordFighter(fighterType: FighterData) {\n    return this.resourcesService.resources.get(ResourceEnum.Gold).amount >= fighterType.cost;\n  }\n\n  selectFigherType(fighterType: FighterData) {\n    if (this.selectedFighterType === fighterType) {\n      this.selectedFighterType = undefined;\n    } else {\n      this.buildingsService.selectedBuilding = undefined;\n      this.selectedFighterType = fighterType;\n    }\n  }\n\n  get fighterTypes() {\n    return this.fighterService.fighterTypes;\n  }\n\n  get selectedFighterType(): FighterData {\n    return this.fighterService.selectedFighterType;\n  }\n\n  set selectedFighterType(value: FighterData) {\n    this.fighterService.selectedFighterType = value;\n  }\n}\n","module.exports = \"/* HarvestComponent's private CSS styles */\\n.resources {\\n  margin: 0 0 2em 0;\\n  list-style-type: none;\\n  padding: 0;\\n  width: 25em;\\n}\\n.resources mat-expansion-panel {\\n  margin: 0;\\n}\\n.resources mat-expansion-panel-header {\\n  height: 30px !important;\\n}\\n.resources mat-card-title {\\n  margin-top: 0;\\n}\\n.resources mat-card-subtitle {\\n  position: absolute;\\n  top: 8px;\\n  right: 10px;\\n  font-weight: bold;\\n}\\n.resources .resource-button {\\n  position: relative;\\n  cursor: pointer;\\n  margin: .5em;\\n  padding: .4em 0;\\n  height: 3.6em;\\n  width: 100%;\\n  border-radius: 4px;\\n}\\n.resources .resource-button.warn {\\n  background-color: darkred;\\n}\\n.resources .resource-button:hover {\\n  left: .1em;\\n}\\n.resources .resource-button.mat-disabled,\\n.resources .resource-button[disabled] {\\n  cursor: default;\\n  color: black;\\n}\\n.resources .badge {\\n  display: inline-block;\\n  font-size: small;\\n  color: white;\\n  padding: 0.8em 0.7em 0 0.7em;\\n  background-color: #607D8B;\\n  line-height: 1em;\\n  position: absolute;\\n  right: -9px;\\n  top: 1px;\\n  height: 1.8em;\\n  min-width: 16px;\\n  text-align: center;\\n  margin-right: .8em;\\n  border-radius: 0 4px 4px 0;\\n}\\n.button-container {\\n  position: relative;\\n}\\n.travelling-count {\\n  position: absolute;\\n  top: 22px;\\n  left: 50px;\\n}\\n.resource-button {\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n  font-family: Arial;\\n}\\n.resources button.resource-button.currency-button {\\n  width: 95%;\\n  cursor: auto;\\n\\n  z-index: 2;\\n\\n  position: -webkit-sticky;\\n\\n  position: sticky;\\n  top: 0;\\n  left: 5%;\\n\\n  background-color: #eee;\\n  color: black;\\n}\\n.currency-button:hover {\\n  left: unset;\\n}\\n.harvest-progress {\\n  display: flex;\\n  align-content: center;\\n  align-items: center;\\n\\n  height: 100%;\\n  top: 0px;\\n\\n  position: absolute;\\n  opacity: 0.5;\\n}\\n.resource-img {\\n  position: absolute;\\n\\n  top: 0;\\n  left: 0;\\n}\\n.key-container {\\n  position: absolute;\\n  left: 50px;\\n}\\n.key-container img {\\n  width: 24px;\\n  height: 24px;\\n}\\n.key-container p {\\n  z-index: 1;\\n  position: absolute;\\n\\n  top: 9px;\\n  right: 5px;\\n\\n  margin: 0;\\n  line-height: 0;\\n}\\n\"","module.exports = \"<ul class=\\\"resources noselect\\\">\\n  <button mat-raised-button disabled=\\\"true\\\" class=\\\"resource-button currency-button wood\\\" [ngClass]=\\\"{'warn': resourceIsBeingStolen(goldResource)}\\\">\\n    <mat-card-title class=\\\"button-text\\\">{{goldResource.name | titlecase }}</mat-card-title>\\n    <mat-card-subtitle class=\\\"button-text-background\\\">{{goldResource.amount | longNumber}}</mat-card-subtitle>\\n\\n    <div class=\\\"harvest-icon-container\\\">\\n      <img id=\\\"{{goldResource.name | resourceId}}\\\" class=\\\"resource-img\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{goldResource.name}}\\\">\\n    </div>\\n  </button>\\n\\n  <mat-accordion multi=\\\"true\\\" *ngIf=\\\"organizeLeftPanelByType\\\">\\n    <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\" *ngFor=\\\"let resourceType of resourceTypes | enumToArray\\\">\\n      <mat-expansion-panel-header *ngIf=\\\"resourceType !== 'Currency'\\\">\\n        <mat-panel-title class=\\\"button-text-background\\\">\\n          {{resourceType}}\\n        </mat-panel-title>\\n        <mat-panel-description>\\n        </mat-panel-description>\\n      </mat-expansion-panel-header>\\n\\n      <div class='button-container' *ngFor=\\\"let resource of getResources(resourceType, adminService.filterAccessible)\\\"\\n        matTooltip=\\\"{{getTooltipMessage(resource)}}\\\" matTooltipPosition=\\\"right\\\">\\n        <button mat-raised-button class=\\\"resource-button wood\\\" [ngClass]=\\\"{'warn': resourceIsBeingStolen(resource)}\\\"\\n          [disabled]=\\\"!canHarvest(resource, resource.harvestYield)\\\" (click)='startHarvesting(resource)'\\n          *ngIf=\\\"resource.resourceType != 'CURRENCY' && resource.resourceTier <= resourcesService.highestTierReached + 1\\\">\\n          <div class=\\\"key-container\\\" *ngIf=\\\"resource.bindIndex >= 0\\\">\\n            <img src=\\\"./assets/sprites/key.png\\\">\\n            <p>{{resource.bindIndex}}</p>\\n          </div>\\n\\n          <mat-card-title class=\\\"button-text\\\">{{resource.name | titlecase }}</mat-card-title>\\n          <mat-card-subtitle class=\\\"button-text-background\\\">{{resource.amount | longNumber}}</mat-card-subtitle>\\n          <mat-progress-bar [class.hidden]=\\\"!resource.harvesting\\\" class=\\\"harvest-progress\\\" [value]=\\\"resource.progressBarValue\\\"></mat-progress-bar>\\n\\n          <div class=\\\"harvest-icon-container\\\">\\n            <img id=\\\"{{resource.name | resourceId}}\\\" class=\\\"resource-img\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{resource.name}}\\\">\\n          </div>\\n          <div class='travelling-count button-text' *ngIf=\\\"resource.amountTravelling > 0\\\">{{resource.amountTravelling}}\\n            Travelling</div>\\n        </button>\\n      </div>\\n    </mat-expansion-panel>\\n  </mat-accordion>\\n\\n  <mat-accordion multi=\\\"true\\\" *ngIf=\\\"!organizeLeftPanelByType\\\">\\n      <mat-expansion-panel class=\\\"transparent\\\" expanded=\\\"true\\\" *ngFor=\\\"let resourceTier of tiers\\\">\\n        <mat-expansion-panel-header>\\n          <mat-panel-title class=\\\"button-text-background\\\">\\n            Tier {{resourceTier + 1}}\\n          </mat-panel-title>\\n          <mat-panel-description>\\n          </mat-panel-description>\\n        </mat-expansion-panel-header>\\n\\n        <div class='button-container' *ngFor=\\\"let resource of getResources(undefined, [resourceTier], adminService.filterAccessible)\\\"\\n          matTooltip=\\\"{{getTooltipMessage(resource)}}\\\" matTooltipPosition=\\\"right\\\">\\n          <button mat-raised-button class=\\\"resource-button wood\\\" [ngClass]=\\\"{'warn': resourceIsBeingStolen(resource)}\\\"\\n            [disabled]=\\\"!canHarvest(resource, resource.harvestYield)\\\" (click)='startHarvesting(resource)'\\n            *ngIf=\\\"resource.resourceTier <= resourcesService.highestTierReached + 1 && resource.resourceType != 'CURRENCY'\\\">\\n            <div class=\\\"key-container\\\" *ngIf=\\\"resource.bindIndex >= 0\\\">\\n              <img src=\\\"./assets/sprites/key.png\\\">\\n              <p>{{resource.bindIndex}}</p>\\n            </div>\\n\\n            <mat-card-title class=\\\"button-text\\\">{{resource.name | titlecase }}</mat-card-title>\\n            <mat-card-subtitle class=\\\"button-text-background\\\">{{resource.amount | longNumber}}</mat-card-subtitle>\\n            <mat-progress-bar [class.hidden]=\\\"!resource.harvesting\\\" class=\\\"harvest-progress\\\" [value]=\\\"resource.progressBarValue\\\"></mat-progress-bar>\\n\\n            <div class=\\\"harvest-icon-container\\\">\\n              <img id=\\\"{{resource.name | resourceId}}\\\" class=\\\"resource-img\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{resource.name}}\\\">\\n            </div>\\n            <div class='travelling-count button-text' *ngIf=\\\"resource.amountTravelling > 0\\\">{{resource.amountTravelling}}\\n              Travelling</div>\\n          </button>\\n        </div>\\n      </mat-expansion-panel>\\n    </mat-accordion>\\n</ul>\\n\"","import { Component, OnInit, } from '@angular/core';\n\nimport { HarvestService } from '../../services/harvest/harvest.service';\nimport { SettingsService } from '../../services/settings/settings.service';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { ResourceEnum } from '../../objects/resourceData';\nimport { Resource } from '../../objects/resource';\nimport { ResourceType } from '../../objects/resourceData';\nimport { WorkersService } from '../../services/workers/workers.service';\nimport { TooltipService } from '../../services/tooltip/tooltip.service';\nimport { MapService } from '../../services/map/map.service';\nimport { EnemyService } from '../../services/enemy/enemy.service';\nimport { AdminService } from '../../services/admin/admin.service';\nimport { TickService } from '../../services/tick/tick.service';\n\n@Component({\n  selector: 'app-harvest',\n  templateUrl: './harvest.component.html',\n  styleUrls: ['./harvest.component.css']\n})\nexport class HarvestComponent implements OnInit {\n  resourceTypes = ResourceType;\n\n  constructor(protected harvestService: HarvestService,\n              protected settingsService: SettingsService,\n              protected resourcesService: ResourcesService,\n              protected workersService: WorkersService,\n              protected tooltipService: TooltipService,\n              protected mapService: MapService,\n              protected enemyService: EnemyService,\n              protected adminService: AdminService,\n              protected tickService: TickService) { }\n\n  ngOnInit() {\n  }\n\n  getResources(resourceType: ResourceType, resourceTiers?: number[], filterByAccessible = true): Resource[] {\n    return this.resourcesService.getResources(this.resourceTypes[resourceType], resourceTiers, false, filterByAccessible);\n  }\n\n  public getTooltipMessage(resource: Resource): string {\n    return this.tooltipService.getResourceTooltip(resource);\n  }\n\n  canHarvest(resource: Resource, multiplier: number): boolean {\n    return !resource.harvesting && resource.canHarvest(multiplier);\n  }\n\n  startHarvesting(resource: Resource) {\n    this.harvestService.startHarvesting(resource);\n  }\n\n  resourceIsBeingStolen(resource: Resource): boolean {\n    return this.enemyService.resourceIsBeingStolen(resource);\n  }\n\n  harvestResource(resource: Resource) {\n    this.harvestService.harvestResource(resource);\n  }\n\n  get goldResource(): Resource {\n    return this.resourcesService.resources.get(ResourceEnum.Gold);\n  }\n\n  get tiers(): number[] {\n    return this.resourcesService.tiers;\n  }\n\n  get organizeLeftPanelByType(): boolean {\n    return this.settingsService.organizeLeftPanelByType;\n  }\n}\n","module.exports = \"/* MapComponent's private CSS styles */\\nh1 {\\n  font-size: 1.2em;\\n  color: #999;\\n  margin-bottom: 0;\\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\n}\\nh2 {\\n  font-size: 2em;\\n  margin-top: 0;\\n  padding-top: 0;\\n}\\nh3 {\\n  font-family: Arial, Helvetica, sans-serif;\\n}\\nnav a {\\n  padding: 5px 10px;\\n  text-decoration: none;\\n  margin-top: 10px;\\n  display: inline-block;\\n  background-color: #eee;\\n  border-radius: 4px;\\n}\\nnav a:visited, a:link {\\n  color: #607d8b;\\n}\\nnav a:hover {\\n  color: #039be5;\\n  background-color: #cfd8dc;\\n}\\nnav a.active {\\n  color: #039be5;\\n}\\n#map-canvas-container {\\n  display: flex;\\n  height: 100%;\\n  position: relative;\\n  overflow: hidden;\\n}\\n#minimap-canvas-container {\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n\\n  width: 375px;\\n  height: 375px;\\n}\\n#minimap-canvas-container canvas {\\n  position: absolute;\\n\\n  background: transparent;\\n}\\n.cursor-tools {\\n  position: absolute;\\n  top: 0;\\n\\n  overflow-x: auto;\\n  max-width: 100%;\\n\\n  background: white;\\n}\\n.key-container {\\n  position: absolute;\\n}\\n.key-container img {\\n  width: 24px;\\n  height: 24px;\\n}\\n.key-container p {\\n  z-index: 1;\\n  position: absolute;\\n\\n  top: 10px;\\n  right: 3px;\\n\\n  margin: 0;\\n  line-height: 0;\\n}\\n.mat-button-toggle mat-icon {\\n  color: gray;\\n}\\n.mat-button-toggle-checked mat-icon {\\n  color: #ffd740;\\n}\\n\"","module.exports = \"<div id=\\\"map-canvas-container\\\" tabindex=\\\"1\\\" oncontextmenu=\\\"return false;\\\">\\n  <mat-button-toggle-group #group=\\\"matButtonToggleGroup\\\" [(ngModel)]=\\\"mapService.cursorTool\\\" class=\\\"cursor-tools\\\"\\n    (valueChange)=\\\"clearFocus()\\\">\\n    <mat-button-toggle value=\\\"PLACEBUILDINGS\\\" class=\\\"cursor-tool wood\\\" (click)=\\\"setPlacementGroupVisibility(!mapService.buildingListVisible, false)\\\">\\n      <div class=\\\"key-container\\\">\\n        <img src=\\\"./assets/sprites/key.png\\\">\\n        <p>Q</p>\\n      </div>\\n      <mat-icon class=\\\"button-text-background\\\">add_photo_alternate</mat-icon>\\n      <br />\\n      <div class=\\\"button-text\\\">\\n        Place Buildings\\n      </div>\\n    </mat-button-toggle>\\n    <mat-button-toggle value=\\\"CLEARBUILDINGS\\\" class=\\\"cursor-tool wood\\\" (click)=\\\"setPlacementGroupVisibility(false, false)\\\">\\n      <div class=\\\"key-container\\\">\\n        <img src=\\\"./assets/sprites/key.png\\\">\\n        <p>W</p>\\n      </div>\\n      <mat-icon class=\\\"button-text-background\\\">delete</mat-icon>\\n      <br />\\n      <div class=\\\"button-text\\\">\\n        Clear Buildings\\n      </div>\\n    </mat-button-toggle>\\n    <mat-button-toggle value=\\\"TILEDETAIL\\\" class=\\\"cursor-tool wood\\\" (click)=\\\"setPlacementGroupVisibility(false, false)\\\">\\n      <div class=\\\"key-container\\\">\\n        <img src=\\\"./assets/sprites/key.png\\\">\\n        <p>E</p>\\n      </div>\\n      <mat-icon class=\\\"button-text-background\\\">mode_comment</mat-icon>\\n      <br />\\n      <div class=\\\"button-text\\\">\\n        Tile Details\\n      </div>\\n    </mat-button-toggle>\\n    <mat-button-toggle *ngIf=\\\"enemyService.enemiesActive\\\" value=\\\"PLACEFIGHTERS\\\" class=\\\"cursor-tool wood\\\" (click)=\\\"setPlacementGroupVisibility(false, !this.mapService.fighterListVisible)\\\">\\n      <div class=\\\"key-container\\\">\\n        <img src=\\\"./assets/sprites/key.png\\\">\\n        <p>R</p>\\n      </div>\\n      <mat-icon class=\\\"button-text-background\\\">directions_walk</mat-icon>\\n      <br />\\n      <div class=\\\"button-text\\\">\\n        Place Fighters\\n      </div>\\n    </mat-button-toggle>\\n    <mat-button-toggle *ngIf=\\\"enemyService.enemiesActive\\\" value=\\\"FIGHTERDETAIL\\\" class=\\\"cursor-tool wood\\\" (click)=\\\"setPlacementGroupVisibility(false, false)\\\">\\n      <div class=\\\"key-container\\\">\\n        <img src=\\\"./assets/sprites/key.png\\\">\\n        <p>T</p>\\n      </div>\\n      <mat-icon class=\\\"button-text-background\\\">directions_run</mat-icon>\\n      <br />\\n      <div class=\\\"button-text\\\">\\n        Fighter Details\\n      </div>\\n    </mat-button-toggle>\\n  </mat-button-toggle-group>\\n\\n  <app-buildings *ngIf=\\\"mapService.buildingListVisible\\\"></app-buildings>\\n  <app-fighter *ngIf=\\\"mapService.fighterListVisible\\\"></app-fighter>\\n\\n  <app-tile-detail [ngClass]=\\\"{'hidden': !mapService.focusedTile}\\\"></app-tile-detail>\\n  <app-fighter-detail [ngClass]=\\\"{'hidden': !mapService.focusedFighter}\\\"></app-fighter-detail>\\n</div>\\n\"","import { Component } from '@angular/core';\n\nimport { MapTileType, BuildingTileType } from '../../objects/tile';\nimport { MapService } from '../../services/map/map.service';\nimport { BuildingsService } from './../../services/buildings/buildings.service';\nimport { EnemyService } from './../../services/enemy/enemy.service';\nimport { AdminService } from '../../services/admin/admin.service';\nimport { ResourcesService } from '../../services/resources/resources.service';\n\ndeclare var d3: any;\n\n@Component({\n  selector: 'app-map',\n  templateUrl: './map.component.html',\n  styleUrls: ['./map.component.css']\n})\nexport class MapComponent {\n  mapTileTypes = MapTileType;\n  buildingTileTypes = BuildingTileType;\n\n  constructor(public mapService: MapService,\n              public buildingsService: BuildingsService,\n              public resourcesService: ResourcesService,\n              public enemyService: EnemyService,\n              public adminService: AdminService) { }\n\n  clearFocus() {\n    this.mapService.focusedTile = undefined;\n    this.mapService.focusedFighter = undefined;\n  }\n\n  setPlacementGroupVisibility(buildingVisibility: boolean, fighterVisibility: boolean) {\n    this.mapService.buildingListVisible = buildingVisibility;\n    this.mapService.fighterListVisible = fighterVisibility;\n  }\n}\n","module.exports = \"/* MessagesComponent's private CSS styles */\\nh2 {\\n  color: red;\\n  font-family: Arial, Helvetica, sans-serif;\\n  font-weight: lighter;\\n}\\nbody {\\n  margin: 2em;\\n}\\nbody, input[text], button {\\n  color: crimson;\\n  font-family: Cambria, Georgia;\\n}\\nbutton.clear {\\n  font-family: Arial;\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n}\\nbutton:hover {\\n  background-color: #cfd8dc;\\n}\\nbutton:disabled {\\n  background-color: #eee;\\n  color: #aaa;\\n  cursor: auto;\\n}\\nbutton.clear {\\n  color: #888;\\n  margin-bottom: 12px;\\n}\\ntable.message-table {\\n  width: 100%;\\n}\\n\"","module.exports = \"<table mat-table [dataSource]=\\\"messagesService.messagesDataSource\\\" matSort matSortActive=\\\"timestamp\\\" matSortDirection=\\\"desc\\\" class=\\\"message-table mat-elevation-z8\\\">\\n    <ng-container matColumnDef=\\\"source\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header> Source </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let message\\\"> {{message.source | titlecase}} </mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"timestamp\\\">\\n        <mat-header-cell *matHeaderCellDef mat-sort-header> Timestamp </mat-header-cell>\\n        <mat-cell *matCellDef=\\\"let message\\\"> {{message.timestamp | date:'h:mm a'}} </mat-cell>\\n    </ng-container>\\n\\n    <ng-container matColumnDef=\\\"message\\\">\\n      <mat-header-cell *matHeaderCellDef mat-sort-header> Message </mat-header-cell>\\n      <mat-cell *matCellDef=\\\"let message\\\"> {{message.message}} </mat-cell>\\n    </ng-container>\\n\\n    <mat-header-row *matHeaderRowDef=\\\"displayedColumns\\\" class=\\\"wood\\\"></mat-header-row>\\n    <mat-row *matRowDef=\\\"let row; columns: displayedColumns;\\\" class=\\\"steel\\\"></mat-row>\\n  </table>\\n\"","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { MatSort } from '@angular/material';\n\nimport { Message, MessageSource } from './../../objects/message';\nimport { MessagesService } from '../../services/messages/messages.service';\n\n@Component({\n  selector: 'app-messages',\n  templateUrl: './messages.component.html',\n  styleUrls: ['./messages.component.css']\n})\nexport class MessagesComponent implements OnInit {\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(public messagesService: MessagesService) { }\n\n  ngOnInit() {\n    this.messagesService.messagesDataSource.sort = this.sort;\n  }\n\n  get messages(): Message[] {\n    return this.messagesService.messages;\n  }\n\n  get displayedColumns(): string[] {\n    return ['source', 'timestamp', 'message'];\n  }\n}\n","module.exports = \".full-width {\\n  width: 100%;\\n}\\n\"","module.exports = \"<div *ngIf=\\\"!exportMode\\\">\\n  Paste Save\\n  <mat-form-field class=\\\"full-width\\\">\\n    <input matInput placeholder=\\\"Save Data\\\" [(ngModel)]=\\\"saveData\\\" (submit)=\\\"exportData()\\\">\\n  </mat-form-field>\\n\\n  <div>\\n    <button mat-raised-button color=\\\"accent\\\" (click)=\\\"exportData()\\\">Load</button>\\n    <button mat-raised-button (click)=\\\"onNoClick()\\\">Cancel</button>\\n  </div>\\n</div>\\n\\n<div *ngIf=\\\"exportMode\\\" style=\\\"word-wrap: break-word\\\">\\n  <textarea readonly id=\\\"saveData\\\" class=\\\"full-width\\\">{{saveData}}</textarea>\\n  <div>\\n    <button mat-raised-button class=\\\"copy-button\\\" color=\\\"accent\\\" data-clipboard-action=\\\"copy\\\" data-clipboard-target=\\\"#saveData\\\">Copy to Clipboard</button>\\n    <button mat-raised-button (click)=\\\"onNoClick()\\\">Close</button>\\n  </div>\\n</div>\\n\"","import { Component, OnInit, Inject } from '@angular/core';\nimport { MatDialogRef, MAT_DIALOG_DATA } from '@angular/material';\n\nimport * as ClipboardJS from 'clipboard';\n\n@Component({\n  selector: 'app-save-dialog',\n  templateUrl: './save-dialog.component.html',\n  styleUrls: ['./save-dialog.component.css']\n})\nexport class SaveDialogComponent implements OnInit {\n  saveData: string;\n  exportMode = false;\n  clipboard;\n\n  constructor(public dialogRef: MatDialogRef<SaveDialogComponent>,\n              @Inject(MAT_DIALOG_DATA) public data: any) { }\n\n  ngOnInit() {\n    if (this.data.saveData !== undefined) {\n      this.saveData = this.data.saveData;\n      this.exportMode = true;\n\n      this.clipboard = new ClipboardJS('.copy-button');\n    }\n  }\n\n  exportData() {\n    this.dialogRef.close(this.saveData);\n  }\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n}\n","module.exports = \"h1 {\\n  font-size: 1.2em;\\n  color: #999;\\n  margin-bottom: 0;\\n  font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;\\n}\\n\\nh2 {\\n  font-size: 2em;\\n  margin-top: 0;\\n  padding-top: 0;\\n}\\n\\na {\\n  padding: 5px 10px;\\n  text-decoration: none;\\n  display: inline-block;\\n  color: #607d8b;\\n  background-color: #eee;\\n  border-radius: 4px;\\n  cursor: pointer;\\n}\\n\\na:visited, a:link {\\n  color: #607d8b;\\n}\\n\\na:hover {\\n  color: #039be5;\\n  background-color: #cfd8dc;\\n}\\n\\na.active {\\n  color: #039be5;\\n}\\n\\nmat-form-field {\\n  background-color: white;\\n\\n  border: gray;\\n  border-width: 2px;\\n  border-style: outset;\\n  border-radius: 7px;\\n}\\n\\nmat-panel-title {\\n  display: -ms-grid;\\n  display: grid;\\n}\\n\\nmat-expansion-panel {\\n  margin: 0;\\n}\\n\\n.color-input {\\n    color: rgb(108, 88, 88);\\n    font-weight: bolder;\\n}\\n\\n.full-width {\\n  width: 100%;\\n}\\n\"","module.exports = \"<h3 class=\\\"button-text-background\\\">\\n  Version {{settingsService.gameVersion}} -\\n  <a (click)=\\\"openAboutDialog()\\\">About</a>\\n</h3>\\n\\n<mat-accordion multi=\\\"true\\\">\\n  <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title>\\n        <mat-icon color=\\\"primary\\\">save</mat-icon>\\n        Save/Load\\n      </mat-panel-title>\\n    </mat-expansion-panel-header>\\n\\n    <mat-form-field class=\\\"full-width\\\">\\n      Autosave Interval (Minutes)\\n      <br />\\n      <br />\\n\\n      <mat-select [(ngModel)]=\\\"autosaveInterval\\\" (valueChange)=\\\"settingsService.setAutosave()\\\">\\n        <mat-option [value]=\\\"-1\\\">Disable</mat-option>\\n        <mat-option [value]=\\\"60000\\\">1</mat-option>\\n        <mat-option [value]=\\\"900000\\\">15</mat-option>\\n        <mat-option [value]=\\\"1800000\\\">30</mat-option>\\n        <mat-option [value]=\\\"3600000\\\">60</mat-option>\\n      </mat-select>\\n    </mat-form-field>\\n\\n    <button mat-raised-button color=\\\"primary\\\" (click)=\\\"saveGame()\\\">Save</button>\\n    <button mat-raised-button color=\\\"warn\\\" (click)=\\\"deleteGame()\\\">Delete Save</button>\\n\\n    <button mat-raised-button (click)=\\\"exportSave()\\\">Export Save</button>\\n    <button mat-raised-button (click)=\\\"importSave()\\\">Import Save</button>\\n  </mat-expansion-panel>\\n\\n  <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title>\\n        <mat-icon color=\\\"primary\\\">list</mat-icon>\\n        Interface\\n      </mat-panel-title>\\n    </mat-expansion-panel-header>\\n\\n    <!-- <mat-checkbox [(ngModel)]=\\\"disableAnimations\\\">Disable Animations</mat-checkbox>\\n    <br /> -->\\n    <mat-checkbox [(ngModel)]=\\\"slimInterface\\\">Slim Mode</mat-checkbox>\\n    <br />\\n    <mat-checkbox [(ngModel)]=\\\"organizeLeftPanelByType\\\">Organize Left Pane By Resource Type</mat-checkbox>\\n\\n    <mat-form-field class=\\\"full-width\\\">\\n      Resource Shortcuts\\n      <br />\\n      <br />\\n\\n      <mat-select [formControl]=\\\"bindSelected\\\" multiple (selectionChange)=\\\"resourceBindChange($event)\\\">\\n        <mat-option *ngFor=\\\"let resource of resourcesService.getResources(false, false, true)\\\" [(value)]=\\\"resource.resourceEnum\\\">\\n          {{resource.name | titlecase}}\\n        </mat-option>\\n      </mat-select>\\n      <mat-error *ngIf=\\\"bindSelected.hasError('length')\\\">\\n        No more than 10 resource shortcuts allowed.\\n      </mat-error>\\n    </mat-form-field>\\n\\n  </mat-expansion-panel>\\n\\n  <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title>\\n        <mat-icon color=\\\"primary\\\">assessment</mat-icon>\\n        Log\\n      </mat-panel-title>\\n    </mat-expansion-panel-header>\\n\\n    <button mat-raised-button (click)=\\\"messagesService.clear()\\\">Clear</button>\\n\\n    <br />\\n\\n    <mat-form-field class=\\\"full-width\\\">\\n      Log History\\n      <br />\\n      <br />\\n\\n      <input matInput type=\\\"number\\\" placeholder=\\\"Log History\\\" min=\\\"0\\\" max=\\\"10000\\\" [(ngModel)]=\\\"messagesService.messageLimit\\\">\\n    </mat-form-field>\\n\\n    <br />\\n\\n    <mat-form-field class=\\\"full-width\\\">\\n      Visible Log Sources\\n      <br />\\n      <br />\\n\\n      <mat-select [(ngModel)]=\\\"messagesService.visibleSources\\\" (ngModelChange)=\\\"messagesService.getFilteredMessages()\\\"\\n        multiple>\\n        <mat-option *ngFor=\\\"let messageSource of messageSources | enumToArray\\\" [(value)]=\\\"messageSources[messageSource]\\\">\\n          {{messageSource | titlecase}}\\n        </mat-option>\\n      </mat-select>\\n    </mat-form-field>\\n  </mat-expansion-panel>\\n\\n  <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title>\\n        <mat-icon color=\\\"primary\\\">bug_report</mat-icon>\\n        Debug\\n      </mat-panel-title>\\n    </mat-expansion-panel-header>\\n\\n    <mat-checkbox [(ngModel)]=\\\"debugMode\\\">Debug Mode</mat-checkbox>\\n  </mat-expansion-panel>\\n</mat-accordion>\\n\"","import { Component, AfterViewInit } from '@angular/core';\nimport { FormControl } from '@angular/forms';\nimport { MatSelectChange } from '@angular/material';\n\nimport { SettingsService } from '../../services/settings/settings.service';\nimport { MapService } from './../../services/map/map.service';\nimport { ResourcesService } from './../../services/resources/resources.service';\nimport { MessagesService } from './../../services/messages/messages.service';\nimport { ResourceEnum } from '../../objects/resourceData';\nimport { MessageSource } from './../../objects/message';\n\n@Component({\n  selector: 'app-settings',\n  templateUrl: './settings.component.html',\n  styleUrls: ['./settings.component.css']\n})\nexport class SettingsComponent implements AfterViewInit {\n  messageSources = MessageSource;\n  resourceBindErrorState = false;\n\n  constructor(public settingsService: SettingsService,\n              public mapService: MapService,\n              public resourcesService: ResourcesService,\n              public messagesService: MessagesService) {\n  }\n\n  ngAfterViewInit() {\n    this.waitForMapAndLoad();\n    this.setAutosave();\n  }\n\n  setAutosave() {\n    this.settingsService.setAutosave();\n  }\n\n  saveGame() {\n    this.settingsService.saveGame();\n  }\n\n  waitForMapAndLoad() {\n    setTimeout(_ => this.loadGame(), 1000);\n  }\n\n  loadGame() {\n    if (this.mapService.mapCreated) {\n      this.settingsService.loadGame();\n\n      this.bindSelected.setValue(this.resourceBinds);\n      this.resourceBindChange({'source': null, 'value': this.resourceBinds});\n    } else {\n      setTimeout(_ => this.loadGame(), 1000);\n    }\n  }\n\n  deleteGame() {\n    if (confirm('Are you sure you want to delete your save?')) {\n      this.settingsService.deleteSave();\n    }\n  }\n\n  resourceBindChange(event: MatSelectChange) {\n    this.settingsService.resourceBindChange(event);\n  }\n\n  openAboutDialog() {\n    this.settingsService.openAboutDialog();\n  }\n\n  exportSave() {\n    this.settingsService.openSaveDialog(this.settingsService.exportSave());\n  }\n\n  importSave() {\n    this.settingsService.openSaveDialog();\n  }\n\n  get bindSelected() {\n    return this.settingsService.bindSelected;\n  }\n\n  get autosaveInterval() {\n    return this.settingsService.autosaveInterval;\n  }\n  set autosaveInterval(value: number) {\n    this.settingsService.autosaveInterval = value;\n  }\n\n  get debugMode(): boolean {\n    return this.settingsService.debugMode;\n  }\n  set debugMode(value: boolean) {\n    this.settingsService.debugMode = value;\n  }\n\n  get mapLowFramerate(): boolean {\n    return this.settingsService.mapLowFramerate;\n  }\n  set mapLowFramerate(value: boolean) {\n    this.settingsService.mapLowFramerate = value;\n  }\n\n  get resourceAnimationColors() {\n    return this.settingsService.resourceAnimationColors;\n  }\n  set resourceAnimationColors(value) {\n    this.settingsService.resourceAnimationColors = value;\n  }\n\n  get slimInterface(): boolean {\n    return this.settingsService.slimInterface;\n  }\n  set slimInterface(value: boolean) {\n    this.settingsService.slimInterface = value;\n  }\n\n  get organizeLeftPanelByType(): boolean {\n    return this.settingsService.organizeLeftPanelByType;\n  }\n  set organizeLeftPanelByType(value: boolean) {\n    this.settingsService.organizeLeftPanelByType = value;\n  }\n\n  get disableAnimations(): boolean {\n    return this.settingsService.disableAnimations;\n  }\n  set disableAnimations(value: boolean) {\n    this.settingsService.disableAnimations = value;\n  }\n\n  get resourceBinds(): ResourceEnum[] {\n    return this.settingsService.resourceBinds;\n  }\n  set resourceBinds(value: ResourceEnum[]) {\n    this.settingsService.resourceBinds = value;\n  }\n}\n","module.exports = \"/* StoreComponent's private CSS styles */\\n.store {\\n  margin: 0 0 2em 0;\\n  list-style-type: none;\\n  padding: 0;\\n\\n  width: 100%;\\n  height: 100%;\\n}\\n.store mat-expansion-panel {\\n  margin: 0;\\n}\\n.store mat-expansion-panel-header {\\n  height: 30px !important;\\n}\\n.store mat-card-subtitle {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n}\\n.store mat-card {\\n  position: relative;\\n  cursor: pointer;\\n  background-color: #EEE;\\n  margin: .5em;\\n  padding: .4em 0;\\n  height: 1.6em;\\n  border-radius: 4px;\\n}\\n.store mat-card:hover {\\n  color: #607D8B;\\n  background-color: #DDD;\\n  left: .1em;\\n}\\n.store a {\\n  color: #888;\\n  text-decoration: none;\\n  position: relative;\\n  display: block;\\n  width: 250px;\\n}\\n.store a:hover {\\n  color:#607D8B;\\n}\\n.store .harvestable {\\n  background-color: antiquewhite;\\n}\\n.store .harvestable:hover {\\n  background-color: blanchedalmond;\\n}\\n.store .badge {\\n  display: inline-block;\\n  font-size: small;\\n  color: white;\\n  padding: 0.8em 0.7em 0 0.7em;\\n  background-color: #607D8B;\\n  line-height: 1em;\\n  position: absolute;\\n  right: -9px;\\n  top: 1px;\\n  height: 1.8em;\\n  min-width: 16px;\\n  text-align: center;\\n  margin-right: .8em;\\n  border-radius: 0 4px 4px 0;\\n}\\n.right {\\n  position: absolute;\\n  right: 3px;\\n  top: 3px;\\n}\\nbutton {\\n  min-width: unset;\\n  height: 27px;\\n  line-height: unset;\\n}\\nbutton:hover {\\n  background-color: #cfd8dc;\\n}\\nbutton.delete {\\n  position: relative;\\n  left: 194px;\\n  top: -32px;\\n  background-color: gray !important;\\n  color: white;\\n}\\n.full-width {\\n  width: 100%;\\n}\\n.sell-button {\\n  width: 80%;\\n  top: -5px;\\n}\\n.sell-button mat-panel-title {\\n  text-align: center;\\n  display: block;\\n}\\n.cutoff-input {\\n  width: 20%;\\n  height: 40px;\\n  background-color: wheat;\\n}\\n\"","module.exports = \"<div style=\\\"display: flex\\\">\\n  <div class=\\\"button-text-background\\\">\\n    Amount to sell:\\n  </div>\\n  <mat-button-toggle-group #group=\\\"matButtonToggleGroup\\\" [(ngModel)]=\\\"sellAmount\\\" class=\\\"wood\\\">\\n    <mat-button-toggle value=\\\"1\\\" checked=\\\"true\\\" class=\\\"button-text\\\">\\n      1x\\n    </mat-button-toggle>\\n    <mat-button-toggle value=\\\"10\\\" class=\\\"button-text\\\">\\n      10x\\n    </mat-button-toggle>\\n    <mat-button-toggle value=\\\"100\\\" class=\\\"button-text\\\">\\n      100x\\n    </mat-button-toggle>\\n    <mat-button-toggle value=\\\"1000\\\" class=\\\"button-text\\\">\\n      1000x\\n    </mat-button-toggle>\\n    <mat-button-toggle value=\\\"-1\\\" class=\\\"button-text\\\">\\n      All\\n    </mat-button-toggle>\\n  </mat-button-toggle-group>\\n</div>\\n\\n<ul class=\\\"store\\\">\\n  <mat-accordion multi=\\\"true\\\">\\n    <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\" *ngFor=\\\"let resourceType of sellableTypes\\\">\\n      <mat-expansion-panel-header>\\n        <mat-panel-title  class=\\\"button-text-background\\\">\\n          {{resourceType | titlecase}}\\n        </mat-panel-title>\\n      </mat-expansion-panel-header>\\n\\n      <div *ngFor=\\\"let resource of getResources(resourceType, false, adminService.filterAccessible)\\\">\\n        <button class=\\\"sell-button wood\\\" color=\\\"accent\\\" mat-raised-button *ngIf=\\\"resource.sellable\\\" (click)=\\\"sellResource(resource)\\\"\\n          [disabled]=\\\"!canSellResource(resource)\\\">\\n          <mat-panel-title class=\\\"button-text\\\">\\n            {{(sellAmount == -1 ? resource.amount : sellAmount) | longNumber}} {{resource.name | titlecase }} -\\n            {{resource.sellsFor * (+sellAmount === -1 ? resource.amount : sellAmount) | longNumber}} Gold\\n          </mat-panel-title>\\n        </button>\\n        <button disabled class=\\\"sell-button wood\\\" color=\\\"warn\\\" mat-raised-button *ngIf=\\\"!resource.sellable\\\">\\n          <mat-panel-title class=\\\"button-text\\\">\\n            {{(sellAmount == -1 ? resource.amount : sellAmount) | longNumber}} {{resource.name | titlecase }} -\\n            Unsellable\\n          </mat-panel-title>\\n        </button>\\n        <mat-form-field class=\\\"cutoff-input steel\\\">\\n          <input matInput placeholder=\\\"Autosell Cutoff\\\" type=\\\"number\\\" min=\\\"0\\\" [disabled]=\\\"!resource.sellable\\\" [(ngModel)]=\\\"resource.autoSellCutoff\\\" />\\n        </mat-form-field>\\n      </div>\\n    </mat-expansion-panel>\\n  </mat-accordion>\\n</ul>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { Resource } from '../../objects/resource';\nimport { ResourceType } from '../../objects/resourceData';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { StoreService } from '../../services/store/store.service';\nimport { AdminService } from '../../services/admin/admin.service';\n\n@Component({\n  selector: 'app-store',\n  templateUrl: './store.component.html',\n  styleUrls: ['./store.component.css']\n})\nexport class StoreComponent implements OnInit {\n  resourceTypes = ResourceType;\n  sellableTypes = [ResourceType.Wood, ResourceType.Mineral, ResourceType.Metal];\n  sellAmount = 1;\n\n  constructor(private resourcesService: ResourcesService,\n              private storeService: StoreService,\n              private adminService: AdminService) {\n  }\n\n  ngOnInit() {\n  }\n\n  canSellResource(resource: Resource) {\n    return this.storeService.canSellResource(resource, +this.sellAmount);\n  }\n\n  getResources(resourceType: ResourceType, filterBySellable: boolean, filterByAccessible): Resource[] {\n    return this.resourcesService.getResources(resourceType, undefined, filterBySellable, filterByAccessible);\n  }\n\n  sellResource(resource: Resource) {\n    this.storeService.sellResource(resource, +this.sellAmount);\n  }\n}\n","module.exports = \"#tile-tooltip {\\n  left: 0;\\n  bottom: 0;\\n\\n  position: absolute;\\n}\\n\\nmat-card {\\n  text-align: center;\\n}\\n\\n.resource-list div {\\n  display: inline-block;\\n}\\n\\n.resource-list img {\\n  width: 16px;\\n  height: 16px;\\n}\\n\\n.repair-container {\\n  display: inline-flex;\\n  white-space: pre-wrap;\\n}\\n\\n.repair-container button {\\n  position: relative;\\n  top: -25%;\\n}\\n\\n.stats-container {\\n  width: 100%;\\n}\\n\\n.upgrade-button {\\n  width: -webkit-fit-content;\\n  width: -moz-fit-content;\\n  width: fit-content;\\n}\\n\\n.upgrade-button mat-icon {\\n  position: relative;\\n  top: 5px;\\n}\\n\\n.anchor-container {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n\\n  width: 55px;\\n  height: 55px;\\n}\\n\\n.anchor-container #center {\\n  position: absolute;\\n\\n  left: 15px;\\n  top: 15px;\\n}\\n\\n.anchor-container .corner {\\n  display: none;\\n}\\n\\n.anchor-container:hover .corner {\\n  display: inherit;\\n}\\n\\n.anchor-container a {\\n  cursor: pointer;\\n  color: gray;\\n}\\n\\n.anchor-container a .corner:hover {\\n  color: black;\\n}\\n\\n.anchor-container #arrow-upper-left {\\n  -webkit-transform: rotate(225deg);\\n  transform: rotate(225deg);\\n\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n\\n.anchor-container #arrow-upper-right {\\n  -webkit-transform: rotate(315deg);\\n  transform: rotate(315deg);\\n\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n}\\n\\n.anchor-container #arrow-lower-left {\\n  -webkit-transform: rotate(135deg);\\n  transform: rotate(135deg);\\n\\n  position: absolute;\\n  bottom: 0;\\n  left: 0;\\n}\\n\\n.anchor-container #arrow-lower-right {\\n  -webkit-transform: rotate(45deg);\\n  transform: rotate(45deg);\\n\\n  position: absolute;\\n  bottom: 0;\\n  right: 0;\\n}\\n\\n#card-header {\\n  float: left;\\n  max-width: 250px;\\n\\n  padding-right: 5px;\\n}\\n\\n#card-content {\\n  float: right;\\n\\n  border: burlywood;\\n  border-width: 0 0 0 1px;\\n  border-style: solid;\\n\\n  padding-left: 5px;\\n}\\n\"","module.exports = \"<mat-card id=\\\"tile-tooltip\\\" class=\\\"steel\\\">\\n  <div id=\\\"card-header\\\">\\n    <div *ngIf=\\\"focusedBuildingNode\\\">\\n      <mat-card-title class=\\\"button-text-background\\\">{{focusedBuildingData.name}}</mat-card-title>\\n      <mat-card-subtitle class=\\\"button-text\\\">{{focusedBuildingData.description}}</mat-card-subtitle>\\n      <div class=\\\"repair-container\\\">\\n        {{focusedBuildingNode.health}}/{{focusedBuildingNode.maxHealth}} Health\\n        <div *ngIf=\\\"focusedBuildingNode.health < focusedBuildingNode.maxHealth\\\">\\n          <button mat-raised-button (click)=\\\"repairBuilding(focusedBuildingNode)\\\" color=\\\"accent\\\" [disabled]=\\\"!canRepairBuilding(focusedBuildingNode)\\\">\\n            Repair\\n            <div class=\\\"resource-list\\\">\\n              <div matTooltip=\\\"{{focusedBuildingData.repairCostPerPoint * (focusedBuildingNode.maxHealth - focusedBuildingNode.health)}} {{getResource(focusedBuildingData.repairResourceEnum).name | titlecase}}\\\"\\n                matTooltipPosition=\\\"below\\\">\\n                <img id=\\\"{{getResource(focusedBuildingData.repairResourceEnum).name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\"\\n                  src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource(focusedBuildingData.repairResourceEnum).name}}\\\">\\n                {{focusedBuildingData.repairCostPerPoint * (focusedBuildingNode.maxHealth -\\n                focusedBuildingNode.health)}}\\n              </div>\\n            </div>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"!focusedBuildingNode && focusedResourceNode\\\">\\n      <mat-card-title class=\\\"button-text-background\\\">{{focusedResourceData.name}}</mat-card-title>\\n    </div>\\n\\n    <div *ngIf=\\\"focusedResourceNode\\\" class=\\\"resource-list\\\">\\n      <div *ngIf=\\\"focusedResourceNode.path.length\\\">\\n        Travel Time: {{focusedResourceNode.travelMilliseconds / 1000 | longNumber}}\\n        Second{{focusedResourceNode.travelMilliseconds === 1000 ? '' : 's'}}\\n      </div>\\n      <br />\\n      Produces:\\n      <div *ngFor=\\\"let resource of focusedResources\\\">\\n        <img id=\\\"{{resource.name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\"\\n          alt=\\\"{{resource.name}}\\\"> {{resource.name | titlecase}}\\n      </div>\\n    </div>\\n\\n    <div *ngIf=\\\"marketNode\\\">\\n      Profit (Average of recent sales):\\n      <br />\\n      {{marketNode.averageRecentProfit | longNumber}} {{getResource('GOLD').name | titlecase}}/Second\\n    </div>\\n  </div>\\n\\n  <mat-card-content id=\\\"card-content\\\" *ngIf=\\\"focusedBuildingNode\\\">\\n    <div *ngIf=\\\"focusedBuildingNode && focusedBuildingData.upgradeBuilding\\\">\\n      <button mat-raised-button class=\\\"wood\\\" (click)=\\\"upgradeBuilding(focusedBuildingNode)\\\" [disabled]=\\\"!canAffordUpgrade(upgradedBuildingData)\\\">\\n        <div class=\\\"title button-text\\\" matTooltip=\\\"{{upgradedBuildingData.description}}\\\" matTooltipPosition=\\\"above\\\">\\n          Upgrade to {{upgradedBuildingData.name}}\\n        </div>\\n        <div class=\\\"resource-list\\\">\\n          <div *ngFor=\\\"let resourceCost of upgradedBuildingData.resourceCosts\\\" matTooltip=\\\"{{resourceCost.resourceCost}} {{getResource(resourceCost.resourceEnum).name | titlecase}}\\\"\\n            matTooltipPosition=\\\"below\\\" class=\\\"button-text\\\">\\n            <img id=\\\"{{getResource(resourceCost.resourceEnum).name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\"\\n              alt=\\\"{{getResource(resourceCost.resourceEnum).name}}\\\">\\n            {{resourceCost.resourceCost}}\\n          </div>\\n        </div>\\n      </button>\\n    </div>\\n\\n    <table class=\\\"stats-container\\\">\\n      <tbody>\\n        <tr class=\\\"stat-row\\\">\\n          <td>\\n            <p>\\n              Max Health: {{focusedBuildingNode.maxHealth | longNumber}}\\n            </p>\\n          </td>\\n          <td>\\n            <b>\\n              Level {{focusedBuildingNode.statLevels['MAXHEALTH']}}\\n            </b>\\n          </td>\\n          <td>\\n            <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedBuildingNode.upgradeStat('MAXHEALTH')\\\"\\n              [disabled]=\\\"!focusedBuildingNode.canUpgradeStat('MAXHEALTH')\\\" matTooltip=\\\"Level {{focusedBuildingNode.statLevels['MAXHEALTH'] + 1}}: {{focusedBuildingNode.getUpgradedStat('MAXHEALTH') | longNumber}} Max Health\\\"\\n              matTooltipPosition=\\\"below\\\">\\n              <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n              <div class=\\\"resource-list\\\">\\n                <div class=\\\"button-text\\\">\\n                  <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\"\\n                    alt=\\\"{{getResource('GOLD').name}}\\\">\\n                  {{focusedBuildingNode.statCosts['MAXHEALTH'] | longNumber}}\\n                </div>\\n              </div>\\n            </button>\\n          </td>\\n        </tr>\\n\\n        <tr class=\\\"stat-row\\\" *ngIf=\\\"marketNode\\\">\\n          <td>\\n            <p>\\n              Sell Rate: {{1000 / marketNode.sellInterval | longNumber}} Sale{{marketNode.sellInterval === 1000 ? '' :\\n              's'}}/Second\\n            </p>\\n          </td>\\n          <td>\\n            <b>\\n              Level {{focusedBuildingNode.statLevels['SELLRATE']}}\\n            </b>\\n          </td>\\n          <td>\\n            <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedBuildingNode.upgradeStat('SELLRATE')\\\"\\n              [disabled]=\\\"!focusedBuildingNode.canUpgradeStat('SELLRATE')\\\" matTooltip=\\\"Level {{focusedBuildingNode.statLevels['SELLRATE'] + 1}}: {{1000 / focusedBuildingNode.getUpgradedStat('SELLRATE') | longNumber}} Sales/Second\\\"\\n              matTooltipPosition=\\\"below\\\">\\n              <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n              <div class=\\\"resource-list\\\">\\n                <div class=\\\"button-text\\\">\\n                  <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\"\\n                    alt=\\\"{{getResource('GOLD').name}}\\\">\\n                  {{focusedBuildingNode.statCosts['SELLRATE'] | longNumber}}\\n                </div>\\n              </div>\\n            </button>\\n          </td>\\n        </tr>\\n\\n        <tr class=\\\"stat-row\\\" *ngIf=\\\"marketNode\\\">\\n          <td>\\n            <p>\\n              Sell Amount: {{marketNode.sellQuantity | longNumber}} Items/Sale\\n            </p>\\n          </td>\\n          <td>\\n            <b>\\n              Level {{focusedBuildingNode.statLevels['SELLAMOUNT']}}\\n            </b>\\n          </td>\\n          <td>\\n            <button class=\\\"upgrade-button wood\\\" color=\\\"accent\\\" mat-raised-button (click)=\\\"focusedBuildingNode.upgradeStat('SELLAMOUNT')\\\"\\n              [disabled]=\\\"!focusedBuildingNode.canUpgradeStat('SELLAMOUNT')\\\" matTooltip=\\\"Level {{focusedBuildingNode.statLevels['SELLAMOUNT'] + 1}}: {{focusedBuildingNode.getUpgradedStat('SELLAMOUNT') | longNumber}} Items/Sale\\\"\\n              matTooltipPosition=\\\"below\\\">\\n              <mat-icon color=\\\"primary\\\">arrow_upward</mat-icon>\\n              <div class=\\\"resource-list\\\">\\n                <div class=\\\"button-text\\\">\\n                  <img id=\\\"{{getResource('GOLD').name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\"\\n                    alt=\\\"{{getResource('GOLD').name}}\\\">\\n                  {{focusedBuildingNode.statCosts['SELLAMOUNT'] | longNumber}}\\n                </div>\\n              </div>\\n            </button>\\n          </td>\\n        </tr>\\n      </tbody>\\n    </table>\\n  </mat-card-content>\\n</mat-card>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { MapService } from '../../services/map/map.service';\nimport { BuildingsService } from '../../services/buildings/buildings.service';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { BuildingTileData, ResourceTileData, BuildingTileType, BuildingNode, ResourceNode, Market } from '../../objects/tile';\nimport { Resource } from '../../objects/resource';\nimport { ResourceEnum } from '../../objects/resourceData';\n\n@Component({\n  selector: 'app-tile-detail',\n  templateUrl: './tile-detail.component.html',\n  styleUrls: ['./tile-detail.component.css']\n})\nexport class TileDetailComponent implements OnInit {\n  buildingTileTypes = BuildingTileType;\n  snapSetting = 'lowerLeft';\n\n  constructor(public mapService: MapService,\n              public buildingsService: BuildingsService,\n              public resourcesService: ResourcesService) { }\n\n  ngOnInit() {\n  }\n\n  getResource(resourceEnum: ResourceEnum): Resource {\n    return this.resourcesService.resources.get(resourceEnum);\n  }\n\n  canAffordUpgrade(upgradeBuilding: BuildingTileData) {\n    for (const resourceCost of upgradeBuilding.resourceCosts) {\n      if (this.getResource(resourceCost.resourceEnum).amount < resourceCost.resourceCost) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  get buildingTiles() {\n    return this.mapService.buildingTileData;\n  }\n\n  getBuildingTileArray(filterByPlaceable: boolean): BuildingTileData[] {\n    let tiles = Array.from(this.mapService.buildingTileData.values());\n\n    if (filterByPlaceable) {\n      tiles = tiles.filter(tile => tile.placeable);\n    }\n\n    return tiles;\n  }\n\n  canAffordBuilding(buildingType: BuildingTileType): boolean {\n    return this.buildingsService.canAffordBuilding(this.buildingTiles.get(buildingType));\n  }\n\n  upgradeBuilding() {\n    const currentBuildingData = this.focusedBuildingData;\n    const newBuildingData = this.upgradedBuildingData;\n\n    this.mapService.clearBuilding(this.focusedTile.x, this.focusedTile.y);\n    this.mapService.createBuilding(this.focusedTile.x, this.focusedTile.y,\n      newBuildingData, true, newBuildingData.baseHealth);\n  }\n\n  canRepairBuilding(): boolean {\n    return this.mapService.canRepairBuilding(this.focusedTile);\n  }\n\n  repairBuilding() {\n    this.mapService.repairBuilding(this.focusedTile);\n  }\n\n  get focusedTile(): Phaser.Tilemaps.Tile {\n    return this.mapService.focusedTile;\n  }\n\n  get focusedBuildingNode(): BuildingNode {\n    return this.focusedTile ? this.focusedTile.properties['buildingNode'] : null;\n  }\n\n  get focusedResourceNode(): ResourceNode {\n    return this.focusedTile ? this.focusedTile.properties['resourceNode'] : null;\n  }\n\n  get marketNode(): Market {\n    return this.focusedBuildingNode ? this.focusedBuildingNode.market : null;\n  }\n\n  get focusedBuildingData(): BuildingTileData {\n    return this.focusedBuildingNode ? this.mapService.buildingTileData.get(this.focusedBuildingNode.tileType) : null;\n  }\n\n  get focusedResourceData(): ResourceTileData {\n    return this.focusedResourceNode ? this.mapService.resourceTileData.get(this.focusedResourceNode.tileType): null;\n  }\n\n  get upgradedBuildingData(): BuildingTileData {\n    return this.focusedBuildingData ? this.mapService.buildingTileData.get(this.focusedBuildingData.upgradeBuilding) : null;\n  }\n\n  get focusedResources(): Resource[] {\n    if (!this.focusedResourceData) {\n      return [];\n    }\n\n    const resourceEnums = this.focusedResourceData.resourceEnums;\n\n    return resourceEnums.map(resourceEnum => this.resourcesService.resources.get(resourceEnum));\n  }\n}\n","module.exports = \"/* UpgradesComponent's private CSS styles */\\n.upgrades {\\n  margin: 0 0 2em 0;\\n  list-style-type: none;\\n  padding: 0;\\n  /* width: 25em; */\\n}\\n.upgrades mat-expansion-panel {\\n  margin: 0;\\n}\\n.upgrades mat-expansion-panel-header {\\n  height: 30px !important;\\n}\\n.upgrades .full .title {\\n  white-space: pre-line;\\n\\n  font-size: 24px;\\n  font-weight: 400;\\n  margin: 2px;\\n}\\n.upgrades mat-card-subtitle {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  font-weight: bold;\\n}\\n.upgrades button {\\n  position: relative;\\n  cursor: pointer;\\n  width: 100%;\\n  border-radius: 4px;\\n}\\n.upgrades button[disabled] {\\n  cursor: default;\\n}\\n.upgrades button:hover {\\n  left: .1em;\\n}\\n.upgrades button.mat-disabled {\\n  cursor: default;\\n}\\n.upgrades .badge {\\n  display: inline-block;\\n  font-size: small;\\n  color: white;\\n  padding: 0.8em 0.7em 0 0.7em;\\n  background-color: #607D8B;\\n  line-height: 1em;\\n  position: absolute;\\n  right: -9px;\\n  top: 1px;\\n  height: 1.8em;\\n  min-width: 16px;\\n  text-align: center;\\n  margin-right: .8em;\\n  border-radius: 0 4px 4px 0;\\n}\\nbutton {\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n  font-family: Arial;\\n}\\n.upgrades {\\n  text-align: center;\\n}\\n.upgrades.slim-interface button {\\n  width: auto;\\n  height: auto;\\n}\\n.upgrade {\\n  display: inline-block;\\n  max-width: 300px;\\n  width: 15vw;\\n}\\n.resource-list {\\n  text-align: center;\\n}\\n.resource-list div {\\n  display: inline-block;\\n}\\n.resource-list img {\\n  width: 16px;\\n  height: 16px;\\n}\\n\"","module.exports = \"<mat-checkbox class=\\\"hidePurchased button-text-background\\\" checked=\\\"true\\\" [(ngModel)]=\\\"hidePurchasedUpgrades\\\">Hide Purchased Upgrades</mat-checkbox>\\n<br />\\n<br />\\n\\n<mat-accordion multi=\\\"true\\\" class=\\\"upgrades\\\" [ngClass]=\\\"{'slim-interface': settingsService.slimInterface}\\\">\\n  <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\" *ngFor=\\\"let upgradeVariable of upgradeVariables | enumToArray\\\">\\n    <mat-expansion-panel-header>\\n      <mat-panel-title class=\\\"button-text-background\\\">\\n        {{upgradeVariableNames[upgradeVariable]}}\\n      </mat-panel-title>\\n    </mat-expansion-panel-header>\\n    <div *ngIf=\\\"!settingsService.slimInterface\\\">\\n      <mat-card class=\\\"upgrade full wood\\\" *ngFor=\\\"let upgrade of getUpgrades(false, hidePurchasedUpgrades, adminService.filterAccessible, undefined, upgradeVariable)\\\">\\n        <button mat-raised-button color=\\\"accent\\\" [disabled]='upgrade.purchased || !canAffordUpgrade(upgrade.id)'\\n          (click)='purchaseUpgrade(upgrade.id)'>\\n          <p class=\\\"title button-text\\\">\\n            <b>\\n              <mat-icon *ngIf=\\\"upgrade.purchased\\\" color=\\\"primary\\\">check</mat-icon>\\n            </b>\\n            {{upgrade.name}}\\n          </p>\\n        </button>\\n        <mat-card-subtitle>{{upgradesService.getUpgradeTypeString(upgrade.id)}}</mat-card-subtitle>\\n        <mat-card-content class=\\\"button-text-background\\\">\\n          {{upgrade.description}}\\n          <div class=\\\"resource-list\\\">\\n            <div *ngFor=\\\"let resourceCost of upgrade.resourceCosts\\\" matTooltip=\\\"{{resourceCost.resourceCost | longNumber}} {{getResource(resourceCost.resourceEnum).name | titlecase}}\\\"\\n              matTooltipPosition=\\\"below\\\">\\n              <img id=\\\"{{getResource(resourceCost.resourceEnum).name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource(resourceCost.resourceEnum).name}}\\\">\\n              {{resourceCost.resourceCost | longNumber}}\\n            </div>\\n          </div>\\n        </mat-card-content>\\n      </mat-card>\\n    </div>\\n\\n    <div *ngIf=\\\"settingsService.slimInterface\\\">\\n      <button class=\\\"slim wood\\\" mat-raised-button *ngFor=\\\"let upgrade of getUpgrades(false, hidePurchasedUpgrades, adminService.filterAccessible, undefined, upgradeVariable)\\\"\\n        color=\\\"accent\\\" [disabled]='upgrade.purchased || !canAffordUpgrade(upgrade.id)' (click)='purchaseUpgrade(upgrade.id)'>\\n        <div class=\\\"title button-text\\\" matTooltip=\\\"{{upgrade.description}}\\\" matTooltipPosition=\\\"above\\\">\\n          <b>\\n            <mat-icon *ngIf=\\\"upgrade.purchased\\\" color=\\\"primary\\\">check</mat-icon>\\n          </b>\\n          {{upgrade.name}}\\n        </div>\\n        <div class=\\\"resource-list\\\">\\n          <div *ngFor=\\\"let resourceCost of upgrade.resourceCosts\\\" matTooltip=\\\"{{resourceCost.resourceCost | longNumber}} {{getResource(resourceCost.resourceEnum).name | titlecase}}\\\"\\n            matTooltipPosition=\\\"below\\\" class=\\\"button-text\\\">\\n            <img id=\\\"{{getResource(resourceCost.resourceEnum).name | resourceId}}\\\" class=\\\"resource-img slim-icon\\\" src=\\\"assets/sprites/transparent.png\\\" alt=\\\"{{getResource(resourceCost.resourceEnum).name}}\\\">\\n            {{resourceCost.resourceCost | longNumber}}\\n          </div>\\n        </div>\\n      </button>\\n    </div>\\n  </mat-expansion-panel>\\n</mat-accordion>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { ResourceEnum } from '../../objects/resourceData';\nimport { Upgrade, UpgradeType, UpgradeVariable } from '../../objects/upgrade';\nimport { UpgradesService } from '../../services/upgrades/upgrades.service';\nimport { SettingsService } from '../../services/settings/settings.service';\nimport { AdminService } from '../../services/admin/admin.service';\n\n@Component({\n  selector: 'app-upgrades',\n  templateUrl: './upgrades.component.html',\n  styleUrls: ['./upgrades.component.css']\n})\nexport class UpgradesComponent implements OnInit {\n  upgradeTypes = UpgradeType;\n  upgradeVariables = UpgradeVariable;\n  upgradeVariableNames = Upgrade.UpgradeVariableNames;\n\n  constructor(public resourcesService: ResourcesService,\n              public upgradesService: UpgradesService,\n              public settingsService: SettingsService,\n              public adminService: AdminService) { }\n\n  ngOnInit() {\n  }\n\n  canAffordUpgrade(id: number) {\n    return this.upgradesService.getUpgrade(id).canAfford();\n  }\n\n  getUpgrades(filterByPurchased: boolean, filterByUnpurchased: boolean, filterByAccessible: boolean,\n      upgradeType?: string, upgradeVariable?: string): Upgrade[] {\n    return this.upgradesService.getUpgrades(filterByPurchased, filterByUnpurchased, filterByAccessible,\n      UpgradeType[upgradeType], UpgradeVariable[upgradeVariable]);\n  }\n\n  purchaseUpgrade(id: number) {\n    this.upgradesService.getUpgrade(id).purchaseUpgrade();\n  }\n\n  getBackgroundColor(id: number): string {\n    const upgrade = this.upgradesService.getUpgrade(id);\n\n    if (upgrade.purchased) {\n      return 'lightgreen';\n    } else if (!upgrade.canAfford()) {\n      return 'gray';\n    }\n\n    return 'lightblue';\n  }\n\n  getResource(resourceEnum: ResourceEnum) {\n    return this.resourcesService.resources.get(resourceEnum);\n  }\n\n  get hidePurchasedUpgrades(): boolean {\n    return this.upgradesService.hidePurchasedUpgrades;\n  }\n\n  set hidePurchasedUpgrades(value: boolean) {\n    this.upgradesService.hidePurchasedUpgrades = value;\n  }\n}\n","module.exports = \"/* WorkersComponent's private CSS styles */\\n.workers {\\n  margin: 0 0 2em 0;\\n  list-style-type: none;\\n  padding: 0;\\n  width: 100%;\\n}\\n.workers mat-expansion-panel {\\n  margin: 0;\\n}\\n.workers mat-expansion-panel-header {\\n  height: 30px !important;\\n}\\n.workers mat-card-title {\\n  text-align: left;\\n}\\n.workers mat-card-subtitle {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n}\\n.workers mat-slider {\\n  width: 100%;\\n  top: -22px;\\n}\\n.workers mat-card {\\n  background-color: wheat;\\n  position: relative;\\n  margin: .5em;\\n  padding: .4em 0;\\n  height: 3.6em;\\n  width: 100%;\\n  border-radius: 4px;\\n}\\n.workers mat-card.hunger-card {\\n  height: 1.3em;\\n  width: 95%;\\n}\\n.hunger-card mat-card-title {\\n  font-size: 18px;\\n}\\n.hunger-card mat-progress-bar {\\n  position: absolute;\\n  top: 0;\\n\\n  height: 100%;\\n  opacity: 0.5;\\n}\\n.workers button {\\n  position: relative;\\n  cursor: pointer;\\n  margin: .5em;\\n  padding: .4em 0;\\n  height: 3.6em;\\n  width: 100%;\\n  border-radius: 4px;\\n}\\n.workers button:hover {\\n  color: #607D8B;\\n  background-color: #DDD;\\n  left: .1em;\\n}\\n.workers a {\\n  color: #888;\\n  text-decoration: none;\\n  position: relative;\\n  display: block;\\n  width: 250px;\\n}\\n.workers a:hover {\\n  color:#607D8B;\\n}\\n.workers .harvestable {\\n  background-color: antiquewhite;\\n}\\n.worker-input {\\n  width: 50px;\\n  border: none;\\n}\\n.mat-card-subtitle {\\n  z-index: 1;\\n}\\n.workers .badge {\\n  display: inline-block;\\n  font-size: small;\\n  color: white;\\n  padding: 0.8em 0.7em 0 0.7em;\\n  background-color: #607D8B;\\n  line-height: 1em;\\n  position: absolute;\\n  right: -9px;\\n  top: 1px;\\n  height: 1.8em;\\n  min-width: 16px;\\n  text-align: center;\\n  margin-right: .8em;\\n  border-radius: 0 4px 4px 0;\\n}\\n.path-broken-warn {\\n  position: absolute;\\n  top: 5px;\\n  right: 125px;\\n}\\nbutton {\\n  background-color: #eee;\\n  border: none;\\n  padding: 5px 10px;\\n  border-radius: 4px;\\n  cursor: pointer;\\n  cursor: hand;\\n  font-family: Arial;\\n}\\nbutton:hover {\\n  background-color: #cfd8dc;\\n}\\nbutton.delete {\\n  position: relative;\\n  left: 194px;\\n  top: -32px;\\n  background-color: gray !important;\\n  color: white;\\n}\\n\"","module.exports = \"<ul class=\\\"workers\\\">\\n  <mat-checkbox [(ngModel)]=\\\"workersPaused\\\" color=\\\"accent\\\" class=\\\"button-text-background\\\">Pause Workers</mat-checkbox>\\n\\n  <mat-card class=\\\"hunger-card\\\">\\n    <mat-card-title>\\n      Food Supply - {{foodStockpile | longNumber}}/{{foodCapacity | longNumber}}\\n    </mat-card-title>\\n    <mat-progress-bar mode=\\\"determinate\\\" [value]=\\\"foodPercentage\\\" [color]=\\\"foodPercentage < 20 ? 'warn' : 'accent'\\\"></mat-progress-bar>\\n  </mat-card>\\n\\n  <mat-accordion multi=\\\"true\\\">\\n    <mat-expansion-panel class=\\\"steel\\\" expanded=\\\"true\\\" *ngFor=\\\"let worker of getWorkers(true, true, true)\\\">\\n      <mat-expansion-panel-header>\\n        <mat-panel-title class=\\\"button-text-background\\\">\\n          {{worker.resourceType | titlecase}}\\n        </mat-panel-title>\\n        <mat-panel-description>\\n        </mat-panel-description>\\n      </mat-expansion-panel-header>\\n\\n      <button mat-raised-button class=\\\"wood\\\" [color]=\\\"worker.canAffordToHire() ? 'accent' : 'disabled'\\\" (click)=\\\"worker.hireWorker()\\\" [disabled]=\\\"!worker.canAffordToHire()\\\">\\n        <mat-card-title class=\\\"button-text\\\">{{worker.workerCount}} Workers ({{worker.freeWorkers}} Idle)</mat-card-title>\\n        <mat-card-subtitle class=\\\"button-text-background\\\">{{worker.cost | longNumber}} Gold</mat-card-subtitle>\\n      </button>\\n\\n      <div *ngFor=\\\"let resourceWorker of getAccessibleResourceWorkers(worker)\\\">\\n        <mat-card [ngClass]=\\\"{'resource-disabled': !canHarvest(resourceWorker.resourceEnum)}\\\"\\n        *ngIf=\\\"shouldShowResource(resourceWorker.resourceEnum)\\\" matTooltip=\\\"{{getTooltipMessage(resourceWorker.resourceEnum)}}\\\" matTooltipPosition=\\\"right\\\">\\n          <mat-card-title [style.color]=\\\"canHarvest(resourceWorker.resourceEnum) ? 'black' : 'red'\\\">\\n            {{getResource(resourceWorker.resourceEnum).name | titlecase}}\\n          </mat-card-title>\\n          <div class=\\\"path-broken-warn\\\" *ngIf=\\\"!pathAvailable(resourceWorker.resourceEnum)\\\">(Path Broken)</div>\\n          <mat-card-subtitle>\\n            Workers: <input class=\\\"worker-input\\\" type=\\\"number\\\" min=\\\"0\\\" [max]=\\\"worker.workerCount\\\"\\n              [(ngModel)]=\\\"resourceWorker.sliderSetting\\\" (input)=\\\"checkSliderValue(resourceWorker.resourceEnum)\\\" (change)=\\\"updateResourceWorker(resourceWorker.resourceEnum, resourceWorker.sliderSetting)\\\"/>\\n          </mat-card-subtitle>\\n          <mat-slider [color]=\\\"resourceWorker.sliderSettingValid ? 'accent' : 'warn'\\\" [id]=\\\"resourceWorker.resourceEnum\\\" [max]=\\\"worker.workerCount\\\"\\n              [tickInterval]=\\\"1\\\" [(ngModel)]=\\\"resourceWorker.sliderSetting\\\" (input)=\\\"checkSliderValue($event)\\\" (change)=\\\"updateResourceWorker($event)\\\">\\n          </mat-slider>\\n        </mat-card>\\n      </div>\\n    </mat-expansion-panel>\\n  </mat-accordion>\\n</ul>\\n\"","import { Component, OnInit } from '@angular/core';\n\nimport { Resource } from '../../objects/resource';\nimport { ResourceType, ResourceEnum } from '../../objects/resourceData';\nimport { Worker } from '../../objects/worker';\nimport { ResourcesService } from '../../services/resources/resources.service';\nimport { WorkersService } from '../../services/workers/workers.service';\nimport { TooltipService } from './../../services/tooltip/tooltip.service';\nimport { AdminService } from '../../services/admin/admin.service';\n\n@Component({\n  selector: 'app-workers',\n  templateUrl: './workers.component.html',\n  styleUrls: ['./workers.component.css']\n})\nexport class WorkersComponent implements OnInit {\n  resourceTypes = ResourceType;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected workersService: WorkersService,\n              protected tooltipService: TooltipService,\n              protected adminService: AdminService) { }\n\n  ngOnInit() {\n  }\n\n  getWorkers(filterByAccessible: boolean, filterByWorkable: boolean, filterByHarvestable: boolean): Worker[] {\n    return this.workersService.getWorkers(filterByAccessible, filterByWorkable, filterByHarvestable);\n  }\n\n  public getWorker(resourceType: ResourceType) {\n    return this.workersService.workers.get(resourceType);\n  }\n\n  getResource(resourceEnum: ResourceEnum): Resource {\n    return this.resourcesService.resources.get(resourceEnum);\n  }\n\n  getAccessibleResourceWorkers(worker: Worker) {\n    return worker.getResourceWorkers(true);\n  }\n\n  canAffordToHarvest(resourceEnum: ResourceEnum): boolean {\n    return this.workersService.getWorker(resourceEnum).canAffordToHarvest(resourceEnum);\n  }\n\n  canHarvest(resourceEnum: ResourceEnum): boolean {\n    return this.resourcesService.resources.get(resourceEnum).canHarvest() && this.canAffordToHarvest(resourceEnum);\n  }\n\n  shouldShowResource(resourceEnum: ResourceEnum): boolean {\n    const resource = this.resourcesService.resources.get(resourceEnum);\n    const resourceWorker = this.workersService.getResourceWorker(resourceEnum);\n\n    return (resourceWorker.workable && resource.harvestable) || !this.adminService.filterAccessible;\n  }\n\n  getTooltipMessage(resourceEnum: ResourceEnum): string {\n    return this.tooltipService.getWorkerTooltip(resourceEnum);\n  }\n\n  checkSliderValue(eventOrEnum: any | string) {\n    const resourceEnum = typeof(eventOrEnum) === 'string' ? eventOrEnum : eventOrEnum.source._elementRef.nativeElement.id;\n\n    const resource = this.resourcesService.resources.get(resourceEnum);\n    const worker = this.getWorker(resource.resourceType);\n    const resourceWorker = this.workersService.getResourceWorker(resourceEnum);\n\n    const newValue = typeof(eventOrEnum) === 'string' ? resourceWorker.sliderSetting : +eventOrEnum.value;\n\n    resourceWorker.sliderSettingValid = worker.freeWorkers + resourceWorker.workerCount - newValue >= 0;\n  }\n\n  updateResourceWorker(eventOrEnum: any | string, value = -1) {\n    const resourceEnum = typeof(eventOrEnum) === 'string' ? eventOrEnum : eventOrEnum.source._elementRef.nativeElement.id;\n    if (value === -1) {\n      value = +eventOrEnum.value;\n    }\n\n    this.workersService.getWorker(resourceEnum).updateResourceWorker(resourceEnum, value);\n  }\n\n  pathAvailable(resourceEnum: ResourceEnum): boolean {\n    return this.resourcesService.resources.get(resourceEnum).pathAvailable;\n  }\n\n  get workersPaused(): boolean {\n    return this.workersService.workersPaused;\n  }\n\n  set workersPaused(value: boolean) {\n    this.workersService.workersPaused = value;\n  }\n\n  get foodStockpile(): number {\n    return this.workersService.foodStockpile;\n  }\n\n  get foodCapacity(): number {\n    return this.workersService.foodCapacity;\n  }\n\n  get foodPercentage(): number {\n    return Math.floor(this.workersService.foodStockpile / this.workersService.foodCapacity * 100);\n  }\n}\n","import { Directive, ElementRef, Renderer2 } from '@angular/core';\n\nimport { MapService } from './../../services/map/map.service';\n\n@Directive({\n  selector: '[appCrop]'\n})\nexport class CropDirective {\n\n  constructor(protected element: ElementRef,\n              protected renderer: Renderer2,\n              protected mapService: MapService) {\n  // const tileCropDetail = this.mapService.getTile(\n  //   +element.nativeElement.attributes['x'].value, +element.nativeElement.attributes['y'].value);\n\n  this.renderer.setStyle(element.nativeElement, 'clip', 'rect(0, 0, 16, 16)');\n  }\n}\n","import { Directive, Renderer2, ElementRef } from '@angular/core';\n\n@Directive({\n  selector: '[appNoScroll]'\n})\nexport class NoScrollDirective {\n  constructor(protected element: ElementRef,\n              protected renderer: Renderer2) {\n    element.nativeElement.addEventListener('mousewheel', function(e) {\n      e.preventDefault();\n    });\n  }\n}\n","import { Directive, HostListener, ElementRef, Input } from '@angular/core';\n\n@Directive({\n  selector: '[appSnap]'\n})\nexport class SnapDirective {\n  constructor(private element: ElementRef) { }\n\n  @Input('snapSetting') snapSetting: string;\n\n  @HostListener('click') onClick() {\n    switch (this.snapSetting) {\n      case 'upperLeft': {\n        this.element.nativeElement.style.left = 0;\n        this.element.nativeElement.style.top = '72px';\n        this.element.nativeElement.style.right = 'unset';\n        this.element.nativeElement.style.bottom = 'unset';\n        break;\n      } case 'upperRight': {\n        this.element.nativeElement.style.left = 'unset';\n        this.element.nativeElement.style.top = '72px';\n        this.element.nativeElement.style.right = 0;\n        this.element.nativeElement.style.bottom = 'unset';\n        break;\n      } case 'lowerLeft': {\n        this.element.nativeElement.style.left = 0;\n        this.element.nativeElement.style.top = 'unset';\n        this.element.nativeElement.style.right = 'unset';\n        this.element.nativeElement.style.bottom = 0;\n        break;\n      } case 'lowerRight': {\n        this.element.nativeElement.style.left = 'unset';\n        this.element.nativeElement.style.top = 'unset';\n        this.element.nativeElement.style.right = 0;\n        this.element.nativeElement.style.bottom = 0;\n        break;\n      }\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\n\nimport { MatButtonModule, MatCheckboxModule, MatSortModule } from '@angular/material';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatTooltipModule } from '@angular/material/tooltip';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatGridListModule } from '@angular/material/grid-list';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatDividerModule } from '@angular/material/divider';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatListModule } from '@angular/material/list';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatStepperModule } from '@angular/material/stepper';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatBadgeModule } from '@angular/material/badge';\nimport { MatButtonToggleModule } from '@angular/material/button-toggle';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatTableModule } from '@angular/material/table';\n\nconst modules = [\n  MatButtonModule,\n  MatCheckboxModule,\n  MatProgressBarModule,\n  MatChipsModule,\n  MatIconModule,\n  MatTooltipModule,\n  MatCardModule,\n  MatGridListModule,\n  MatTabsModule,\n  MatExpansionModule,\n  MatDividerModule,\n  MatInputModule,\n  MatSelectModule,\n  MatListModule,\n  MatSliderModule,\n  MatDialogModule,\n  MatStepperModule,\n  MatSnackBarModule,\n  MatBadgeModule,\n  MatButtonToggleModule,\n  MatSidenavModule,\n  MatToolbarModule,\n  MatTableModule,\n  MatSortModule\n];\n\n@NgModule({\n  imports: modules,\n  exports: modules\n})\nexport class MaterialImportModule { }\n","import { HealthBar } from './healthbar';\nimport { ResourceEnum } from './resourceData';\nimport { BuildingTileType, MapTileType, BuildingNode } from './tile';\nimport { MessageSource } from './message';\nimport { ResourcesService } from '../services/resources/resources.service';\nimport { EnemyService } from './../services/enemy/enemy.service';\nimport { StoreService } from './../services/store/store.service';\nimport { MapService } from './../services/map/map.service';\nimport { MessagesService } from './../services/messages/messages.service';\n\nexport enum FighterStat {\n  Attack = 'ATTACK',\n  Defense = 'DEFENSE',\n  Range = 'RANGE',\n  MovementSpeed = 'MOVEMENTSPEED',\n  FireRate = 'FIRERATE',\n  MaxHealth = 'MAXHEALTH'\n}\n\nexport enum ResourceAnimationType {\n  PlayerSpawned = 'PLAYERSPAWNED',\n  WorkerSpawned = 'WORKERSPAWNED',\n  Sold = 'SOLD'\n}\n\nexport enum EnemyState {\n  /** The enemy is moving towards a specific target. */\n  MovingToTarget = 'MOVINGTOTARGET',\n  /** The enemy has no targets, and is moving randomly. */\n  Wandering = 'WANDERING',\n  /** The enemy is looting resources from the player's home base. */\n  Looting = 'LOOTING',\n  /** The enemy is destroying a building. */\n  Destroying = 'DESTROYING',\n  /** The enemy is fighting a player-spawned fighter. */\n  Fighting = 'FIGHTING',\n  /** The enemy is inactive. */\n  Sleeping = 'SLEEPING'\n}\n\nexport interface FighterData {\n  name: string;\n  description: string;\n\n  maxHealth: number;\n  cost: number;\n  attack: number;\n  defense: number;\n\n  movable: boolean;\n  attackRange: number;\n}\n\nexport interface EnemyData {\n  name: string;\n  description: string;\n\n  maxHealth: number;\n  attack: number;\n  defense: number;\n\n  targetableBuildingTypes: BuildingTileType[];\n  resourcesToSteal: ResourceEnum[];\n  stealMax: number;\n  resourceCapacity: number;\n\n  movable: boolean;\n  attackRange: number;\n}\n\nexport class Entity extends Phaser.GameObjects.PathFollower {\n  name: string;\n\n  spawnPosition: Phaser.Math.Vector2;\n  currentTile: Phaser.Tilemaps.Tile;\n\n  tilePath: Phaser.Tilemaps.Tile[];\n  animationSpeed: number;\n\n  health: number;\n  maxHealth: number;\n  healthBar: HealthBar;\n\n  public constructor(name: string, x: number, y: number, currentTile: Phaser.Tilemaps.Tile, health: number, animationSpeed = 0.003,\n                     scene: Phaser.Scene, texture: string, frame: string | number, path?: Phaser.Curves.Path) {\n    super(scene, path, x, y, texture, frame);\n\n    this.name = name;\n\n    this.spawnPosition = new Phaser.Math.Vector2(x, y);\n    this.currentTile = currentTile;\n\n    this.health = health;\n    this.maxHealth = health;\n\n    this.animationSpeed = animationSpeed;\n  }\n\n  get position(): Phaser.Math.Vector2 {\n    return new Phaser.Math.Vector2(this.x, this.y);\n  }\n}\n\nexport class Actor extends Entity {\n  attack: number;\n  defense: number;\n  attackRange: number;\n\n  public constructor(name: string, x: number, y: number, currentTile: Phaser.Tilemaps.Tile, health: number,\n      animationSpeed = 0.003, attack: number, defense: number, attackRange: number,\n      scene: Phaser.Scene, texture: string, frame: string | number) {\n    super(name, x, y, currentTile, health, animationSpeed, scene, texture, frame);\n\n    this.attack = attack;\n    this.defense = defense;\n    this.attackRange = attackRange;\n  }\n}\n\nexport class Enemy extends Actor {\n  targetableBuildingTypes: BuildingTileType[];\n  targets: Phaser.Tilemaps.Tile[] = [];\n  selectedTarget: Phaser.Tilemaps.Tile;\n  currentState: EnemyState = EnemyState.MovingToTarget;\n\n  pathAttempt = 0;\n  maxPathRetryCount = 25;\n  tilePath: Phaser.Tilemaps.Tile[] = [];\n\n  resourcesToSteal: ResourceEnum[];\n  resourcesHeld: Map<ResourceEnum, number>;\n  totalHeld = 0;\n\n  actionInterval = 250;\n  lastActionTime = 0;\n\n  minimumResourceAmount = 500;\n  stealMax: number;\n  resourceCapacity: number;\n\n  lastIslandId: number;\n\n  mapService: MapService;\n  resourcesService: ResourcesService;\n  messagesService: MessagesService;\n\n  public constructor(name: string, x: number, y: number, currentTile: Phaser.Tilemaps.Tile,\n      health: number, animationSpeed = 0.003, attack: number, defense: number,\n      attackRange: number, targetableBuildingTypes: BuildingTileType[], resourcesToSteal: ResourceEnum[],\n      stealMax: number, resourceCapacity: number, scene: Phaser.Scene, texture: string, frame: string | number,\n      mapService: MapService, resourcesService: ResourcesService, messagesService: MessagesService) {\n    super(name, x, y, currentTile, health, animationSpeed, attack, defense, attackRange, scene, texture, frame);\n\n    this.targetableBuildingTypes = targetableBuildingTypes;\n\n    this.resourcesToSteal = resourcesToSteal;\n    this.resourcesHeld = new Map<ResourceEnum, number>();\n    this.totalHeld = 0;\n    this.stealMax = stealMax;\n    this.resourceCapacity = resourceCapacity;\n\n    this.mapService = mapService;\n    this.resourcesService = resourcesService;\n    this.messagesService = messagesService;\n\n    this.currentTile = this.mapService.mapLayer.getTileAtWorldXY(this.x, this.y);\n    this.lastIslandId = this.currentTile.properties['islandId'];\n\n    this.findTargets();\n    this.pickTarget();\n\n    this.healthBar = new HealthBar(this, scene);\n\n    this.log('An enemy has appeared!');\n  }\n\n  tick(elapsed: number, deltaTime: number) {\n    this.lastIslandId = this.islandId;\n\n    this.currentTile = this.mapService.mapLayer.getTileAtWorldXY(this.x, this.y);\n\n    switch (this.currentState) {\n      case EnemyState.Looting: {\n        if (elapsed - this.lastActionTime > this.actionInterval) {\n          this.lastActionTime = elapsed;\n\n          if (this.totalHeld >= this.resourceCapacity ||\n              !this.resourcesToSteal.some(resource => this.resourcesService.resources.get(resource).amount > this.minimumResourceAmount)) {\n            this.finishTask();\n\n            break;\n          }\n\n          const resourceIndex = Math.floor(Math.random() * this.resourcesToSteal.length);\n          const resourceToSteal = this.resourcesService.resources.get(this.resourcesToSteal[resourceIndex]);\n\n          if (resourceToSteal.amount > this.minimumResourceAmount) {\n            let amountToSteal = Math.floor(Math.random() * this.stealMax);\n            if (resourceToSteal.amount - amountToSteal < this.minimumResourceAmount) {\n              amountToSteal = resourceToSteal.amount - this.minimumResourceAmount;\n            }\n\n            if (!this.resourcesHeld.get(resourceToSteal.resourceEnum)) {\n              this.resourcesHeld.set(resourceToSteal.resourceEnum, amountToSteal);\n            } else {\n              this.resourcesHeld.set(resourceToSteal.resourceEnum, this.resourcesHeld.get(resourceToSteal.resourceEnum) + amountToSteal);\n            }\n\n            if (amountToSteal > 0) {\n              this.totalHeld += amountToSteal;\n\n              resourceToSteal.addAmount(-amountToSteal);\n              this.log(`An enemy stole ${Math.floor(amountToSteal)} ${resourceToSteal.name}!`);\n            }\n          }\n        }\n\n        break;\n      } case EnemyState.Destroying: {\n        if (elapsed - this.lastActionTime > this.actionInterval) {\n          this.lastActionTime = elapsed;\n\n          const buildingNode: BuildingNode = this.currentTile.properties['buildingNode'];\n\n          if (!buildingNode) {\n            this.finishTask();\n            break;\n          }\n\n          buildingNode.takeDamage(this.attack);\n\n          if (buildingNode.health <= 0) {\n            this.mapService.updatePaths(this.currentTile, true);\n            this.finishTask();\n          }\n        }\n\n        break;\n      } case EnemyState.Wandering:\n        case EnemyState.MovingToTarget: {\n        if (!this.selectedTarget || this.selectedTarget.properties['islandId'] !== this.islandId ||\n            this.tilePath.some(tile => !this.mapService.isTileWalkable(tile))) {\n          this.finishTask();\n        }\n\n        break;\n      }\n    }\n\n    this.healthBar.tick(elapsed, deltaTime, this.x, this.y);\n  }\n\n  findTargets() {\n    for (const buildingType of this.targetableBuildingTypes) {\n      const matchingTiles = this.mapService.mapLayer.filterTiles(tile => tile.properties['buildingNode'] &&\n        tile.properties['buildingNode'].tileType === buildingType);\n\n      for (const tile of matchingTiles) {\n        if (!this.targets.includes(tile)) {\n          this.targets.push(tile);\n        }\n      }\n    }\n\n    if (this.currentState === EnemyState.Wandering) {\n      this.currentState = EnemyState.MovingToTarget;\n\n      this.pickTarget();\n    }\n  }\n\n  pickTarget() {\n    if (this.targets.length) {\n      const sortedTargets = this.targets.sort((a, b) => {\n        const enemyPosition = new Phaser.Math.Vector2(this.x, this.y);\n        const aPos = new Phaser.Math.Vector2(a.x, a.y);\n        const bPos = new Phaser.Math.Vector2(b.x, b.y);\n\n        return Math.abs(aPos.distance(enemyPosition)) - Math.abs(bPos.distance(enemyPosition));\n      });\n\n      this.selectedTarget = sortedTargets[0];\n    } else {\n      const shouldTargetBuilding = Math.random() < 0.15 && this.mapService.islandHasActiveTiles(this.islandId);\n\n      let randomTarget;\n\n      if (shouldTargetBuilding) {\n        this.currentState = EnemyState.MovingToTarget;\n        randomTarget = this.mapService.getRandomTileOnIsland(this.islandId, [MapTileType.Grass], true, true);\n      } else {\n        this.currentState = EnemyState.Wandering;\n        randomTarget = this.mapService.getRandomTileOnIsland(this.islandId, [MapTileType.Grass, MapTileType.Water], true);\n      }\n\n      this.targets.push(randomTarget);\n      this.selectedTarget = randomTarget;\n    }\n\n    if (!this.selectedTarget) {\n      this.currentState = EnemyState.Sleeping;\n    } else {\n      this.mapService.findPath(this.currentTile, this.selectedTarget, false, true).subscribe(tilePath => this.beginPathing(tilePath));\n    }\n  }\n\n  finishTask() {\n    this.targets = this.targets.filter(target => target !== this.selectedTarget);\n\n    const buildingNode: BuildingNode = this.currentTile.properties['buildingNode'];\n    if (!buildingNode) {\n      this.currentState = EnemyState.MovingToTarget;\n    } else if (buildingNode.tileType === BuildingTileType.Home) {\n      this.currentState = this.currentState === EnemyState.Looting ? EnemyState.MovingToTarget : EnemyState.Looting;\n    } else {\n      this.currentState = this.currentState === EnemyState.Destroying ? EnemyState.MovingToTarget : EnemyState.Destroying;\n    }\n\n    if (this.currentState === EnemyState.MovingToTarget) {\n      this.pickTarget();\n    }\n  }\n\n  beginPathing(tilePath: Phaser.Tilemaps.Tile[]) {\n    if (!tilePath.length) {\n      this.pathAttempt++;\n\n      if (this.pathAttempt < this.maxPathRetryCount) {\n        this.finishTask();\n      } else {\n        this.currentState = EnemyState.Sleeping;\n      }\n    } else {\n      this.tilePath = tilePath;\n      this.path = this.mapService.tilesToLinearPath(tilePath);\n\n      this.startFollow((this.path.curves.length - 1) * 1000 / this.animationSpeed);\n\n      this.pathTween.setCallback('onComplete', function(self) { self.finishTask(); }, [this]);\n    }\n  }\n\n  takeDamage(damageSource: Projectile) {\n    this.health -= damageSource.owner.attack;\n\n    this.healthBar.updateHealthbar(this.health / this.maxHealth);\n\n    if (this.health <= 0) {\n      this.healthBar.destroy();\n      this.kill();\n    }\n  }\n\n  kill() {\n    let enemyDefeatedMessage = 'An enemy has been defeated!';\n\n    if (this.totalHeld > 0) {\n      enemyDefeatedMessage += ' Resources recovered:';\n\n      for (const resourceEnum of this.resourcesToSteal) {\n        const stolenAmount = this.resourcesHeld.get(resourceEnum);\n        if (isNaN(stolenAmount) || stolenAmount <= 0) {\n          continue;\n        }\n\n        const resource = this.resourcesService.resources.get(resourceEnum);\n        resource.addAmount(stolenAmount);\n\n        enemyDefeatedMessage += ` ${Math.floor(stolenAmount)} ${resource.name},`;\n      }\n\n      enemyDefeatedMessage = enemyDefeatedMessage.slice(0, enemyDefeatedMessage.length - 1) + '.';\n    }\n\n    this.log(enemyDefeatedMessage);\n\n    this.stopFollow();\n    this.destroy();\n  }\n\n  get islandId(): number {\n    if (this.currentTile && this.currentTile.properties['islandId'] !== undefined) {\n      return this.currentTile.properties['islandId'];\n    } else {\n      return this.lastIslandId;\n    }\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Enemy, message);\n  }\n}\n\nexport class Fighter extends Actor {\n  description: string;\n\n  targetEnemy: Enemy;\n  cost: number;\n  moveable: boolean;\n\n  fireMilliseconds: number;\n  lastFire = 0;\n\n  statLevels = {};\n  statCosts = {};\n\n  resourcesService: ResourcesService;\n  enemyService: EnemyService;\n  mapService: MapService;\n\n  public constructor(name: string, x: number, y: number, currentTile: Phaser.Tilemaps.Tile,\n      health: number, animationSpeed, attack: number, defense: number, attackRange: number,\n      description: string, cost: number, moveable: boolean, fireMilliseconds: number,\n      scene: Phaser.Scene, texture: string, frame: string | number,\n      resourcesService: ResourcesService, enemyService: EnemyService, mapService: MapService) {\n    super(name, x, y, currentTile, health, animationSpeed, attack, defense, attackRange, scene, texture, frame);\n\n    this.description = description;\n\n    this.cost = cost;\n    this.moveable = moveable;\n\n    this.fireMilliseconds = fireMilliseconds;\n\n    this.statLevels[FighterStat.Attack] = 1;\n    this.statLevels[FighterStat.Defense] = 1;\n    this.statLevels[FighterStat.FireRate] = 1;\n    this.statLevels[FighterStat.MovementSpeed] = 1;\n    this.statLevels[FighterStat.Range] = 1;\n    this.statLevels[FighterStat.MaxHealth] = 1;\n\n    this.statCosts[FighterStat.Attack] = 1500;\n    this.statCosts[FighterStat.Defense] = 1500;\n    this.statCosts[FighterStat.FireRate] = 1500;\n    this.statCosts[FighterStat.MovementSpeed] = 1500;\n    this.statCosts[FighterStat.Range] = 1500;\n    this.statCosts[FighterStat.MaxHealth] = 1500;\n\n    this.resourcesService = resourcesService;\n    this.enemyService = enemyService;\n    this.mapService = mapService;\n  }\n\n  tick(elapsed: number, deltaTime: number) {\n    if (elapsed - this.lastFire > this.fireMilliseconds) {\n      const enemiesInRange = this.enemyService.enemies.filter(\n        enemy => Math.abs(Math.sqrt((this.x - enemy.x) ** 2 + (this.y - enemy.y) ** 2)) / 48 <= this.attackRange);\n\n      const targetedEnemy = enemiesInRange[Math.floor(Math.random() * enemiesInRange.length)];\n\n      if (targetedEnemy) {\n        this.mapService.spawnProjectile(this, targetedEnemy);\n      }\n\n      this.lastFire = elapsed;\n    }\n  }\n\n  public canUpgradeStat(stat: FighterStat): boolean {\n    return this.resourcesService.resources.get(ResourceEnum.Gold).amount >= this.statCosts[stat];\n  }\n\n  public getUpgradedStat(stat: FighterStat): number {\n    switch (stat) {\n      case FighterStat.Attack: {\n        return this.attack * 1.2;\n      } case FighterStat.Defense: {\n        return this.defense * 1.2;\n      }  case FighterStat.FireRate: {\n        return this.fireMilliseconds / 1.1;\n      } case FighterStat.MovementSpeed: {\n        return this.animationSpeed * 1.2;\n      } case FighterStat.Range: {\n        return this.attackRange + 1;\n      } case FighterStat.MaxHealth: {\n        return Math.floor(this.maxHealth * 1.2);\n      }\n    }\n  }\n\n  public upgradeStat(stat: FighterStat) {\n    if (!this.canUpgradeStat(stat)) {\n      return;\n    }\n\n    this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(-this.statCosts[stat]);\n\n    const upgradedStat = this.getUpgradedStat(stat);\n    switch (stat) {\n      case FighterStat.Attack: {\n        this.attack = upgradedStat;\n        break;\n      } case FighterStat.Defense: {\n        this.defense = upgradedStat;\n        break;\n      }  case FighterStat.FireRate: {\n        this.fireMilliseconds = upgradedStat;\n        break;\n      } case FighterStat.MovementSpeed: {\n        this.animationSpeed = upgradedStat;\n        break;\n      } case FighterStat.Range: {\n        this.attackRange = upgradedStat;\n        break;\n      } case FighterStat.MaxHealth: {\n        this.maxHealth = upgradedStat;\n        this.health = this.maxHealth;\n      }\n    }\n\n    this.statLevels[stat]++;\n    this.statCosts[stat] *= 1.5;\n  }\n\n  public takeDamage(amount: number) {\n    this.health -= amount;\n\n    if (this.health <= 0) {\n      this.health = 0;\n      this.kill();\n    }\n  }\n\n  public kill() {\n    if (this.healthBar) {\n      this.healthBar.destroy();\n    }\n\n    this.destroy();\n  }\n\n  public canHeal(): boolean {\n    return this.resourcesService.resources.get(ResourceEnum.Gold).amount >= this.healCost;\n  }\n\n  public heal() {\n    if (!this.canHeal()) {\n      return;\n    }\n\n    this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(-this.healCost);\n    this.health = this.maxHealth;\n  }\n\n  public get healCost() {\n    return (this.cost / this.maxHealth) * 0.65 * (this.maxHealth - this.health);\n  }\n}\n\nexport class Projectile extends Entity {\n  owner: Actor;\n  target: Actor;\n\n  rotation: number;\n\n  hitTarget = false;\n\n  timeSinceSpawn = 0;\n  lifeSpan = 5000;\n\n  public constructor(name: string, x: number, y: number, currentTile: Phaser.Tilemaps.Tile,\n      animationSpeed = 0.003, owner: Actor, target: Actor, scene: Phaser.Scene, texture: string, frame: string | number) {\n    super(name, x, y, currentTile, 1, animationSpeed, scene, texture, frame);\n\n    this.owner = owner;\n    this.target = target;\n  }\n\n  tick(elapsed: number, deltaTime: number) {\n    this.timeSinceSpawn += deltaTime;\n    if (this.timeSinceSpawn > this.lifeSpan || !this.target || !this.target.active || !this.target.health) {\n      this.destroy();\n    }\n  }\n\n  fireProjectile() {\n    const gradientY = this.target.y - this.y;\n    const gradientX = this.target.x - this.x;\n    const angleToTarget = Math.atan2(gradientY, gradientX) + (Math.PI / 2);\n\n    const physicsBody = this.body as Phaser.Physics.Matter.Sprite;\n    this.angle = Phaser.Math.RAD_TO_DEG * angleToTarget;\n    physicsBody.setVelocity(gradientX * this.animationSpeed, gradientY * this.animationSpeed);\n  }\n}\n\nexport class ResourceAnimation extends Entity {\n  animationType: ResourceAnimationType;\n\n  resourceEnum: ResourceEnum;\n  multiplier: number;\n\n  spawnedByPlayer: boolean;\n\n  resourcesService: ResourcesService;\n  storeService: StoreService;\n\n  public constructor(x: number, y: number, currentTile: Phaser.Tilemaps.Tile, animationSpeed,\n      path: Phaser.Curves.Path, animationType: ResourceAnimationType, resourceEnum: ResourceEnum,\n      multiplier: number, spawnedByPlayer: boolean, scene: Phaser.Scene, texture: string, frame: string | number,\n      resourcesService: ResourcesService, storeService: StoreService) {\n    super('', x, y, currentTile, -1, animationSpeed, scene, texture, frame, path);\n\n    this.animationType = animationType;\n\n    this.resourceEnum = resourceEnum;\n    this.multiplier = multiplier;\n    this.spawnedByPlayer = spawnedByPlayer;\n\n    this.resourcesService = resourcesService;\n    this.storeService = storeService;\n\n    this.startFollow((path.curves.length - 1) * 1000 / this.animationSpeed);\n  }\n\n  finishAnimation() {\n    this.resourcesService.resources.get(this.resourceEnum).finishResourceAnimation(this.multiplier, this.animationType);\n\n    this.destroy();\n  }\n\n  get pathingDone(): boolean {\n    return this.pathTween.progress >= 1;\n  }\n}\n","import { Entity } from './entity';\n\nexport class HealthBar {\n  owningObject: Entity | Phaser.Tilemaps.Tile;\n  outerBar: Phaser.GameObjects.Rectangle;\n  innerBar: Phaser.GameObjects.Rectangle;\n\n  percentage: number;\n\n  constructor(owningObject: Entity | Phaser.Tilemaps.Tile, scene: Phaser.Scene) {\n    this.owningObject = owningObject;\n\n    this.outerBar = scene.add.rectangle(owningObject.x, owningObject.y + owningObject.height / 2, owningObject.width, 8, 0xffffff);\n    this.outerBar.strokeColor = 0x000000;\n    this.outerBar.isStroked = true;\n\n    this.innerBar = scene.add.rectangle(owningObject.x, owningObject.y + owningObject.height / 2, owningObject.width, 8, 0xff0000);\n\n    this.updateHealthbar(1);\n  }\n\n  tick(elapsed: number, deltaTime: number, x: number, y: number) {\n    this.outerBar.x = x;\n    this.outerBar.y = y + this.owningObject.height / 2;\n    this.innerBar.x = x;\n    this.innerBar.y = y + this.owningObject.height / 2;\n  }\n\n  updateHealthbar(newPercentage: number) {\n    this.percentage = newPercentage;\n\n    this.outerBar.visible = this.percentage > 0 && this.percentage < 1;\n    this.innerBar.visible = this.percentage > 0 && this.percentage < 1;\n\n    this.innerBar.width = this.outerBar.width * this.percentage;\n  }\n\n  destroy() {\n    this.outerBar.destroy();\n    this.innerBar.destroy();\n  }\n}\n","export enum MessageSource {\n  Admin = 'ADMIN',\n  Buildings = 'BUILDINGS',\n  Main = 'MAIN',\n  Enemy = 'ENEMY',\n  Fighter = 'FIGHTER',\n  Map = 'MAP',\n  Resources = 'RESOURCES',\n  Settings = 'SETTINGS',\n  Store = 'STORE',\n  Upgrades = 'UPGRADES',\n  Workers = 'WORKERS'\n}\n\nexport class Message {\n  source: MessageSource;\n  message: string;\n  timestamp: number;\n\n  constructor(source: MessageSource, message: string) {\n    this.source = source;\n    this.message = message;\n    this.timestamp = Date.now();\n  }\n}\n","import { ResourceType, ResourceEnum } from './resourceData';\nimport { ResourceAnimationType } from './entity';\nimport { ResourcesService } from '../services/resources/resources.service';\n\nexport interface ResourceConsume {\n  resourceEnum: ResourceEnum;\n  cost: number;\n}\n\nexport class Resource {\n  name: string;\n  resourceType: ResourceType;\n  resourceEnum: ResourceEnum;\n\n  iconPath: string;\n\n  amount = 0;\n  amountTravelling = 0;\n\n  resourceConsumes: ResourceConsume[];\n\n  harvestable = true;\n  harvestYield = 1;\n  harvestMilliseconds = 1000;\n  pathAvailable: boolean;\n\n  harvestStartDate = Date.now();\n  harvesting = false;\n  progressBarValue = 0;\n\n  sellable = true;\n  sellsFor = 0;\n  autoSellCutoff = 0;\n\n  edible = false;\n  foodMultiplier = 1;\n\n  resourceDescription: string;\n  workerVerb: string;\n  workerNoun: string;\n\n  resourceTier: number;\n\n  bindIndex: number;\n\n  resourcesService: ResourcesService;\n\n  public constructor(name: string, resourceType: ResourceType, resourceEnum: ResourceEnum, iconPath: string,\n                     resourceConsumes: ResourceConsume[], harvestable: boolean, harvestYield: number = 1, harvestMilliseconds: number,\n                     sellable: boolean, sellsFor: number, resourceDescription: string, workerVerb: string, workerNoun: string,\n                     resourceTier: number, edible: boolean, foodMultiplier: number, resourcesService: ResourcesService) {\n    this.name = name;\n    this.resourceType = resourceType;\n    this.resourceEnum = resourceEnum;\n\n    this.iconPath = iconPath;\n\n    this.resourceConsumes = resourceConsumes;\n\n    this.harvestable = harvestable;\n    this.harvestYield = harvestYield;\n    this.harvestMilliseconds = harvestMilliseconds;\n    this.pathAvailable = false;\n\n    this.sellable = sellable;\n    this.sellsFor = sellsFor;\n\n    this.resourceDescription = resourceDescription;\n    this.workerVerb = workerVerb;\n    this.workerNoun = workerNoun;\n\n    this.resourceTier = resourceTier;\n\n    this.edible = edible;\n    this.foodMultiplier = foodMultiplier;\n\n    this.resourcesService = resourcesService;\n  }\n\n  addAmount(amount: number) {\n    this.amount += amount;\n    if (this.amount <= 0) {\n      this.amount = 0;\n    }\n  }\n\n  harvestResource(multiplier = 1) {\n    if (this.resourceTier > this.resourcesService.highestTierReached) {\n      this.resourcesService.highestTierReached = this.resourceTier;\n    }\n\n    this.addAmount(multiplier);\n  }\n\n  public deductResourceConsumes(multiplier = 1) {\n    for (const resourceConsume of this.resourceConsumes) {\n      this.resourcesService.resources.get(resourceConsume.resourceEnum).addAmount(-resourceConsume.cost * multiplier);\n    }\n  }\n\n  public finishResourceAnimation(multiplier = 1, animationType: ResourceAnimationType) {\n    switch (animationType) {\n      case ResourceAnimationType.PlayerSpawned: {\n        this.amountTravelling--;\n        this.harvestResource(multiplier);\n        break;\n      } case ResourceAnimationType.WorkerSpawned: {\n        this.harvestResource(multiplier);\n        break;\n      } case ResourceAnimationType.Sold: {\n        this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(multiplier * this.sellsFor);\n        break;\n      }\n    }\n  }\n\n  public canHarvest(multiplier = 1): boolean {\n    if (!this.harvestable || !this.pathAvailable) {\n      return false;\n    }\n\n    return this.canAfford(multiplier);\n  }\n\n  public canAfford(multiplier = 1): boolean {\n    for (const resourceConsume of this.resourceConsumes) {\n      if (this.resourcesService.resources.get(resourceConsume.resourceEnum).amount < resourceConsume.cost * multiplier) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n  get resourceAccessible(): boolean {\n    return this.resourceTier <= this.resourcesService.highestTierReached + 1;\n  }\n}\n","export enum ResourceType {\n  Currency = 'CURRENCY',\n  Wood = 'WOOD',\n  Food = 'FOOD',\n  Mineral = 'MINERAL',\n  Metal = 'METAL'\n}\n\nexport enum ResourceEnum {\n  Gold = 'GOLD',\n  Oak = 'OAK',\n  Pine = 'PINE',\n  Birch = 'BIRCH',\n  Eucalyptus = 'EUCALYPTUS',\n  Willow = 'WILLOW',\n  Teak = 'TEAK',\n  EntSoul = 'ENTSOUL',\n  ReanimatedEnt = 'REANIMATEDENT',\n  Stone = 'STONE',\n  Graphite = 'GRAPHITE',\n  Limestone = 'LIMESTONE',\n  Marble = 'MARBLE',\n  Quartz = 'QUARTZ',\n  Obsidian = 'OBSIDIAN',\n  Diamond = 'DIAMOND',\n  CopperOre = 'COPPERORE',\n  TinOre = 'TINORE',\n  BronzeIngot = 'BRONZEINGOT',\n  IronOre = 'IRONORE',\n  IronIngot = 'IRONINGOT',\n  SteelIngot = 'STEELINGOT',\n  GoldOre = 'GOLDORE',\n  GoldIngot = 'GOLDINGOT',\n  LatinumOre = 'LATINUMORE',\n  LatinumIngot = 'LATINUMINGOT',\n  UnbelieviumOre = 'UNBELIEVIUMORE',\n  LustrialOre = 'LUSTRIALORE',\n  SpectrusOre = 'SPECTRUSORE',\n  TemprousIngot = 'TEMPROUSINGOT',\n  RefinedTemprous = 'REFINEDTEMPROUS',\n  Wheat = 'WHEAT',\n  Bread = 'BREAD',\n  RawPotato = 'RAWPOTATO',\n  Potato = 'POTATO',\n  Rice = 'RICE',\n  JellyDonut = 'JELLYDONUT',\n  RawHerring = 'RAWHERRING',\n  Herring = 'HERRING',\n  RawBass = 'RAWBASS',\n  Bass = 'BASS',\n  RawShark = 'RAWSHARK',\n  Shark = 'SHARK',\n  RawChicken = 'RAWCHICKEN',\n  Chicken = 'CHICKEN',\n  RawSteak = 'RAWSTEAK',\n  Steak = 'STEAK',\n  RawDragonMeat = 'RAWDRAGONMEAT',\n  DragonMeat = 'DRAGONMEAT'\n}\n","import { HealthBar } from './healthbar';\nimport { Resource } from './resource';\nimport { ResourceType, ResourceEnum } from './resourceData';\nimport { ResourceCost } from './resourceCost';\nimport { ResourcesService } from '../services/resources/resources.service';\nimport { MapService } from '../services/map/map.service';\n\nexport enum MapTileType {\n  Grass = 'GRASS',\n  Water = 'WATER',\n  Mountain = 'MOUNTAIN'\n}\n\nexport enum ResourceTileType {\n  OakTree = 'OAKTREE',\n  PineTree = 'PINETREE',\n  BirchTree = 'BIRCHTREE',\n  EucalyptusTree = 'EUCALYPTUSTREE',\n  WillowTree = 'WILLOWTREE',\n  TeakTree = 'TEAKTREE',\n  DeadEnt = 'DEADENT',\n  StoneMine = 'STONEMINE',\n  GraphiteMine = 'GRAPHITEMINE',\n  LimestoneMine = 'LIMESTONEMINE',\n  MarbleMine = 'MARBLEMINE',\n  QuartzMine = 'QUARTZMINE',\n  ObsidianMine = 'OBSIDIANMINE',\n  DiamondMine = 'DIAMONDMINE',\n  CopperMine = 'COPPERMINE',\n  TinMine = 'TINMINE',\n  IronMine = 'IRONMINE',\n  GoldMine = 'GOLDMINE',\n  LatinumMine = 'LATINUMMINE',\n  UnbelieviumMine = 'UNBELIEVIUMMINE',\n  LustrialMine = 'LUSTRIALMINE',\n  SpectrusMine = 'SPECTRUSMINE',\n  CrackedForge = 'CRACKEDFORGE',\n  StoneForge = 'STONEFORGE',\n  IronForge = 'IRONFORGE',\n  GoldForge = 'GOLDFORGE',\n  LatinumForge = 'LATINUMFORGE',\n  TemprousDistillery = 'TEMPROUSDISTILLERY',\n  WheatFarm = 'WHEATFARM',\n  RawPotatoFarm = 'RAWPOTATOFARM',\n  RiceFarm = 'RICEFARM',\n  FishingSpot = 'FISHINGSPOT',\n  OakOven = 'OAKOVEN',\n  StoneOven = 'STONEOVEN',\n  MarbleOven = 'MARBLEOVEN',\n  TemprousOven = 'TEMPROUSOVEN',\n  ChickenFarm = 'CHICKENFARM',\n  CowFarm = 'COWFARM',\n  DragonFarm = 'DRAGONFARM'\n}\n\nexport enum BuildingTileType {\n  Wall = 'WALL',\n  Road = 'ROAD',\n  Home = 'HOME',\n  Bridge = 'BRIDGE',\n  Tunnel = 'TUNNEL',\n  CrackedForge = 'CRACKEDFORGE',\n  StoneForge = 'STONEFORGE',\n  IronForge = 'IRONFORGE',\n  GoldForge = 'GOLDFORGE',\n  LatinumForge = 'LATINUMFORGE',\n  TemprousDistillery = 'TEMPROUSDISTILLERY',\n  OakOven = 'OAKOVEN',\n  StoneOven = 'STONEOVEN',\n  MarbleOven = 'MARBLEOVEN',\n  TemprousOven = 'TEMPROUSOVEN',\n  ChickenFarm = 'CHICKENFARM',\n  CowFarm = 'COWFARM',\n  DragonFarm = 'DRAGONFARM',\n  WoodMarket = 'WOODMARKET',\n  MineralMarket = 'MINERALMARKET',\n  MetalMarket = 'METALMARKET'\n}\n\nexport enum BuildingSubType {\n  /** A building which creates a resource-spawning node. */\n  Resource = 'RESOURCE',\n  /** A building which automatically sells stored resources. */\n  Market = 'MARKET',\n  /** A building that resources and entities can travel on. */\n  Path = 'PATH',\n  /** A building that blocks entity travelling. */\n  Obstacle = 'OBSTACLE',\n  Miscellaneous = 'MISC'\n}\n\nexport enum TileStat {\n  SellRate = 'SELLRATE',\n  SellAmount = 'SELLAMOUNT',\n  MaxHealth = 'MAXHEALTH'\n}\n\nexport interface MapTileData {\n  tileType: MapTileType;\n\n  name: string;\n\n  walkable: boolean;\n}\n\nexport interface BuildingTileData {\n  tileType: BuildingTileType;\n  subType: BuildingSubType;\n\n  name: string;\n  description: string;\n  placeable: boolean;\n  maxPlaceable: number;\n\n  upgradeBuilding?: BuildingTileType;\n\n  baseHealth: number;\n  repairResourceEnum?: ResourceEnum;\n  repairCostPerPoint?: number;\n\n  resourceCosts: ResourceCost[];\n  buildableSurfaces: MapTileType[];\n\n  placesResourceTile: boolean;\n  resourceTileType?: ResourceTileType;\n\n  resourcePathable: boolean;\n}\n\nexport interface ResourceTileData {\n  tileType: ResourceTileType;\n\n  name: string;\n  placeable: boolean;\n\n  spawnsOn: MapTileType[];\n  isNaturalResource: boolean;\n  spawnRate: number;\n\n  resourceEnums: ResourceEnum[];\n}\n\nexport class BuildingNode {\n  tileType: BuildingTileType;\n  owningTile: Phaser.Tilemaps.Tile;\n\n  removable: boolean;\n\n  health: number;\n  maxHealth: number;\n  healthBar: HealthBar;\n\n  market?: Market;\n\n  statLevels = {};\n  statCosts = {};\n\n  resourcesService: ResourcesService;\n\n  constructor(tileType: BuildingTileType, removable: boolean, health: number,\n      owningTile: Phaser.Tilemaps.Tile, scene: Phaser.Scene, resourcesService: ResourcesService) {\n    this.tileType = tileType;\n    this.owningTile = owningTile;\n\n    this.removable = removable;\n\n    this.health = health;\n    this.maxHealth = health;\n\n    this.statLevels[TileStat.MaxHealth] = 1;\n    this.statCosts[TileStat.MaxHealth] = 1500;\n\n    this.healthBar = new HealthBar(owningTile, scene);\n\n    this.resourcesService = resourcesService;\n  }\n\n  tick(elapsed: number, deltaTime: number) {\n    this.healthBar.tick(elapsed, deltaTime, this.owningTile.getCenterX(), this.owningTile.getCenterY());\n\n    if (this.market) {\n      this.market.tick(elapsed, deltaTime);\n    }\n\n    if (this.health <= 0) {\n      // Phaser.Tilemaps.Tile.tint seems to be somewhat broken at the moment.\n      // This line tints and broken buildings in a light red color.\n      this.owningTile.tint = 0x9999ff;\n    }\n  }\n\n  public canUpgradeStat(stat: TileStat): boolean {\n    return this.resourcesService.resources.get(ResourceEnum.Gold).amount >= this.statCosts[stat];\n  }\n\n  public getUpgradedStat(stat: TileStat): number {\n    switch (stat) {\n      case TileStat.SellAmount: {\n        return this.market.sellQuantity * 1.2;\n      } case TileStat.SellRate: {\n        return this.market.sellInterval / 1.1;\n      } case TileStat.MaxHealth: {\n        return Math.floor(this.maxHealth * 1.2);\n      }\n    }\n  }\n\n  public upgradeStat(stat: TileStat) {\n    if (!this.canUpgradeStat(stat)) {\n      return;\n    }\n\n    this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(-this.statCosts[stat]);\n\n    const upgradedStat = this.getUpgradedStat(stat);\n    switch (stat) {\n      case TileStat.SellAmount: {\n        this.market.sellQuantity = upgradedStat;\n        break;\n      } case TileStat.SellRate: {\n        this.market.sellInterval = upgradedStat;\n        break;\n      } case TileStat.MaxHealth: {\n        this.maxHealth = upgradedStat;\n        this.health = this.maxHealth;\n        break;\n      }\n    }\n\n    this.statLevels[stat]++;\n    this.statCosts[stat] *= 1.5;\n  }\n\n  takeDamage(number) {\n    this.health -= number;\n    if (this.health < 0) {\n      this.health = 0;\n    }\n\n    this.healthBar.updateHealthbar(this.health / this.maxHealth);\n  }\n}\n\nexport class ResourceNode {\n  tileType: ResourceTileType;\n\n  path?: Phaser.Tilemaps.Tile[];\n\n  health: number;\n\n  constructor(tileType: ResourceTileType, health: number) {\n    this.tileType = tileType;\n    this.path = [];\n    this.health = health;\n  }\n\n  get travelMilliseconds(): number {\n    return this.path ? (this.path.length - 1) * 1000 : Infinity;\n  }\n}\n\nexport class Market {\n  mapService: MapService;\n  resourcesService: ResourcesService;\n\n  homeTile: Phaser.Tilemaps.Tile;\n  owningTile: Phaser.Tilemaps.Tile;\n  tilePath: Phaser.Tilemaps.Tile[];\n  soldResources: Resource[];\n  currentResource = 0;\n\n  recentSales: number[] = [];\n  recentWindowSize = 20;\n  timeSinceLastSale = 0;\n\n  lastSellTime = 0;\n  sellInterval = 1000;\n  sellQuantity = 50;\n\n  public constructor(mapService: MapService, resourcesService: ResourcesService, resourceType: ResourceType,\n      owningTile: Phaser.Tilemaps.Tile, shouldInitStats: boolean) {\n    const buildingNode: BuildingNode = owningTile.properties['buildingNode'];\n\n    if (shouldInitStats) {\n      buildingNode.statLevels[TileStat.SellAmount] = 1;\n      buildingNode.statLevels[TileStat.SellRate] = 1;\n\n      buildingNode.statCosts[TileStat.SellAmount] = 1500;\n      buildingNode.statCosts[TileStat.SellRate] = 1500;\n    }\n\n    this.mapService = mapService;\n    this.resourcesService = resourcesService;\n\n    this.soldResources = resourcesService.getResources(resourceType);\n\n    this.homeTile = mapService.mapLayer.findTile(\n      tile => tile.properties['buildingNode'] && tile.properties['buildingNode'].tileType === BuildingTileType.Home);\n    this.owningTile = owningTile;\n\n    this.calculateConnection();\n  }\n\n  public tick(elapsed: number, deltaTime: number) {\n    if (this.tilePath.length && elapsed - this.lastSellTime > this.sellInterval) {\n      this.timeSinceLastSale += deltaTime;\n\n      const resource = this.soldResources[this.currentResource];\n      const sellAmount = Math.min(this.sellQuantity, resource.amount - resource.autoSellCutoff);\n\n      if (sellAmount > 0) {\n        this.mapService.spawnSoldResourceAnimation(resource.resourceEnum, sellAmount, this);\n        this.lastSellTime = elapsed;\n\n        resource.addAmount(-sellAmount);\n\n        this.logSale(sellAmount * resource.sellsFor);\n\n        this.timeSinceLastSale = 0;\n      }\n\n      if (this.timeSinceLastSale >= 1000) {\n        this.logSale(0);\n        this.timeSinceLastSale = 0;\n      }\n\n      do {\n        this.currentResource = (this.currentResource + 1) % this.soldResources.length;\n      } while (!this.soldResources[this.currentResource].sellable);\n    }\n  }\n\n  logSale(profit: number) {\n    this.recentSales.push(profit);\n    if (this.recentSales.length >= this.recentWindowSize) {\n      this.recentSales = this.recentSales.slice(1, this.recentWindowSize);\n    }\n  }\n\n  public calculateConnection() {\n    this.mapService.findPath(this.homeTile, this.owningTile, true, true).subscribe(path => {\n      this.tilePath = path;\n    });\n  }\n\n  public get averageRecentProfit(): number {\n    if (!this.recentSales.length) {\n      return 0;\n    }\n\n    return this.recentSales.reduce((total, sale) => total += sale) / this.recentSales.length;\n  }\n\n}\n","import { ResourcesService } from './../services/resources/resources.service';\nimport { WorkersService } from './../services/workers/workers.service';\nimport { MessagesService } from './../services/messages/messages.service';\nimport { ResourceCost } from './resourceCost';\nimport { ResourceType, ResourceEnum } from './resourceData';\nimport { MessageSource } from './message';\n\nexport enum UpgradeType {\n  Resource = 'RESOURCE',\n  Worker = 'WORKER'\n}\n\nexport enum UpgradeVariable {\n  Harvestability = 'HARVESTABILITY',\n  HarvestYield = 'HARVEST_YIELD',\n  HarvestMilliseconds = 'HARVEST_MILLISECONDS',\n  Workable = 'WORKABLE',\n  WorkerYield = 'WORKER_YIELD',\n  WorkerCost = 'WORKER_COST'\n}\n\nexport interface UpgradeEffect {\n  upgradeIsForWholeType: boolean;\n\n  resourceType?: ResourceType;\n  resourceEnum?: ResourceEnum;\n  maxTier?: number;\n\n  upgradeVariable: UpgradeVariable;\n  upgradeFactor: number;\n}\n\nexport class Upgrade {\n  static UpgradeVariableNames = {\n    'HARVESTABILITY': 'Harvestability',\n    'HARVEST_YIELD': 'Harvest Yield',\n    'HARVEST_MILLISECONDS': 'Harvest Time',\n    'WORKABLE': 'Workability',\n    'WORKER_YIELD': 'Worker Yield',\n    'WORKER_COST': 'Worker Cost',\n    'Harvestability': 'Harvestability',\n    'HarvestYield': 'Harvest Yield',\n    'HarvestMilliseconds': 'Harvest Time',\n    'Workable': 'Workability',\n    'WorkerYield': 'Worker Yield',\n    'WorkerCost': 'Worker Cost'\n  };\n\n  id: number;\n  name: string;\n  description: string;\n\n  upgradeType: UpgradeType;\n\n  upgradeEffects: UpgradeEffect[];\n  resourceCosts: ResourceCost[];\n\n  purchased = false;\n\n  resourcesService: ResourcesService;\n  workersService: WorkersService;\n  messagesService: MessagesService;\n\n  public constructor(id: number, name: string, description: string, upgradeType: UpgradeType,\n                     upgradeEffects: UpgradeEffect[], resourceCosts: ResourceCost[], purchased = false,\n                     resourcesService: ResourcesService, workersService: WorkersService, messagesService: MessagesService) {\n    this.id = id;\n    this.name = name;\n    this.description = description;\n\n    this.upgradeType = upgradeType;\n\n    this.upgradeEffects = upgradeEffects;\n    this.resourceCosts = resourceCosts;\n\n    this.purchased = purchased;\n\n    this.resourcesService = resourcesService;\n    this.workersService = workersService;\n    this.messagesService = messagesService;\n  }\n\n  public purchaseUpgrade() {\n    if (this.purchased || !this.canAfford()) {\n      return;\n    }\n\n    for (const resourceCost of this.resourceCosts) {\n      this.resourcesService.resources.get(resourceCost.resourceEnum).addAmount(-resourceCost.resourceCost);\n    }\n\n    this.applyUpgrade();\n\n    this.purchased = true;\n  }\n\n  public applyUpgrade(applySilently = false) {\n    for (const upgradeEffect of this.upgradeEffects) {\n      if (upgradeEffect.upgradeVariable === UpgradeVariable.WorkerCost) {\n        this.workersService.workers.get(upgradeEffect.resourceType).cost *= upgradeEffect.upgradeFactor;\n        continue;\n      }\n\n      let resourcesToUpgrade = [];\n      let workersToUpgrade = [];\n\n      if (upgradeEffect.upgradeIsForWholeType) {\n        resourcesToUpgrade = this.resourcesService.getResources(upgradeEffect.resourceType);\n        workersToUpgrade = this.workersService.workers.get(upgradeEffect.resourceType).getResourceWorkers();\n\n        if (upgradeEffect.maxTier >= 0) {\n          resourcesToUpgrade = resourcesToUpgrade.filter(resource => resource.resourceTier <= upgradeEffect.maxTier);\n          workersToUpgrade = workersToUpgrade.filter(worker =>\n            this.resourcesService.resources.get(worker.resourceEnum).resourceTier <= upgradeEffect.maxTier);\n        }\n      } else {\n        resourcesToUpgrade.push(this.resourcesService.resources.get(upgradeEffect.resourceEnum));\n        workersToUpgrade.push(this.workersService.getResourceWorker(upgradeEffect.resourceEnum));\n      }\n\n      for (const resourceToUpgrade of resourcesToUpgrade) {\n        switch (upgradeEffect.upgradeVariable) {\n          case UpgradeVariable.Harvestability: {\n            resourceToUpgrade.harvestable = !!upgradeEffect.upgradeFactor;\n            break;\n          }\n          case UpgradeVariable.HarvestYield: {\n            resourceToUpgrade.harvestYield *= upgradeEffect.upgradeFactor;\n            break;\n          }\n          case UpgradeVariable.HarvestMilliseconds: {\n            resourceToUpgrade.harvestMilliseconds *= upgradeEffect.upgradeFactor;\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      }\n\n      for (const workerToUpgrade of workersToUpgrade) {\n        switch(upgradeEffect.upgradeVariable) {\n          case UpgradeVariable.Workable: {\n            workerToUpgrade.workable = !!upgradeEffect.upgradeFactor;\n            break;\n          }\n          case UpgradeVariable.WorkerYield: {\n            workerToUpgrade.workerYield *= upgradeEffect.upgradeFactor;\n            break;\n          }\n          default: {\n            break;\n          }\n        }\n      }\n    }\n\n    if (!applySilently) {\n      this.log('Purchased upgrade: ' + this.name);\n    }\n  }\n\n  public canAfford(): boolean {\n    return this.resourceCosts.every(resourceCost =>\n      this.resourcesService.resources.get(resourceCost.resourceEnum).amount >= resourceCost.resourceCost);\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Workers, message);\n  }\n}\n","export class Vector {\n  x: number;\n  y: number;\n\n  constructor(x: number, y: number) {\n    this.x = x;\n    this.y = y;\n  }\n\n  get magnitude(): number {\n    return Math.sqrt(this.x ** 2 + this.y ** 2);\n  }\n\n  add(other: Vector) {\n    return new Vector(this.x + other.x, this.y + other.y);\n  }\n\n  subtract(other: Vector) {\n    return new Vector(this.x - other.x, this.y - other.y);\n  }\n\n  multiply(scalar: number) {\n    return new Vector(this.x * scalar, this.y * scalar);\n  }\n\n  static get identity(): Vector {\n    return new Vector(1, 1);\n  }\n}\n","import { Resource } from './resource';\nimport { Tick } from './../services/tick/tick.service';\nimport { WorkersService } from './../services/workers/workers.service';\nimport { ResourcesService } from './../services/resources/resources.service';\nimport { MapService } from './../services/map/map.service';\nimport { MessagesService } from './../services/messages/messages.service';\nimport { ResourceType, ResourceEnum } from './resourceData';\nimport { MessageSource } from './message';\n\nexport interface ResourceWorker {\n  resourceEnum: ResourceEnum;\n  workable: boolean;\n\n  recurringCost: number;\n  workerCount: number;\n  workerYield: number;\n\n  lastHarvestTime: number;\n\n  sliderSetting: number;\n  sliderSettingValid: boolean;\n}\n\nexport class Worker implements Tick {\n  cost: number;\n\n  resourceType: ResourceType;\n  workerCount = 0;\n  freeWorkers = 0;\n\n  resourceWorkers: Map<string, ResourceWorker>;\n\n  minimumInterval = 1000;\n\n  priorityOrder = 0;\n\n  workersService: WorkersService;\n  resourcesService: ResourcesService;\n  mapService: MapService;\n  messagesService: MessagesService;\n\n  public constructor(cost: number, resourceType: ResourceType, resourceWorkers: Map<string, ResourceWorker>,\n                     priorityOrder = 0, workersService: WorkersService, resourcesService: ResourcesService,\n                     mapService: MapService, messagesService: MessagesService) {\n    this.cost = cost;\n    this.resourceType = resourceType;\n    this.resourceWorkers = resourceWorkers;\n\n    this.priorityOrder = priorityOrder;\n\n    this.workersService = workersService;\n    this.resourcesService = resourcesService;\n    this.mapService = mapService;\n    this.messagesService = messagesService;\n  }\n\n  public tick(elapsed: number, deltaTime: number) {\n    for (const resourceWorker of this.getResourceWorkers()) {\n      const resource = this.resourcesService.resources.get(resourceWorker.resourceEnum);\n\n      if (resourceWorker.workerCount === 0 || elapsed - resourceWorker.lastHarvestTime < this.getWorkInterval(resource) ||\n          !this.canAffordToHarvest(resource.resourceEnum)) {\n        continue;\n      }\n\n      let workerOutput = resourceWorker.workerYield * resourceWorker.workerCount;\n      if (resource.harvestMilliseconds < this.minimumInterval) {\n        workerOutput *= this.minimumInterval / resource.harvestMilliseconds;\n      }\n\n      const amountToConsume = resourceWorker.recurringCost * resourceWorker.workerCount;\n      this.workersService.foodStockpile -= amountToConsume;\n      if (this.workersService.foodStockpile < 0) {\n        const foodConsumed = amountToConsume + this.workersService.foodStockpile;\n        workerOutput *= (foodConsumed / amountToConsume);\n        this.workersService.foodStockpile = 0;\n      }\n\n      if (!this.canAffordToHarvest(resource.resourceEnum)) {\n        this.log(`No more food available for ${resource.name}.`);\n      }\n\n      this.mapService.spawnHarvestedResourceAnimation(resource, workerOutput, false);\n\n      resourceWorker.lastHarvestTime = elapsed;\n    }\n  }\n\n  public getResourceWorkers(filterByAccessible = false, filterByWorkable = false, filterByHarvestable = false): ResourceWorker[] {\n    let resourceWorkers = Array.from(this.resourceWorkers.values());\n\n    if (filterByAccessible) {\n      resourceWorkers = resourceWorkers.filter(rw => this.resourcesService.resources.get(rw.resourceEnum).resourceAccessible);\n    }\n    if (filterByWorkable) {\n      resourceWorkers = resourceWorkers.filter(rw => rw.workable);\n    }\n    if (filterByHarvestable) {\n      resourceWorkers = resourceWorkers.filter(rw => this.resourcesService.resources.get(rw.resourceEnum).harvestable);\n    }\n\n    return resourceWorkers;\n  }\n\n  hireWorker() {\n    if (!this.canAffordToHire()) {\n      return;\n    }\n\n    this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(-this.cost);\n\n    this.cost *= 1.01;\n    this.workerCount++;\n    this.freeWorkers++;\n  }\n\n  canAffordToHire(): boolean {\n    return this.cost <= this.resourcesService.resources.get(ResourceEnum.Gold).amount;\n  }\n\n  canAffordToHarvest(resourceEnum: ResourceEnum): boolean {\n    return this.resourceWorkers.get(resourceEnum).recurringCost <= this.workersService.foodStockpile;\n  }\n\n  updateResourceWorker(resourceEnum: ResourceEnum, newResourceWorkerCount: number) {\n    const resourceWorker = this.resourceWorkers.get(resourceEnum);\n\n    if (!resourceWorker.sliderSettingValid) {\n      newResourceWorkerCount = this.freeWorkers + resourceWorker.workerCount;\n      resourceWorker.sliderSetting = newResourceWorkerCount;\n    }\n\n    const newFreeWorkers = this.freeWorkers + resourceWorker.workerCount - newResourceWorkerCount;\n\n    this.freeWorkers = newFreeWorkers;\n    resourceWorker.workerCount = newResourceWorkerCount;\n  }\n\n  getWorkInterval(resource: Resource): number {\n    return Math.max(resource.harvestMilliseconds, this.minimumInterval);\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Workers, message);\n  }\n}\n","import { Pipe } from '@angular/core';\nimport { PipeTransform } from '@angular/core/src/change_detection/pipe_transform';\n\n@Pipe({\n    name: 'enumToArray'\n})\nexport class EnumToPipe implements PipeTransform {\n    transform(data: object) {\n        return Object.keys(data);\n    }\n}\n","import { Pipe, PipeTransform } from '@angular/core';\nimport { formatNumber } from '@angular/common';\n\n@Pipe({\n  name: 'longNumber'\n})\nexport class LongNumberPipe implements PipeTransform {\n  shortScaleNames = ['Million', 'Billion', 'Trillion', 'Quadrillion', 'Quintillion', 'Sextillion', 'Septillion', 'Octillion', 'Nonillion',\n    'Decillion', 'Undecillion', 'Duodecillion', 'Tredecillion', 'Quattuordecillion', 'Quindecillion', 'Sexdecillion', 'Septendecillion',\n    'Octodecillion', 'Novemdecillion', 'Vigintillion', 'Centillion'];\n\n  transform(data: number, decimalsShown: number = 0) {\n    if (data < 1000000) {\n      return formatNumber(data, 'en-US', `1.0-${decimalsShown}`);\n    }\n\n    let nameIndex = -2;\n\n    while (Math.abs(data) > 1000) {\n      data /= 1000;\n      nameIndex++;\n    }\n\n    return `${formatNumber(data, 'en-US', '1.0-3')} ${this.shortScaleNames[nameIndex]}`;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { EnumToPipe } from './enumtoarraypipe';\nimport { LongNumberPipe } from './long-number-pipe';\nimport { ResourceIdPipe } from './resource-id.pipe';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [EnumToPipe, ResourceIdPipe, LongNumberPipe],\n  exports: [EnumToPipe, ResourceIdPipe, LongNumberPipe]\n})\nexport class PipeModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'resourceId'\n})\nexport class ResourceIdPipe implements PipeTransform {\n  transform(value: string): string {\n    return value.toLowerCase().replace(/ /g, '_');\n  }\n}\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdminService {\n  public filterAccessible = true;\n  public editMode = false;\n\n  constructor() { }\n}\n","import { Injectable } from '@angular/core';\n\nimport { BuildingTileType, BuildingTileData, BuildingSubType, Market } from '../../objects/tile';\nimport { ResourcesService } from './../resources/resources.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BuildingsService {\n  selectedBuilding: BuildingTileData;\n  totalBuildingsPlaced = new Map<BuildingTileType, number>();\n\n  constructor(protected resourcesService: ResourcesService) { }\n\n  public purchaseBuilding(buildingData: BuildingTileData) {\n    const buildingType = buildingData.tileType;\n\n    if (!this.canAffordBuilding(buildingData)) {\n      return;\n    }\n\n    if (!this.totalBuildingsPlaced.has(buildingData.tileType)) {\n      this.totalBuildingsPlaced.set(buildingType, 1);\n    } else {\n      this.totalBuildingsPlaced.set(buildingType, this.totalBuildingsPlaced.get(buildingType) + 1);\n    }\n\n    for (const resourceCost of buildingData.resourceCosts) {\n      this.resourcesService.resources.get(resourceCost.resourceEnum).addAmount(-resourceCost.resourceCost);\n    }\n  }\n\n  public refundBuilding(buildingData: BuildingTileData) {\n    if (!this.totalBuildingsPlaced.has(buildingData.tileType)) {\n      this.totalBuildingsPlaced.set(buildingData.tileType, 0);\n    } else {\n      this.totalBuildingsPlaced.set(buildingData.tileType, this.totalBuildingsPlaced.get(buildingData.tileType) - 1);\n    }\n\n    for (const resourceCost of buildingData.resourceCosts) {\n      this.resourcesService.resources.get(resourceCost.resourceEnum).addAmount(resourceCost.resourceCost * 0.85);\n    }\n  }\n\n  public canAffordBuilding(buildingTile: BuildingTileData): boolean {\n    if (buildingTile.maxPlaceable > 0 && this.totalBuildingsPlaced.get(buildingTile.tileType) >= buildingTile.maxPlaceable) {\n      return false;\n    }\n    for (const resourceCost of buildingTile.resourceCosts) {\n      if (this.resourcesService.resources.get(resourceCost.resourceEnum).amount < resourceCost.resourceCost) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Resource } from '../../objects/resource';\nimport { Enemy, EnemyData, EnemyState } from './../../objects/entity';\nimport { MessageSource } from '../../objects/message';\nimport { BuildingsService } from '../buildings/buildings.service';\nimport { ResourcesService } from '../resources/resources.service';\nimport { MessagesService } from '../messages/messages.service';\n\ndeclare var require: any;\nconst baseEnemyTypes = require('../../../assets/json/enemies.json');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EnemyService {\n  public enemyTypes: EnemyData[] = baseEnemyTypes;\n  enemyGroup: Phaser.GameObjects.Group;\n\n  enemiesActive: boolean;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected buildingsService: BuildingsService,\n              protected messagesService: MessagesService) { }\n\n  resourceIsBeingStolen(resource: Resource): boolean {\n    const activeEnemies = this.enemies.filter(\n      enemy => enemy.currentState === EnemyState.Looting);\n\n    return activeEnemies.some(enemy => enemy.resourcesToSteal.includes(resource.resourceEnum));\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Enemy, message);\n  }\n\n  get enemies(): Enemy[] {\n    return this.enemyGroup ? this.enemyGroup.getChildren().map(enemy => enemy as Enemy) : [];\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Fighter, FighterData } from '../../objects/entity';\nimport { Resource } from './../../objects/resource';\nimport { ResourceEnum } from './../../objects/resourceData';\nimport { ResourcesService } from '../resources/resources.service';\nimport { EnemyService } from './../enemy/enemy.service';\n\ndeclare var require: any;\nconst baseFighterTypes = require('../../../assets/json/fighters.json');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class FighterService {\n  public fighterTypes: FighterData[] = baseFighterTypes;\n  fighterGroup: Phaser.GameObjects.Group;\n  public selectedFighterType: FighterData;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected enemyService: EnemyService) {\n  }\n\n  canAffordFighter(fighterType: FighterData) {\n    const goldResource: Resource = this.resourcesService.resources.get(ResourceEnum.Gold);\n    return goldResource.amount >= fighterType.cost;\n  }\n\n  purchaseFigher(fighterType: FighterData) {\n    if (!this.canAffordFighter(fighterType)) {\n      return;\n    }\n\n    this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(-fighterType.cost);\n  }\n\n  get fighters(): Fighter[] {\n    return this.fighterGroup.getChildren().map(fighter => fighter as Fighter);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { timer } from 'rxjs';\n\nimport { ResourcesService } from '../resources/resources.service';\nimport { WorkersService } from '../workers/workers.service';\nimport { MapService, CursorTool } from '../map/map.service';\nimport { EnemyService } from '../enemy/enemy.service';\nimport { MessagesService } from '../messages/messages.service';\nimport { SettingsService } from '../settings/settings.service';\nimport { AdminService } from '../admin/admin.service';\nimport { Tick } from '../tick/tick.service';\nimport { Resource } from '../../objects/resource';\nimport { ResourceType } from '../../objects/resourceData';\nimport { MessageSource } from '../../objects/message';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HarvestService implements Tick {\n  timeElapsed: number;\n\n  resourceTypes = ResourceType;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected workersService: WorkersService,\n              protected mapService: MapService,\n              protected enemyService: EnemyService,\n              protected messagesService: MessagesService,\n              protected settingsService: SettingsService,\n              protected adminService: AdminService) {\n    document.addEventListener('keydown', (event) => this.processInput(event));\n  }\n\n  tick(elapsed: number, deltaTime: number) {\n    this.timeElapsed = elapsed;\n    for (const resource of this.resourcesService.getResources().filter(_resource => _resource.harvesting)) {\n      const millisecondsElapsed = elapsed - resource.harvestStartDate;\n      resource.progressBarValue = Math.floor(millisecondsElapsed / resource.harvestMilliseconds * 100);\n    }\n  }\n\n  processInput(event: KeyboardEvent) {\n    if (event.repeat) {\n      return;\n    }\n\n    switch (event.code) {\n      case 'KeyQ': {\n        this.mapService.cursorTool = CursorTool.PlaceBuildings;\n        this.mapService.buildingListVisible = true;\n        this.mapService.fighterListVisible = false;\n        break;\n      } case 'KeyW': {\n        this.mapService.cursorTool = CursorTool.ClearBuildings;\n        this.mapService.buildingListVisible = false;\n        this.mapService.fighterListVisible = false;\n        break;\n      } case 'KeyE': {\n        this.mapService.cursorTool = CursorTool.TileDetail;\n        this.mapService.buildingListVisible = false;\n        this.mapService.fighterListVisible = false;\n        break;\n      } case 'KeyR': {\n        if (!this.enemyService.enemiesActive) {\n          break;\n        }\n\n        this.mapService.cursorTool = CursorTool.PlaceFighters;\n        this.mapService.buildingListVisible = false;\n        this.mapService.fighterListVisible = true;\n        break;\n      } case 'KeyT': {\n        if (!this.enemyService.enemiesActive) {\n          break;\n        }\n\n        this.mapService.cursorTool = CursorTool.FighterDetail;\n        this.mapService.buildingListVisible = false;\n        this.mapService.fighterListVisible = false;\n        break;\n      }\n    }\n\n    const keyDigit = +event.code.replace('Digit', '').replace('Numpad', '');\n\n    if (!isNaN(keyDigit)) {\n      const resourceEnum = this.settingsService.resourceBinds[keyDigit];\n      const resource = this.resourcesService.resources.get(resourceEnum);\n\n      if (resource && resource.resourceAccessible && !resource.harvesting) {\n        this.startHarvesting(resource);\n      }\n    }\n  }\n\n  startHarvesting(resource: Resource) {\n    resource.harvestStartDate = this.timeElapsed;\n\n    if (!resource.canHarvest(resource.harvestYield)) {\n      return;\n    }\n\n    resource.harvesting = true;\n\n    const harvestTimer = timer(resource.harvestMilliseconds);\n    harvestTimer.subscribe(_ => this.harvestResource(resource));\n  }\n\n  harvestResource(resource: Resource) {\n    resource.amountTravelling++;\n\n    this.mapService.spawnHarvestedResourceAnimation(resource, resource.harvestYield, true);\n\n    if (resource.resourceTier > 3 && !this.enemyService.enemiesActive) {\n      this.enemyService.enemiesActive = true;\n      this.log('Your base has begun attracting unwanted attention...');\n    }\n\n    resource.progressBarValue = 0;\n    resource.harvesting = false;\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Main, message);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Observable, of } from 'rxjs';\n\nimport { ResourcesService } from '../resources/resources.service';\nimport { StoreService } from './../store/store.service';\nimport { BuildingsService } from '../buildings/buildings.service';\nimport { FighterService } from './../fighter/fighter.service';\nimport { EnemyService } from './../enemy/enemy.service';\nimport { MessagesService } from './../messages/messages.service';\nimport { ResourceEnum, ResourceType } from './../../objects/resourceData';\nimport { MapTileType, BuildingTileType, MapTileData, BuildingTileData, ResourceTileData,\n  Market, ResourceTileType, BuildingNode, ResourceNode, BuildingSubType } from '../../objects/tile';\nimport { Resource } from '../../objects/resource';\nimport { ResourceAnimation, Projectile, Actor, Fighter, ResourceAnimationType, FighterData, EnemyData, Enemy } from '../../objects/entity';\nimport { Vector } from '../../objects/vector';\n\ndeclare var require: any;\nconst baseTiles = require('../../../assets/json/tileTypes.json');\n\nimport * as prng from 'prng-parkmiller-js';\nimport * as SimplexNoise from 'simplex-noise';\n\nexport enum CursorTool {\n  PlaceBuildings = 'PLACEBUILDINGS',\n  ClearBuildings = 'CLEARBUILDINGS',\n  TileDetail = 'TILEDETAIL',\n  PlaceFighters = 'PLACEFIGHTERS',\n  FighterDetail = 'FIGHTERDETAIL',\n  PathfindingTest1 = 'PATHFINDINGTEST1',\n  PathfindingTest2 = 'PATHFINDINGTEST2'\n}\n\ninterface TileCoordinate {\n  x: number;\n  y: number;\n}\n\ninterface TileIsland {\n  tiles: TileCoordinate[];\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MapService {\n  public mapTileData: Map<string, MapTileData> = new Map<string, MapTileData>();\n  public buildingTileData: Map<string, BuildingTileData> = new Map<string, BuildingTileData>();\n  public resourceTileData: Map<string, ResourceTileData> = new Map<string, ResourceTileData>();\n\n  mapManager: Phaser.Game;\n\n  cursorTool: CursorTool;\n\n  buildingListVisible = false;\n  fighterListVisible = false;\n\n  focusedTile: Phaser.Tilemaps.Tile;\n  focusedFighter: Fighter;\n\n  chunkWidth = 50;\n  chunkHeight = 50;\n\n  totalChunkX = 4;\n  totalChunkY = 4;\n\n  resourceAnimationSpeed = 5;\n  enemyAnimationSpeed = 5;\n  projectileAnimationSpeed = 5;\n\n  tilePixelSize = 48;\n\n  // Map generation/rng variables\n\n  rng: any;\n\n  prngSeed: number;\n  mapSeed: number;\n  resourceSeed: number;\n\n  mapCreated = false;\n\n  // Phaser variables\n\n  canvasContainer: HTMLElement;\n  tileTooltip: HTMLElement;\n  fighterTooltip: HTMLElement;\n\n  tileIndices = {\n    'GRASS': 14, 'MOUNTAIN': 18, 'WATER': 36, 'HOME': 0, 'WALL': 1, 'ROAD': 2, 'TUNNEL': 3, 'BRIDGE': 4, 'CRACKEDFORGE': 5, 'STONEFORGE': 6,\n    'IRONFORGE': 7, 'GOLDFORGE': 8, 'LATINUMFORGE': 9, 'TEMPROUSDISTILLERY': 10, 'OAKOVEN': 11, 'STONEOVEN': 12, 'MARBLEOVEN': 13,\n    'TEMPROUSOVEN': 14, 'CHICKENFARM': 15, 'COWFARM': 16, 'DRAGONFARM': 17, 'WOODMARKET': 18, 'MINERALMARKET': 19, 'METALMARKET': 20,\n    'ENEMYPORTAL': 21, 'GOLD': 0, 'OAK': 1, 'EUCALYPTUS': 2, 'STONE': 3, 'COPPERORE': 4, 'IRONINGOT': 5, 'JELLYDONUT': 6, 'PINE': 7,\n    'BIRCH': 8, 'WILLOW': 9, 'GRAPHITE': 10, 'TINORE': 11, 'STEELINGOT': 12, 'RAWHERRING': 13, 'TEAK': 14, 'ENTSOUL': 15,\n    'REANIMATEDENT': 16, 'LIMESTONE': 17, 'IRONORE': 18, 'GOLDINGOT': 19, 'HERRING': 20, 'MARBLE': 21, 'QUARTZ': 22,\n    'OBSIDIAN': 23, 'DIAMOND': 24, 'GOLDORE': 25, 'LATINUMINGOT': 26, 'RAWBASS': 27, 'LATINUMORE': 28, 'UNBELIEVIUMORE': 29,\n    'LUSTRIALORE': 30, 'SPECTRUSORE': 31, 'BRONZEINGOT': 32, 'TEMPROUSINGOT': 33, 'BASS': 34, 'REFINEDTEMPROUS': 35,\n    'WHEAT': 36, 'BREAD': 37, 'RAWPOTATO': 38, 'POTATO': 39, 'RICE': 40, 'RAWSHARK': 41, 'SHARK': 42, 'RAWCHICKEN': 43, 'CHICKEN': 44,\n    'RAWSTEAK': 45, 'STEAK': 46, 'RAWDRAGONMEAT': 47, 'DRAGONMEAT': 48, 'OAKTREE': 0, 'PINETREE': 1, 'BIRCHTREE': 2, 'EUCALYPTUSTREE': 3,\n    'WILLOWTREE': 4, 'TEAKTREE': 5, 'DEADENT': 6, 'STONEMINE': 7, 'GRAPHITEMINE': 8, 'LIMESTONEMINE': 9, 'MARBLEMINE': 10, 'QUARTZMINE': 11,\n    'OBSIDIANMINE': 12, 'DIAMONDMINE': 13, 'COPPERMINE': 14, 'TINMINE': 15, 'IRONMINE': 16, 'GOLDMINE': 17, 'LATINUMMINE': 18,\n    'UNBELIEVIUMMINE': 19, 'LUSTRIALMINE': 20, 'SPECTRUSMINE': 21, 'WHEATFARM': 22, 'RAWPOTATOFARM': 23, 'RICEFARM': 24, 'FISHINGSPOT': 25\n  };\n\n  enemySpawnInterval = 45000;\n  lastEnemySpawnTime = 0;\n  maxEnemyCount = 25;\n\n  tileMap: Phaser.Tilemaps.Tilemap;\n  mapLayer: Phaser.Tilemaps.DynamicTilemapLayer;\n  resourceLayer: Phaser.Tilemaps.DynamicTilemapLayer;\n  buildingLayer: Phaser.Tilemaps.DynamicTilemapLayer;\n\n  mapIslands: TileIsland[] = [];\n\n  resourceAnimationGroup: Phaser.GameObjects.Group;\n  minimapIconGroup: Phaser.GameObjects.Group;\n  projectileGroup: Phaser.GameObjects.Group;\n  pathfindingTestGroup: Phaser.GameObjects.Group;\n\n  fighterAttackCircle: Phaser.GameObjects.Arc;\n\n  cameraControls: Phaser.Cameras.Controls.SmoothedKeyControl;\n  minimapPanBox: Phaser.GameObjects.Rectangle;\n\n  mainCamera: Phaser.Cameras.Scene2D.Camera;\n  minimapCamera: Phaser.Cameras.Scene2D.Camera;\n  minimapSize = 240;\n\n  isDraggingScreen: boolean;\n\n  pointerTileX: number;\n  pointerTileY: number;\n  dragStartPoint: Phaser.Math.Vector2;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected fightersService: FighterService,\n              protected enemyService: EnemyService,\n              protected storeService: StoreService,\n              protected buildingsService: BuildingsService,\n              protected messagesService: MessagesService) {\n    this.seedRng(Math.random());\n\n    for (const tileTypeString in MapTileType) {\n      if (typeof tileTypeString === 'string') {\n        const tileType = MapTileType[tileTypeString];\n        this.mapTileData.set(tileType, baseTiles.mapTiles[tileType]);\n      }\n    }\n\n    for (const tileTypeString in BuildingTileType) {\n      if (typeof tileTypeString === 'string') {\n        const tileType = BuildingTileType[tileTypeString];\n        this.buildingTileData.set(tileType, baseTiles.buildingTiles[tileType]);\n      }\n    }\n\n    for (const tileTypeString in ResourceTileType) {\n      if (typeof tileTypeString === 'string') {\n        const tileType = ResourceTileType[tileTypeString];\n        this.resourceTileData.set(tileType, baseTiles.resourceTiles[tileType]);\n      }\n    }\n\n    this.mapManager = new Phaser.Game({\n      width: 1920, height: 1080, zoom: 1, parent: 'map-canvas-container',\n      scene: {\n        preload: _ => this.preloadMap(),\n        create:  _ => this.createMap(),\n        update:  (time, delta) => this.updateMap(time, delta)\n      },\n      physics: {\n        default: 'arcade'\n      }\n    });\n  }\n\n  preloadMap() {\n    this.canvasContainer = this.mapManager.canvas.parentElement;\n    this.tileTooltip = document.getElementById('tile-tooltip');\n    this.fighterTooltip = document.getElementById('fighter-tooltip');\n\n    this.resize();\n\n    this.scene.load.image('map', 'assets/sprites/map-extruded.png');\n    this.scene.load.image('buildings', 'assets/sprites/buildings-extruded.png');\n    this.scene.load.image('resourceSpawns', 'assets/sprites/resourceSpawns-extruded.png');\n\n    this.scene.load.spritesheet('buildingSprites', 'assets/sprites/buildings.png', {\n      frameWidth: 48,\n      frameHeight: 48\n    });\n    this.scene.load.spritesheet('resources', 'assets/sprites/resources.png', {\n      frameWidth: 48,\n      frameHeight: 48\n    });\n    this.scene.load.spritesheet('sentry', 'assets/sprites/sentry.png', {\n      frameWidth: 48,\n      frameHeight: 48\n    });\n    this.scene.load.spritesheet('enemy', 'assets/sprites/enemy.png', {\n      frameWidth: 48,\n      frameHeight: 48\n    });\n    this.scene.load.spritesheet('arrow', 'assets/sprites/arrow.png', {\n      frameWidth: 48,\n      frameHeight: 48\n    });\n  }\n\n  createMap() {\n    this.tileMap = this.scene.make.tilemap({\n      tileWidth: 48, tileHeight: 48,\n      width: this.totalChunkX * this.chunkWidth,\n      height: this.totalChunkY * this.chunkHeight\n    });\n\n    this.mainCamera = this.scene.cameras.main;\n\n    this.resourceAnimationGroup = this.scene.add.group();\n    this.minimapIconGroup = this.scene.add.group();\n    this.fighterGroup = this.scene.add.group();\n    this.enemyGroup = this.scene.add.group();\n    this.projectileGroup = this.scene.add.group();\n    this.pathfindingTestGroup = this.scene.add.group();\n\n    this.fighterAttackCircle = this.scene.add.circle(0, 0, 1, 0xff0000, 0.4);\n    this.fighterAttackCircle.setDepth(3);\n\n    this.scene.physics.add.collider(this.projectileGroup, this.enemyGroup, this.projectileCollide);\n\n    this.initializeMap();\n    this.mapCreated = true;\n\n    const cursors = this.scene.input.keyboard.createCursorKeys();\n    const zoomKeys = this.scene.input.keyboard.addKeys('page_up,page_down');\n\n    const controlConfig = {\n      camera: this.mainCamera,\n      up: cursors.up,\n      down: cursors.down,\n      left: cursors.left,\n      right: cursors.right,\n      zoomIn: zoomKeys['page_down'],\n      zoomOut: zoomKeys['page_up'],\n      zoomSpeed: 0.03,\n      acceleration: 0.8,\n      drag: 0.1,\n      maxSpeed: 5\n    };\n\n    this.cameraControls = new Phaser.Cameras.Controls.SmoothedKeyControl(controlConfig);\n\n    const xMax = this.mapLayer.tileToWorldX(this.totalChunkX * this.chunkWidth);\n    const yMax = this.mapLayer.tileToWorldY(this.totalChunkY * this.chunkHeight);\n    this.mainCamera.setBounds(0, 0, xMax, yMax, false).setName('main');\n\n    this.minimapCamera = this.scene.cameras.add(this.mainCamera.width - this.minimapSize, this.mainCamera.height - this.minimapSize,\n      this.minimapSize, this.minimapSize, false, 'mini');\n    this.minimapCamera.zoom = this.minimapSize / xMax;\n    this.minimapCamera.scrollX = xMax / 2 - this.minimapSize / 2;\n    this.minimapCamera.scrollY = yMax / 2 - this.minimapSize / 2;\n\n    this.minimapPanBox = this.scene.add.rectangle(this.mainCamera.scrollX, this.mainCamera.scrollY,\n      this.mainCamera.width, this.mainCamera.height, 0x882277, 0.75);\n    this.mainCamera.ignore(this.minimapPanBox);\n\n    this.mainCamera.on('mousedown', _ => this.clickMap());\n    this.minimapCamera.on('mousedown', _ => this.clickMinimap());\n\n    this.scene.tweens.add({\n      targets: this.tileMap,\n      x: 100,\n      ease: 'Sine.easeInOut',\n      yoyo: false,\n      repeat: -1,\n      duration: 3000\n    });\n\n    this.mainCamera.fadeIn(750);\n    this.minimapCamera.fadeIn(750);\n\n    this.canvasContainer.onwheel = event => this.zoomMap(event);\n  }\n\n  updateMap(elapsed, deltaTime) {\n    this.resize();\n\n    this.cameraControls.update(deltaTime);\n\n    const pointer = this.scene.input.activePointer;\n\n    const cursorWorldPoint = pointer.positionToCamera(this.mainCamera) as Phaser.Math.Vector2;\n\n    this.pointerTileX = this.mapLayer.worldToTileX(cursorWorldPoint.x);\n    this.pointerTileY = this.mapLayer.worldToTileY(cursorWorldPoint.y);\n\n    this.minimapPanBox.x = this.mainCamera.worldView.x + this.mainCamera.width / 2;\n    this.minimapPanBox.y = this.mainCamera.worldView.y + this.mainCamera.height / 2;\n    this.minimapPanBox.width = this.mainCamera.worldView.width;\n    this.minimapPanBox.height = this.mainCamera.worldView.height;\n    this.minimapPanBox.depth = 2;\n\n    const camerasBelowCursor = this.scene.cameras.getCamerasBelowPointer(pointer);\n\n    if (this.focusedFighter) {\n      this.fighterAttackCircle.visible = true;\n\n      this.fighterAttackCircle.radius = this.focusedFighter.attackRange * this.tilePixelSize;\n      // For some reason, the circle object's x and y are offset from its center slightly...\n      this.fighterAttackCircle.x = this.focusedFighter.x - this.fighterAttackCircle.radius / 2;\n      this.fighterAttackCircle.y = this.focusedFighter.y - this.fighterAttackCircle.radius / 2;\n    } else {\n      this.fighterAttackCircle.visible = false;\n    }\n\n    if (camerasBelowCursor.includes(this.minimapCamera)) {\n      this.clickMinimap();\n    } else {\n      this.clickMap();\n    }\n\n    // Updating tilemap GameObjects\n\n    if (!this.mapLayer) {\n      return;\n    }\n\n    const resourceAnimations = this.resourceAnimationGroup.children.entries.map(anim => anim as ResourceAnimation);\n\n    for (const resourceAnimation of resourceAnimations) {\n      if (resourceAnimation.pathingDone) {\n        resourceAnimation.finishAnimation();\n        this.resourceAnimationGroup.remove(resourceAnimation);\n      }\n    }\n\n    for (const tile of this.mapLayer.filterTiles(_tile => _tile.properties['buildingNode'])) {\n      tile.properties['buildingNode'].tick(elapsed, deltaTime);\n    }\n\n    if (this.enemyService.enemiesActive && elapsed - this.lastEnemySpawnTime >= this.enemySpawnInterval\n        && this.enemyGroup.countActive() < this.maxEnemyCount) {\n      const tile = this.getRandomTile([MapTileType.Grass], true);\n      this.spawnEnemy(this.enemyService.enemyTypes[0], tile);\n\n      this.lastEnemySpawnTime = elapsed;\n    }\n\n    for (const enemy of this.enemyGroup.getChildren().filter(_enemy => _enemy.active)) {\n      (enemy as Enemy).tick(elapsed, deltaTime);\n    }\n\n    for (const fighter of this.fighterGroup.getChildren().filter(_fighter => _fighter.active)) {\n      (fighter as Fighter).tick(elapsed, deltaTime);\n    }\n\n    for (const projectile of this.projectileGroup.getChildren().filter(_projectile => _projectile.active)) {\n      (projectile as Projectile).tick(elapsed, deltaTime);\n    }\n  }\n\n  resize() {\n    this.mapManager.resize(this.canvasContainer.clientWidth, this.canvasContainer.clientHeight);\n    this.scene.cameras.resize(this.canvasContainer.clientWidth, this.canvasContainer.clientHeight);\n\n    if (this.minimapCamera) {\n      this.minimapCamera.setViewport(this.canvasContainer.clientWidth - this.minimapSize,\n        this.canvasContainer.clientHeight - this.minimapSize, this.minimapSize, this.minimapSize);\n    }\n  }\n\n  clickMap() {\n    const pointer = this.scene.input.activePointer;\n\n    if (pointer.justDown) {\n      this.isDraggingScreen = false;\n\n      this.dragStartPoint = new Phaser.Math.Vector2(pointer.position.x + this.mainCamera.scrollX,\n                                                    pointer.position.y + this.mainCamera.scrollY);\n\n    } else if (pointer.isDown) {\n      if (!pointer.primaryDown) {\n        const cursorScreenPoint = this.scene.input.activePointer.position;\n\n        this.mainCamera.scrollX = this.dragStartPoint.x - cursorScreenPoint.x;\n        this.mainCamera.scrollY = this.dragStartPoint.y - cursorScreenPoint.y;\n      }\n\n      if (Math.abs(pointer.x - pointer.downX) >= 5 || Math.abs(pointer.y - pointer.downY) >= 5) {\n        this.isDraggingScreen = true;\n      }\n\n      if (pointer.primaryDown && this.cursorTool === CursorTool.PlaceBuildings) {\n        this.createBuilding(this.pointerTileX, this.pointerTileY, this.buildingsService.selectedBuilding, true, 50);\n      } else if (pointer.primaryDown && this.cursorTool === CursorTool.ClearBuildings) {\n        this.clearBuilding(this.pointerTileX, this.pointerTileY);\n      }\n    } else if (pointer.justUp && !this.isDraggingScreen) {\n      switch (this.cursorTool) {\n        case CursorTool.PlaceBuildings: {\n          this.createBuilding(this.pointerTileX, this.pointerTileY, this.buildingsService.selectedBuilding, true, 50);\n\n          break;\n        } case CursorTool.TileDetail: {\n          const tile = this.getMapTile(this.pointerTileX, this.pointerTileY);\n          if (tile.properties['resourceNode'] || tile.properties['buildingNode']) {\n            this.focusedTile = tile;\n          } else {\n            this.focusedTile = null;\n          }\n\n          break;\n        } case CursorTool.PlaceFighters: {\n          this.spawnFighter(this.fightersService.selectedFighterType, this.pointerTileX, this.pointerTileY);\n\n          break;\n        } case CursorTool.FighterDetail: {\n          const tile = this.getMapTile(this.pointerTileX, this.pointerTileY);\n          if (tile.properties['resourceNode'] || tile.properties['buildingNode']) {\n            this.focusedTile = tile;\n          }\n\n          this.focusedFighter = this.fighterGroup.getChildren().find(fighter => (fighter as Fighter).currentTile === tile) as Fighter;\n          if (!this.focusedFighter) {\n            this.focusedTile = null;\n          }\n\n          break;\n        } case CursorTool.PathfindingTest1: {\n          this.pathfindingTestGroup.clear(false, true);\n\n          const tile = this.getMapTile(this.pointerTileX, this.pointerTileY);\n          const homeTile = this.mapLayer.findTile(_tile => _tile.properties['buildingNode'] &&\n            _tile.properties['buildingNode'].tileType === BuildingTileType.Home);\n\n          this.findPath(tile, homeTile, false, true).subscribe(tilePath => {\n            for (const pathTile of tilePath) {\n              let tileColor = 0x0000ff;\n              if (tilePath.indexOf(pathTile) === 0) {\n                tileColor = 0x00ff00;\n              } else if (tilePath.indexOf(pathTile) === tilePath.length - 1) {\n                tileColor = 0xff0000;\n              }\n\n              const tileHighlight = this.scene.add.rectangle(pathTile.getCenterX(), pathTile.getCenterY(),\n                pathTile.width, pathTile.width, tileColor, 0.5);\n              tileHighlight.setDepth(3);\n              this.pathfindingTestGroup.add(tileHighlight);\n            }\n          });\n\n          break;\n        } case CursorTool.PathfindingTest2: {\n          this.pathfindingTestGroup.clear(false, true);\n\n          const tile = this.getMapTile(this.pointerTileX, this.pointerTileY);\n          const homeTile = this.mapLayer.findTile(_tile => _tile.properties['buildingNode'] &&\n            _tile.properties['buildingNode'].tileType === BuildingTileType.Home);\n\n          this.findPath(tile, homeTile, true, true).subscribe(tilePath => {\n            for (const pathTile of tilePath) {\n              let tileColor = 0x0000ff;\n              if (tilePath.indexOf(pathTile) === 0) {\n                tileColor = 0x00ff00;\n              } else if (tilePath.indexOf(pathTile) === tilePath.length - 1) {\n                tileColor = 0xff0000;\n              }\n\n              const tileHighlight = this.scene.add.rectangle(pathTile.getCenterX(), pathTile.getCenterY(),\n                pathTile.width, pathTile.width, tileColor, 0.5);\n              tileHighlight.setDepth(3);\n              this.pathfindingTestGroup.add(tileHighlight);\n            }\n          });\n\n          break;\n        }\n      }\n    }\n  }\n\n  clickMinimap() {\n    const pointer = this.scene.input.activePointer;\n    const cursorWorldPoint = pointer.positionToCamera(this.minimapCamera) as Phaser.Math.Vector2;\n\n    if (pointer.primaryDown) {\n      this.mainCamera.centerOn(cursorWorldPoint.x, cursorWorldPoint.y);\n    }\n  }\n\n  zoomMap(event) {\n    let newScale = this.scene.cameras.main.zoom - event.deltaY / 65 / this.scene.cameras.main.zoom;\n\n    if (newScale < 0.5) {\n      newScale = 0.5;\n    } else if (newScale > 4) {\n      newScale = 4;\n    }\n\n    this.scene.cameras.main.zoomTo(newScale, 50);\n  }\n\n  seedRng(seed: number) {\n    this.prngSeed = seed;\n    this.rng = prng.create(seed);\n\n    this.mapSeed = this.rng.nextInt();\n    this.resourceSeed = this.rng.nextInt();\n  }\n\n  initializeMap() {\n    if (!this.tileMap) {\n      // We'll only reach this point when trying to load a save file before the Phaser objects are created.\n      return;\n    }\n\n    this.tileMap.removeAllLayers();\n\n    this.resourceAnimationGroup.clear(true);\n    this.minimapIconGroup.clear(true);\n    this.fighterGroup.clear(true);\n    this.enemyGroup.clear(true);\n    this.projectileGroup.clear(true);\n    this.pathfindingTestGroup.clear(true);\n\n    this.mapIslands = [];\n\n    const mapTileset = this.tileMap.addTilesetImage('map', 'map', 48, 48, 1, 2);\n    const resourceTileset = this.tileMap.addTilesetImage('resourceSpawns', 'resourceSpawns', 48, 48, 1, 2);\n    const buildingTileset = this.tileMap.addTilesetImage('buildings', 'buildings', 48, 48, 1, 2);\n\n    this.mapLayer = this.tileMap.createBlankDynamicLayer('mapLayer', mapTileset);\n    this.resourceLayer = this.tileMap.createBlankDynamicLayer('resourceLayer', resourceTileset);\n    this.buildingLayer = this.tileMap.createBlankDynamicLayer('buildingLayer', buildingTileset);\n\n    for (let y = 0; y < this.totalChunkY; y++) {\n      for (let x = 0; x < this.totalChunkX; x++) {\n        this.generateChunk(x, y);\n      }\n    }\n\n    this.processIslands();\n\n    // Placing home (unless one already exists)\n    // We want to place the home closer to the center of the map.\n    const homeTile = this.getRandomTile([MapTileType.Grass], true, this.totalChunkX * 0.4 * this.chunkWidth,\n                                                                   this.totalChunkX * 0.6 * this.chunkWidth,\n                                                                   this.totalChunkY * 0.4 * this.chunkHeight,\n                                                                   this.totalChunkY * 0.6 * this.chunkHeight);\n    const homeData = this.buildingTileData.get(BuildingTileType.Home);\n    this.createBuilding(homeTile.x, homeTile.y, homeData, false, 50, true);\n\n    this.mainCamera.centerOn(homeTile.pixelX, homeTile.pixelY);\n\n    const minimapHomeIcon = this.scene.add.sprite(homeTile.pixelX, homeTile.pixelY,\n      'buildingSprites', this.tileIndices[BuildingTileType.Home]);\n    minimapHomeIcon.scaleX = 20;\n    minimapHomeIcon.scaleY = 20;\n    minimapHomeIcon.depth = 1;\n    this.minimapIconGroup.add(minimapHomeIcon);\n    this.mainCamera.ignore(minimapHomeIcon);\n\n    // Placing an oak tree & stone mine near the home, to ensure they're always available.\n    // We want to vary up their positions a bit to feel more natural.\n    let grassTiles: Phaser.Tilemaps.Tile[] = [], mountainTiles: Phaser.Tilemaps.Tile[] = [];\n    const placedRoads: Phaser.Tilemaps.Tile[] = [];\n\n    let oakTile: Phaser.Tilemaps.Tile, stoneTile: Phaser.Tilemaps.Tile;\n    let currentTile = homeTile;\n\n    for (let i = 0; i < this.rng.nextIntRange(7, 16); i++) {\n      let neighbors = this.getNeighborTiles(currentTile);\n\n      const existingOakTile = neighbors.find(tile => tile.properties['resourceNode'] &&\n        tile.properties['resourceNode'].tileType === ResourceTileType.OakTree);\n      if (existingOakTile) {\n        oakTile = existingOakTile;\n      }\n\n      const existingStoneTile = neighbors.find(tile => tile.properties['resourceNode'] &&\n        tile.properties['resourceNode'].tileType === ResourceTileType.StoneMine);\n      if (existingStoneTile) {\n        stoneTile = existingStoneTile;\n      }\n\n      grassTiles = grassTiles.concat(neighbors.filter(tile => tile.properties['tileType'] === MapTileType.Grass));\n      mountainTiles = mountainTiles.concat(neighbors.filter(tile => tile.properties['tileType'] === MapTileType.Mountain));\n\n      neighbors = neighbors.filter(\n        tile => !tile.properties['buildingNode'] && !tile.properties['resourceNode'] && tile.properties['tileType'] === MapTileType.Grass);\n\n      if (!neighbors.length) {\n        currentTile = grassTiles[this.rng.nextIntRange(0, grassTiles.length - 1)];\n      } else {\n        currentTile = neighbors[this.rng.nextIntRange(0, neighbors.length - 1)];\n      }\n      const roadData = this.buildingTileData.get(BuildingTileType.Road);\n      this.createBuilding(currentTile.x, currentTile.y, roadData, false, 50, true);\n      placedRoads.push(currentTile);\n    }\n\n    grassTiles = grassTiles.filter(tile => !tile.properties['buildingNode'] && !tile.properties['resourceNode']);\n    mountainTiles = mountainTiles.filter(tile => !tile.properties['buildingNode'] && !tile.properties['resourceNode']);\n\n    if (!oakTile) {\n      oakTile = grassTiles[this.rng.nextIntRange(0, grassTiles.length - 1)];\n      grassTiles = grassTiles.filter(tile => tile !== oakTile);\n    }\n\n    if (!stoneTile) {\n      stoneTile = mountainTiles.length ? mountainTiles[this.rng.nextIntRange(0, mountainTiles.length - 1)] :\n                                            grassTiles[this.rng.nextIntRange(0, grassTiles.length - 1)];\n    }\n\n    this.setResourceTile(oakTile.x, oakTile.y, ResourceTileType.OakTree, 50);\n    this.setResourceTile(stoneTile.x, stoneTile.y, ResourceTileType.StoneMine, 50);\n\n    this.updatePaths(homeTile, true);\n\n    for (const roadTile of placedRoads) {\n      if (!oakTile.properties['resourceNode'].path.includes(roadTile) && !stoneTile.properties['resourceNode'].path.includes(roadTile)) {\n        this.clearBuildingTile(roadTile.x, roadTile.y);\n      }\n    }\n\n    // Final sweep to make sure all spawnable resources exist at least once.\n    let naturalResources = Array.from(this.resourceTileData.values());\n    naturalResources = naturalResources.filter(resource => resource.isNaturalResource);\n    naturalResources = naturalResources.filter(resource =>\n      !this.resourceLayer.findTile(tile => tile.properties['tileType'] === resource.tileType));\n\n    for (const missingResource of naturalResources) {\n      const resourceTile = this.getRandomTile(missingResource.spawnsOn, true);\n      this.setResourceTile(resourceTile.x, resourceTile.y, missingResource.tileType, 50);\n    }\n  }\n\n  generateChunk(chunkX: number, chunkY: number) {\n    const mapGen = new SimplexNoise(this.mapSeed.toString());\n    const resourceGen = new SimplexNoise(this.resourceSeed.toString());\n\n    const chunkTopLeft = new Vector(chunkX * this.chunkWidth, chunkY * this.chunkHeight);\n    const chunkBottomRight = new Vector(chunkTopLeft.x + this.chunkWidth, chunkTopLeft.y + this.chunkHeight);\n\n    // Creating the map itself\n    for (let y = chunkTopLeft.y; y < chunkBottomRight.y; y++) {\n      for (let x = chunkTopLeft.x; x < chunkBottomRight.x; x++) {\n        const noiseValue = this.adjustedNoise(x, y, mapGen);\n        const tileId = this.getChunkOffset(x, y) + y * this.chunkWidth + x;\n        const tileType = this.getBiome(noiseValue);\n\n        const tile = this.mapLayer.putTileAt(this.tileIndices[tileType], x, y);\n        tile.properties['id'] = tileId;\n        tile.properties['height'] = noiseValue;\n        tile.properties['tileType'] = tileType;\n      }\n    }\n\n    const centerVector = new Phaser.Math.Vector2(this.totalChunkX * this.chunkWidth / 2, this.totalChunkY * this.chunkHeight / 2);\n    const maxTier = Math.max(...this.resourcesService.getResources().map(resource => resource.resourceTier));\n    const tierRingSize = centerVector.length() / maxTier;\n\n    // Placing resources\n    for (let y = chunkTopLeft.y; y < chunkBottomRight.y; y++) {\n      for (let x = chunkTopLeft.x; x < chunkBottomRight.x; x++) {\n        const adjustX = x / this.chunkWidth - 0.5, adjustY = y / this.chunkHeight - 0.5;\n        const noiseValue = this.noise(adjustX, adjustY, resourceGen);\n\n        let maxNoise = 0;\n        const scanRange = 2;\n\n        // Check nearby tiles to see if this tile is higher than all of them\n        for (let ny = y - scanRange; ny < y + scanRange; ny++) {\n          for (let nx = x - scanRange; nx < x + scanRange; nx++) {\n            const neighborTile = this.getMapTile(nx, ny);\n            if (neighborTile && neighborTile.properties['height'] > maxNoise) {\n              maxNoise = neighborTile.properties['height'];\n            }\n          }\n        }\n\n        const tile = this.getMapTile(x, y);\n        if (tile.properties['height'] === maxNoise) {\n          const distanceToCenter = new Phaser.Math.Vector2(Math.abs(tile.x - centerVector.x),\n                                                           Math.abs(tile.y - centerVector.y)).length();\n          const tierValue = Math.floor(distanceToCenter / tierRingSize);\n\n          let naturalResources = Array.from(this.resourceTileData.values());\n          naturalResources = naturalResources.filter(resource => resource.spawnsOn.includes(tile.properties['tileType']));\n          naturalResources = naturalResources.filter(resource => {\n            const resourceTiers = resource.resourceEnums.map(resourceEnum =>\n              this.resourcesService.resources.get(resourceEnum).resourceTier);\n            return resourceTiers.some(tier => tier <= tierValue + 1 && tierValue - tier <= 2);\n          });\n\n          if (!naturalResources.length) {\n            continue;\n          }\n\n          const rollRange = naturalResources.map(resource => resource.spawnRate).reduce((total, rate) => total += rate);\n          let resourceDiceRoll = this.rng.nextDouble() * rollRange;\n\n          for (const resource of naturalResources) {\n            resourceDiceRoll -= resource.spawnRate;\n            if (resourceDiceRoll <= 0) {\n              this.setResourceTile(tile.x, tile.y, resource.tileType, 50);\n              break;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  clearChunk(chunkX: number, chunkY: number) {\n    const chunkTopLeft = new Vector(chunkX * this.chunkWidth, chunkY * this.chunkHeight);\n    const chunkBottomRight = new Vector(chunkTopLeft.x + this.chunkWidth, chunkTopLeft.y + this.chunkHeight);\n\n    // TODO: Store building data outside of tile map, simulate offscreen production\n    for (let y = chunkTopLeft.y; y < chunkBottomRight.y; y++) {\n      for (let x = chunkTopLeft.x; x < chunkBottomRight.x; x++) {\n        this.clearLayeredTile(x, y);\n      }\n    }\n  }\n\n  adjustedNoise(x: number, y: number, generator: SimplexNoise): number {\n    const nx = x / this.chunkWidth - 0.5, ny = y / this.chunkHeight - 0.5;\n    const noiseValue = this.noise(1 * nx, 1 * ny, generator) +\n                0.25 * this.noise(4 * nx, 4 * ny, generator) +\n               0.125 * this.noise(8 * nx, 8 * ny, generator);\n    return noiseValue ** 6;\n  }\n\n  noise(x: number, y: number, generator: SimplexNoise): number {\n    return generator.noise2D(x, y) / 2 + 0.5;\n  }\n\n  getBiome(noiseValue: number): MapTileType {\n    if (noiseValue <= 0.12) {\n      return MapTileType.Water;\n    } else if (noiseValue < 0.9999999) {\n      return MapTileType.Grass;\n    } else {\n      return MapTileType.Mountain;\n    }\n  }\n\n  updatePaths(updatedTile: Phaser.Tilemaps.Tile, onlyPathable: boolean) {\n    const visitedTiles: Phaser.Tilemaps.Tile[] = [];\n    const tileQueue: Phaser.Tilemaps.Tile[] = [];\n    let currentTile: Phaser.Tilemaps.Tile;\n\n    tileQueue.push(updatedTile);\n\n    const homeTile = this.mapLayer.findTile(tile => tile.properties['buildingNode'] &&\n      tile.properties['buildingNode'].tileType === BuildingTileType.Home);\n\n    while (tileQueue.length) {\n      currentTile = tileQueue.pop();\n\n      const neighborTiles = this.getNeighborTiles(currentTile);\n      visitedTiles.push(currentTile);\n\n      for (const neighbor of neighborTiles) {\n        let buildingTile: BuildingTileData;\n        if (neighbor.properties['buildingNode']) {\n          buildingTile = this.buildingTileData.get(neighbor.properties['buildingNode'].tileType);\n        }\n\n        if (!visitedTiles.includes(neighbor) &&\n            (!onlyPathable || ((buildingTile && buildingTile.resourcePathable)) || neighbor.properties['resourceNode'])) {\n          tileQueue.push(neighbor);\n        }\n      }\n\n      const resourceNode: ResourceNode = currentTile.properties['resourceNode'];\n      const buildingNode: BuildingNode = currentTile.properties['buildingNode'];\n\n      if (resourceNode) {\n        this.findPath(currentTile, homeTile, true, true).subscribe(tilePath => {\n          resourceNode.path = tilePath;\n\n          const pathAvailable = resourceNode.path.length &&\n            !resourceNode.path.some(tile => tile.properties['buildingNode'] && tile.properties['buildingNode'].health <= 0);\n          const resources = this.resourceTileData.get(resourceNode.tileType).resourceEnums\n              .map(resourceEnum => this.resourcesService.resources.get(resourceEnum));\n\n          for (const resource of resources) {\n            resource.pathAvailable = pathAvailable;\n          }\n        });\n      } else if (buildingNode && buildingNode.market) {\n        buildingNode.market.calculateConnection();\n      }\n    }\n  }\n\n  calculateResourceConnections() {\n    const resourceTiles = this.getResourceTiles();\n\n    for (const resource of this.resourcesService.getResources()) {\n      resource.pathAvailable = false;\n    }\n\n    const homeTile = this.mapLayer.findTile(tile => tile.properties['buildingNode'] &&\n      tile.properties['buildingNode'].tileType === BuildingTileType.Home);\n\n    for (const resourceTile of resourceTiles) {\n      this.findPath(resourceTile, homeTile, true, true).subscribe(tilePath => {\n        const resourceNode = resourceTile.properties['resourceNode'];\n        resourceNode.path = tilePath;\n\n        if (resourceNode.path.length && !resourceNode.path.some(tile => tile.health <= 0)) {\n          const resources = this.resourceTileData.get(resourceNode.tileType).resourceEnums\n            .map(resourceEnum => this.resourcesService.resources.get(resourceEnum));\n          for (const resource of resources) {\n            resource.pathAvailable = true;\n          }\n        }\n      });\n    }\n\n    for (const marketTile of this.mapLayer.getTilesWithin()) {\n      const buildingNode: BuildingNode = marketTile.properties['buildingNode'];\n      if (buildingNode && buildingNode.market) {\n        buildingNode.market.calculateConnection();\n      }\n    }\n  }\n\n  findPath(startTile: Phaser.Tilemaps.Tile, targetTile: Phaser.Tilemaps.Tile, onlyPathable: boolean, onlyWalkable: boolean,\n      maxAttempts: number = Infinity): Observable<Phaser.Tilemaps.Tile[]> {\n    const visitedTiles: Phaser.Tilemaps.Tile[] = [];\n\n    let tileQueue: Phaser.Tilemaps.Tile[] = [];\n\n    const tileDistances = [];\n    const tileHeuristicDistances = [];\n\n    const nodeMap = new Map<Phaser.Tilemaps.Tile, Phaser.Tilemaps.Tile>();\n\n    const targetPosition = new Phaser.Math.Vector2(targetTile.x, targetTile.y);\n\n    let currentNode: Phaser.Tilemaps.Tile;\n\n    tileDistances[startTile.properties['id']] = 0;\n\n    tileQueue.push(startTile);\n\n    let nodesProcessed = 0;\n\n    while (tileQueue.length) {\n      nodesProcessed++;\n      if (nodesProcessed > maxAttempts) {\n        break;\n      }\n\n      tileQueue = tileQueue.sort((a, b) => tileHeuristicDistances[b.properties['id']] - tileHeuristicDistances[a.properties['id']]);\n      currentNode = tileQueue.pop();\n\n      if (currentNode === targetTile) {\n        const buildingPath: Phaser.Tilemaps.Tile[] = [];\n\n        let backtrackNode = currentNode;\n        while (backtrackNode !== startTile) {\n          buildingPath.push(backtrackNode);\n          backtrackNode = nodeMap.get(backtrackNode);\n        }\n\n        buildingPath.push(backtrackNode);\n\n        return of(buildingPath.reverse());\n      }\n\n      const neighborDistance = tileDistances[currentNode.properties['id']] + 1;\n\n      for (const neighbor of this.getNeighborTiles(currentNode)) {\n        const pathable = this.isTilePathable(neighbor);\n        const walkable = this.isTileWalkable(neighbor);\n\n        const tileDestroyed = neighbor.properties['buildingNode'] && neighbor.properties['buildingNode'].health <= 0;\n\n        if (!tileDistances[neighbor.properties['id']]) {\n          tileDistances[neighbor.properties['id']] = Infinity;\n          tileHeuristicDistances[neighbor.properties['id']] = Infinity;\n        }\n\n        if (!visitedTiles.includes(neighbor) && (!onlyPathable || (pathable && !tileDestroyed)) && (!onlyWalkable || walkable) &&\n            tileDistances[neighbor.properties['id']] > neighborDistance) {\n          nodeMap.set(neighbor, currentNode);\n\n          tileDistances[neighbor.properties['id']] = neighborDistance;\n\n          const neighborPosition = new Phaser.Math.Vector2(neighbor.x, neighbor.y);\n          tileHeuristicDistances[neighbor.properties['id']] = neighborDistance + targetPosition.distance(neighborPosition);\n\n          tileQueue.push(neighbor);\n        }\n      }\n\n      visitedTiles.push(currentNode);\n    }\n\n    return of([]);\n  }\n\n  spawnHarvestedResourceAnimation(resource: Resource, multiplier: number = 1, spawnedByPlayer: boolean) {\n    const matchingTiles = this.getResourceTiles(resource.resourceEnum).filter(_tile => _tile.properties['resourceNode'].path.length);\n\n    if (!resource.canAfford(multiplier)) {\n      return;\n    }\n\n    resource.deductResourceConsumes(multiplier);\n\n    const tile = matchingTiles[Math.floor(Math.random() * matchingTiles.length)];\n    if (tile === undefined) {\n      return;\n    }\n\n    const tilePath: Phaser.Tilemaps.Tile[] = tile.properties['resourceNode'].path;\n\n    const animationType = spawnedByPlayer ? ResourceAnimationType.PlayerSpawned : ResourceAnimationType.WorkerSpawned;\n\n    this.spawnResourceAnimation(resource.resourceEnum, multiplier, animationType, tile, tilePath, spawnedByPlayer);\n  }\n\n  spawnSoldResourceAnimation(resourceEnum: ResourceEnum, multiplier: number, market: Market) {\n    this.spawnResourceAnimation(resourceEnum, multiplier, ResourceAnimationType.Sold, market.homeTile, market.tilePath, false, market);\n  }\n\n  spawnResourceAnimation(resourceEnum: ResourceEnum, multiplier: number, animationType: ResourceAnimationType,\n                         startTile: Phaser.Tilemaps.Tile, tilePath: Phaser.Tilemaps.Tile[], spawnedByPlayer: boolean, market?: Market) {\n    const worldX = this.mapLayer.tileToWorldX(startTile.x) + startTile.width / 4;\n    const worldY = this.mapLayer.tileToWorldY(startTile.y) + startTile.height / 4;\n\n    const path = this.tilesToLinearPath(tilePath);\n\n    const resourceSpriteIndex = this.tileIndices[resourceEnum];\n\n    const resourceAnimation = new ResourceAnimation(worldX, worldY, startTile,\n      this.resourceAnimationSpeed, path, animationType, resourceEnum, multiplier, spawnedByPlayer,\n      this.scene, 'resources', resourceSpriteIndex, this.resourcesService, this.storeService);\n\n    resourceAnimation.setScale(2 / 3, 2 / 3);\n\n    this.scene.tweens.add({\n      targets: resourceAnimation,\n      angle: 30,\n      ease: 'Sine.easeInOut',\n      duration: 750,\n      repeat: -1,\n      yoyo: true\n    });\n\n    this.resourceAnimationGroup.add(resourceAnimation, true);\n  }\n\n  spawnProjectile(owner: Actor, target: Actor) {\n    const projectile = new Projectile('Arrow', owner.x, owner.y,\n      owner.currentTile, this.projectileAnimationSpeed, owner, target,\n      this.scene, 'arrow', 0);\n\n    this.scene.physics.add.existing(projectile);\n    this.projectileGroup.add(projectile, true);\n    projectile.fireProjectile();\n  }\n\n  projectileCollide(projectile: Phaser.GameObjects.GameObject, enemy: Phaser.GameObjects.GameObject) {\n    (enemy as Enemy).takeDamage((projectile as Projectile));\n    projectile.destroy();\n  }\n\n  spawnFighter(fighterType: FighterData, tileX: number, tileY: number, spawnForFree = false): Fighter {\n    const spawnTile = this.mapLayer.getTileAt(tileX, tileY);\n\n    if ((!spawnForFree && !this.fightersService.canAffordFighter(fighterType)) ||\n        !this.isTileWalkable(spawnTile) || (spawnTile.properties['buildingNode'] &&\n        !this.buildingTileData.get(spawnTile.properties['buildingNode'].tileType).resourcePathable) ||\n        this.fighterGroup.getChildren().some(_fighter => (_fighter as Fighter).currentTile === spawnTile)) {\n      return;\n    }\n\n    if (!spawnForFree) {\n      this.fightersService.purchaseFigher(fighterType);\n    }\n\n    const fighter = new Fighter(fighterType.name, spawnTile.getCenterX(), spawnTile.getCenterY(), spawnTile, fighterType.maxHealth, 1,\n      fighterType.attack, fighterType.defense, fighterType.attackRange, fighterType.description, fighterType.cost, fighterType.movable,\n      1000, this.scene, 'sentry', 0, this.resourcesService, this.enemyService, this);\n    this.fighterGroup.add(fighter, true);\n\n    return fighter;\n  }\n\n  spawnEnemy(enemyType: EnemyData, tile: Phaser.Tilemaps.Tile): Enemy {\n    if (this.enemyGroup.countActive() > this.maxEnemyCount) {\n      return;\n    }\n\n    const cappedScore = Math.min(3000, this.resourcesService.playerScore / 50000);\n    const difficultyModifier = Math.max(1, Math.random() * cappedScore);\n\n    const animationSpeed = this.enemyAnimationSpeed * Math.min(4, 1 + difficultyModifier / 10000);\n\n    const enemy = new Enemy(enemyType.name, tile.getCenterX(), tile.getCenterY(), tile, enemyType.maxHealth * difficultyModifier,\n      animationSpeed, enemyType.attack * difficultyModifier, enemyType.defense * difficultyModifier, enemyType.attackRange,\n      enemyType.targetableBuildingTypes, enemyType.resourcesToSteal, enemyType.stealMax * difficultyModifier,\n      enemyType.resourceCapacity * difficultyModifier, this.scene, 'enemy', 0, this, this.resourcesService, this.messagesService);\n\n    this.scene.physics.add.existing(enemy);\n    this.enemyGroup.add(enemy, true);\n    (enemy.body as Phaser.Physics.Arcade.Body).moves = false;\n\n    return enemy;\n  }\n\n  getRandomTile(mapTileTypes?: MapTileType[], avoidResources = false,\n      minX = 0, maxX = Infinity, minY = 0, maxY = Infinity): Phaser.Tilemaps.Tile {\n    const tiles = this.mapLayer.getTilesWithin(minX, minY, maxX - minX, maxY - minY);\n    let tile: Phaser.Tilemaps.Tile;\n\n    do {\n      tile = tiles[Math.floor(this.rng.nextDouble() * tiles.length)];\n    } while (!tile || !(!mapTileTypes || mapTileTypes.includes(tile.properties['tileType'])) ||\n      (avoidResources && tile.properties['resourceNode']));\n\n    return tile;\n  }\n\n  getRandomIslandId(minimumSize = 1): number {\n    const islands = this.mapIslands.filter(island => island.tiles.length >= minimumSize);\n    const selectedIsland = islands[Math.floor(Math.random() * islands.length)];\n\n    return this.mapIslands.indexOf(selectedIsland);\n  }\n\n  getRandomTileOnIsland(islandId: number, mapTileTypes?: MapTileType[],\n      avoidResources = false, getActiveBuilding = false): Phaser.Tilemaps.Tile {\n    let islandTiles = this.mapIslands[islandId].tiles.map(tile => this.mapLayer.getTileAt(tile.x, tile.y));\n\n    if (mapTileTypes) {\n      islandTiles = islandTiles.filter(tile => mapTileTypes.includes(tile.properties['tileType']));\n    }\n\n    if (avoidResources) {\n      islandTiles = islandTiles.filter(tile => !tile.properties['resourceNode']);\n    }\n\n    if (getActiveBuilding) {\n      islandTiles = islandTiles.filter(tile => tile.properties['buildingNode'] &&\n        tile.properties['buildingNode'].health > 0 && tile.properties['buildingNode'].tileType !== BuildingTileType.Home);\n    }\n\n    return islandTiles[Math.floor(Math.random() * islandTiles.length)];\n  }\n\n  islandHasActiveTiles(islandId: number): boolean {\n    const islandTiles = this.mapIslands[islandId].tiles.map(tile => this.mapLayer.getTileAt(tile.x, tile.y));\n    return islandTiles.some(tile => tile.properties['buildingNode'] &&\n      tile.properties['buildingNode'].health > 0 && tile.properties['buildingNode'].tileType !== BuildingTileType.Home);\n}\n\n  tilesToLinearPath(tiles: Phaser.Tilemaps.Tile[]): Phaser.Curves.Path {\n    if (!tiles.length) {\n      return null;\n    }\n\n    const pathPoints = tiles.map(tile => new Phaser.Math.Vector2(this.mapLayer.tileToWorldX(tile.x) + tile.width / 4,\n    this.mapLayer.tileToWorldY(tile.y) + tile.height / 4));\n\n    const startTile = tiles[0];\n    const worldX = this.mapLayer.tileToWorldX(startTile.x) + startTile.width / 4;\n    const worldY = this.mapLayer.tileToWorldY(startTile.y) + startTile.height / 4;\n\n    const path = new Phaser.Curves.Path(worldX, worldY);\n    for (const pathPoint of pathPoints) {\n      path.lineTo(pathPoint);\n    }\n\n    return path;\n  }\n\n  createBuilding(x: number, y: number, buildingData: BuildingTileData, removable: boolean, health: number, createForFree = false) {\n    if (!buildingData) {\n      return;\n    }\n\n    const buildingExists = this.buildingLayer.getTileAt(x, y) != null;\n    const resourceExists = this.resourceLayer.getTileAt(x, y) != null;\n\n    const mapTile = this.mapLayer.getTileAt(x, y);\n    const canPlaceHere = buildingData.buildableSurfaces.includes(mapTile.properties['tileType']);\n\n    if (buildingExists || resourceExists || !canPlaceHere || !(createForFree || this.buildingsService.canAffordBuilding(buildingData))) {\n      return;\n    }\n\n    if (!createForFree) {\n      this.buildingsService.purchaseBuilding(buildingData);\n    }\n\n    const buildingTile = this.setBuildingTile(x, y, buildingData.tileType, removable, health);\n\n    if (buildingData.placesResourceTile) {\n      mapTile.properties['resourceNode'] = new ResourceNode(buildingData.resourceTileType, health);\n    }\n\n    if (buildingData.subType === BuildingSubType.Market) {\n      let resourceType: ResourceType;\n      switch (buildingData.tileType) {\n        case BuildingTileType.WoodMarket: {\n          resourceType = ResourceType.Wood;\n          break;\n        } case BuildingTileType.MineralMarket: {\n          resourceType = ResourceType.Mineral;\n          break;\n        } case BuildingTileType.MetalMarket: {\n          resourceType = ResourceType.Metal;\n          break;\n        }\n      }\n\n      mapTile.properties['buildingNode'].market = new Market(this, this.resourcesService, resourceType, mapTile, true);\n    }\n\n    // If we're building a bridge, we need to update the island structure\n    if (!this.mapTileData.get(mapTile.properties['tileType']).walkable) {\n      const islands = this.getNeighborTiles(mapTile).map(tile => tile.properties['islandId'])\n        .filter(id => !isNaN(id) && this.mapIslands[id].tiles.length);\n      const uniqueIslands = [];\n      for (const island of islands) {\n        if (!uniqueIslands.includes(island)) {\n          uniqueIslands.push(island);\n        }\n      }\n\n      const islandId = uniqueIslands.length ? uniqueIslands[0] : this.mapIslands.length;\n      mapTile.properties['islandId'] = islandId;\n\n      if (!uniqueIslands.length) {\n        this.mapIslands[islandId] = {tiles: []};\n      }\n\n      this.mapIslands[islandId].tiles.push({x: mapTile.x, y: mapTile.y});\n\n      for (const oldIslandId of uniqueIslands.filter((_, index) => index > 0)) {\n        const oldIsland = this.mapIslands[oldIslandId];\n\n        for (const tileCoordinate of oldIsland.tiles) {\n          this.mapLayer.getTileAt(tileCoordinate.x, tileCoordinate.y).properties['islandId'] = islandId;\n        }\n\n        this.mapIslands[islandId].tiles = this.mapIslands[islandId].tiles.concat(oldIsland.tiles);\n\n        oldIsland.tiles = [];\n      }\n    }\n\n    this.updatePaths(buildingTile, true);\n  }\n\n  clearBuilding(x: number, y: number) {\n    const buildingTile = this.mapLayer.getTileAt(x, y);\n    const mapTile = this.mapLayer.getTileAt(x, y);\n    if (!buildingTile || !buildingTile.properties['buildingNode'] || !buildingTile.properties['buildingNode'].removable) {\n      return;\n    }\n\n    const buildingNode: BuildingNode = buildingTile.properties['buildingNode'];\n    const buildingData = this.buildingTileData.get(buildingNode.tileType);\n\n    this.buildingsService.refundBuilding(buildingData);\n\n    this.clearBuildingTile(x, y);\n    if (buildingData.placesResourceTile) {\n      this.clearResourceTile(x, y);\n    }\n\n    // If we're removing a bridge, we need to update the island structure\n    if (!this.mapTileData.get(mapTile.properties['tileType']).walkable) {\n      const neighbors = this.getNeighborTiles(mapTile);\n      for (let i = 0; i < neighbors.length - 1; i++) {\n        for (let j = i + 1; j < neighbors.length; j++) {\n          if (neighbors[i].properties['islandId'] === undefined || neighbors[j].properties['islandId'] === undefined) {\n            continue;\n          }\n\n          this.findPath(neighbors[i], neighbors[j], false, true).subscribe(tilePath => {\n            if (!tilePath.length) {\n              this.mapIslands[neighbors[i].properties['islandId']].tiles = [];\n              this.mapIslands[neighbors[j].properties['islandId']].tiles = [];\n\n              this.processIslands(neighbors[i]);\n              this.processIslands(neighbors[j]);\n            }\n          });\n        }\n      }\n\n      mapTile.properties['islandId'] = undefined;\n    }\n\n    this.updatePaths(buildingTile, true);\n  }\n\n  repairBuilding(tile: Phaser.Tilemaps.Tile) {\n    const buildingNode: BuildingNode = tile.properties['buildingNode'];\n    if (!buildingNode || !this.canRepairBuilding(tile)) {\n      return false;\n    }\n\n    const buildingData = this.buildingTileData.get(buildingNode.tileType);\n    const repairResource = this.resourcesService.resources.get(buildingData.repairResourceEnum);\n\n    const healAmount = buildingNode.maxHealth - buildingNode.health;\n\n    repairResource.addAmount(-buildingData.repairCostPerPoint * healAmount);\n    buildingNode.health = buildingNode.maxHealth;\n    this.buildingLayer.getTileAt(tile.x, tile.y).tint = 0xffffff;\n\n    this.updatePaths(tile, true);\n  }\n\n  canRepairBuilding(tile: Phaser.Tilemaps.Tile) {\n    const buildingNode: BuildingNode = tile.properties['buildingNode'];\n    if (!buildingNode) {\n      return false;\n    }\n\n    const buildingData = this.buildingTileData.get(buildingNode.tileType);\n    const repairResource = this.resourcesService.resources.get(buildingData.repairResourceEnum);\n\n    return repairResource.amount >= buildingData.repairCostPerPoint * (buildingNode.maxHealth - buildingNode.health);\n  }\n\n  processIslands(startTile?: Phaser.Tilemaps.Tile) {\n    const tilesToProcess = startTile ? [startTile] : this.mapLayer.filterTiles(_tile => _tile.properties['tileType'] !== MapTileType.Water);\n\n    const visitedTileIds: number[] = [];\n    for (const tile of tilesToProcess) {\n      if (visitedTileIds.includes(tile.properties['id'])) {\n        continue;\n      }\n\n      visitedTileIds.push(tile.properties['id']);\n\n      const islandId = this.mapIslands.length;\n      tile.properties['islandId'] = islandId;\n      this.mapIslands[islandId] = {tiles: [{x: tile.x, y: tile.y}]};\n\n      const neighbors = this.getNeighborTiles(tile).filter(neighbor => neighbor.properties['tileType'] !== MapTileType.Water);\n      while (neighbors.length) {\n        const currentNeighbor = neighbors.pop();\n        visitedTileIds.push(currentNeighbor.properties['id']);\n\n        currentNeighbor.properties['islandId'] = islandId;\n        this.mapIslands[islandId].tiles.push({x: currentNeighbor.x, y: currentNeighbor.y});\n\n        for (const neighbor of this.getNeighborTiles(currentNeighbor)) {\n          if (neighbor.properties['tileType'] !== MapTileType.Water && !visitedTileIds.includes(neighbor.properties['id'])) {\n            neighbors.push(neighbor);\n          }\n        }\n      }\n    }\n  }\n\n  getNeighborTiles(tile: Phaser.Tilemaps.Tile): Phaser.Tilemaps.Tile[] {\n    const neighborPositions = [\n      {x: tile.x - 1, y: tile.y},\n      {x: tile.x + 1, y: tile.y},\n      {x: tile.x, y: tile.y - 1},\n      {x: tile.x, y: tile.y + 1}\n    ];\n\n    const tiles: Phaser.Tilemaps.Tile[] = [];\n    for (const position of neighborPositions) {\n      if (position.x >= 0 && position.x < this.totalChunkX * this.chunkWidth &&\n          position.y >= 0 && position.y < this.totalChunkY * this.chunkHeight) {\n        tiles.push(this.getMapTile(position.x, position.y));\n      }\n    }\n\n    return tiles;\n  }\n\n  getChunkOffset(x: number, y: number) {\n    const chunkIndex = Math.floor(x / this.chunkWidth) + this.totalChunkX * Math.floor(y / this.chunkHeight);\n    return chunkIndex * this.chunkWidth * this.chunkHeight;\n  }\n\n  getMapTile(x: number, y: number): Phaser.Tilemaps.Tile {\n    return this.mapLayer.getTileAt(x, y);\n  }\n\n  setMapTile(x: number, y: number, tile: Phaser.Tilemaps.Tile) {\n    this.mapLayer.putTileAt(tile, x, y);\n  }\n\n  clearMapTile(x: number, y: number) {\n    this.mapLayer.removeTileAt(x, y);\n  }\n\n  setBuildingTile(x: number, y: number, tileType: BuildingTileType, removable: boolean, health: number): Phaser.Tilemaps.Tile {\n    const buildingTile = this.buildingLayer.putTileAt(this.tileIndices[tileType], x, y);\n    const mapTile = this.mapLayer.getTileAt(x, y);\n\n    mapTile.properties['buildingNode'] = new BuildingNode(tileType, removable, health, buildingTile, this.scene, this.resourcesService);\n\n    return this.buildingLayer.getTileAt(x, y);\n  }\n\n  clearBuildingTile(x: number, y: number) {\n    this.buildingLayer.removeTileAt(x, y);\n\n    const mapTile = this.mapLayer.getTileAt(x, y);\n    mapTile.properties['buildingNode'] = null;\n  }\n\n  setResourceTile(x: number, y: number, tileType: ResourceTileType, health: number): Phaser.Tilemaps.Tile {\n    this.resourceLayer.putTileAt(this.tileIndices[tileType], x, y);\n\n    const mapTile = this.mapLayer.getTileAt(x, y);\n    mapTile.properties['resourceNode'] = new ResourceNode(tileType, health);\n\n    return this.resourceLayer.getTileAt(x, y);\n  }\n\n  clearResourceTile(x: number, y: number) {\n    this.resourceLayer.removeTileAt(x, y);\n\n    const mapTile = this.mapLayer.getTileAt(x, y);\n    mapTile.properties['resourceNode'] = null;\n  }\n\n  clearLayeredTile(x: number, y: number) {\n    this.clearMapTile(x, y);\n    this.clearBuildingTile(x, y);\n    this.clearResourceTile(x, y);\n  }\n\n  getResourceTiles(resourceEnum?: ResourceEnum): Phaser.Tilemaps.Tile[] {\n    let tiles = this.mapLayer.filterTiles(tile => tile.properties['resourceNode']);\n\n    if (resourceEnum) {\n      const matchingTypes = Array.from(this.resourceTileData.values()).filter(\n        tile => tile.resourceEnums.includes(resourceEnum)).map(tile => tile.tileType);\n      tiles = tiles.filter(tile => matchingTypes.includes(tile.properties['resourceNode'].tileType));\n    }\n\n    return tiles;\n  }\n\n  isTilePathable(tile: Phaser.Tilemaps.Tile): boolean {\n    const buildingNode: BuildingNode = tile.properties['buildingNode'];\n    const buildingData: BuildingTileData = buildingNode ? this.buildingTileData.get(buildingNode.tileType) : null;\n\n    return buildingData && buildingData.resourcePathable;\n  }\n\n  isTileWalkable(tile: Phaser.Tilemaps.Tile): boolean {\n    const tileType: MapTileType = tile.properties['tileType'];\n    const buildingNode: BuildingNode = tile.properties['buildingNode'];\n    const resourceNode: ResourceNode = tile.properties['resourceNode'];\n    const buildingData: BuildingTileData = buildingNode ? this.buildingTileData.get(buildingNode.tileType) : null;\n\n    return !resourceNode && (!buildingData || buildingData.subType !== BuildingSubType.Obstacle) &&\n      (this.mapTileData.get(tileType).walkable || (buildingData && buildingData.resourcePathable));\n  }\n\n  updateIslandDebugData() {\n    for (const island of this.mapIslands.filter(_island => _island.tiles.length)) {\n      const islandTint = Math.random() * 0xffffff44;\n\n      for (const tileCoordinate of island.tiles) {\n        const tile = this.mapLayer.getTileAt(tileCoordinate.x, tileCoordinate.y);\n\n        tile.tint = islandTint;\n      }\n    }\n\n    for (const tile of this.mapLayer.filterTiles(_tile => _tile.properties['islandId'] === undefined)) {\n      tile.tint = 0xffffffff;\n    }\n  }\n\n  get enemyGroup(): Phaser.GameObjects.Group {\n    return this.enemyService.enemyGroup;\n  }\n\n  set enemyGroup(value: Phaser.GameObjects.Group) {\n    this.enemyService.enemyGroup = value;\n  }\n\n  get fighterGroup(): Phaser.GameObjects.Group {\n    return this.fightersService.fighterGroup;\n  }\n\n  set fighterGroup(value: Phaser.GameObjects.Group) {\n    this.fightersService.fighterGroup = value;\n  }\n\n  get scene(): Phaser.Scene {\n    return this.mapManager.scene.scenes[0];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { MatTableDataSource } from '@angular/material';\n\nimport { Message, MessageSource } from './../../objects/message';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MessagesService {\n  messages: Message[] = [];\n  visibleSources: MessageSource[] = [MessageSource.Admin, MessageSource.Buildings, MessageSource.Main, MessageSource.Enemy,\n    MessageSource.Fighter, MessageSource.Map, MessageSource.Resources, MessageSource.Settings,\n    MessageSource.Store, MessageSource.Upgrades, MessageSource.Workers];\n  messagesDataSource = new MatTableDataSource(this.messages);\n  messageLimit = 50;\n\n  constructor() { }\n\n  add(source: MessageSource, message: string) {\n    if (this.messages.length >= this.messageLimit) {\n      this.messages = this.messages.slice(1);\n    }\n\n    this.messages.push(new Message(source, message));\n\n    this.getFilteredMessages();\n  }\n\n  clear() {\n    this.messages = [];\n    this.messagesDataSource.data = [];\n  }\n\n  getFilteredMessages() {\n    this.messagesDataSource.data = this.messages.filter(message => this.visibleSources.includes(message.source));\n  }\n}\n","import { Injectable, OnInit } from '@angular/core';\n\nimport { Resource } from '../../objects/resource';\nimport { ResourceType, ResourceEnum } from './../../objects/resourceData';\nimport { MessageSource } from '../../objects/message';\nimport { MessagesService } from '../messages/messages.service';\n\ndeclare var require: any;\nconst baseResources = require('../../../assets/json/resources.json');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ResourcesService {\n  public resources = new Map<string, Resource>();\n  highestTierReached = 0;\n\n  constructor(protected messagesService: MessagesService) {\n    this.loadBaseResources();\n  }\n\n  public loadBaseResources() {\n    this.resources.clear();\n    for (const resourceName in ResourceEnum) {\n      if (Number(resourceName)) {\n        continue;\n      }\n\n      const resourceEnum = ResourceEnum[resourceName];\n\n      const baseResource = baseResources[resourceEnum];\n\n      const harvestYield = baseResource.harvestYield ? baseResource.harvestYield : 1;\n      const edible = baseResource.edible ? baseResource.edible : false;\n      const foodMultiplier = baseResource.foodMultiplier ? baseResource.foodMultiplier : 1;\n\n      const resource = new Resource(baseResource.name, baseResource.resourceType, baseResource.resourceEnum, baseResource. iconPath,\n                                    baseResource.resourceConsumes, baseResource.harvestable, harvestYield, baseResource.harvestMilliseconds,\n                                    baseResource.sellable, baseResource.sellsFor, baseResource.resourceDescription, baseResource.workerVerb,\n                                    baseResource.workerNoun, baseResource.resourceTier, edible, foodMultiplier, this);\n      this.resources.set(resourceEnum, resource);\n    }\n  }\n\n  public getResources(resourceType?: ResourceType, resourceTiers?: number[],\n                      filterBySellable = false, filterByAccessible = false,\n                      filterByHarvestable = false, filterByEdible = false): Resource[] {\n    let resources = Array.from(this.resources.values());\n\n    if (resourceType) {\n      resources = resources.filter(resource => resource.resourceType === resourceType);\n    }\n    if (resourceTiers && resourceTiers.length) {\n      resources = resources.filter(resource => resourceTiers.includes(resource.resourceTier));\n    }\n    if (filterBySellable) {\n      resources = resources.filter(resource => resource.sellable);\n    }\n    if (filterByAccessible) {\n      resources = resources.filter(resource => resource.resourceAccessible);\n    }\n    if (filterByHarvestable) {\n      resources = resources.filter(resource => resource.harvestable);\n    }\n    if (filterByEdible) {\n      resources = resources.filter(resource => resource.edible);\n    }\n\n    return resources;\n  }\n\n  takeFood(maxAmount: number): number {\n    const edibleResources = this.getResources(undefined, undefined, false, false, false, true)\n      .sort((a, b) => b.foodMultiplier - a.foodMultiplier);\n    let totalAmountTaken = 0;\n    let currentResource = 0;\n\n    while (totalAmountTaken < maxAmount && currentResource < edibleResources.length &&\n        edibleResources.some(resource => resource.amount > 0)) {\n      const amountTaken =\n        Math.min(maxAmount - totalAmountTaken, edibleResources[currentResource].amount * edibleResources[currentResource].foodMultiplier);\n\n      edibleResources[currentResource].addAmount(-amountTaken / edibleResources[currentResource].foodMultiplier);\n\n      totalAmountTaken += amountTaken;\n      currentResource++;\n    }\n\n    return totalAmountTaken;\n  }\n\n  get totalFoodAmount(): number {\n    const edibleResources = this.getResources(undefined, undefined, false, false, false, true);\n    return edibleResources.map(resource => resource.amount * resource.foodMultiplier).reduce((total, amount) => total += amount);\n  }\n\n  public get playerScore(): number {\n    const resources = Array.from(this.resources.values());\n    return resources.map(resource => resource.amount * resource.resourceTier).reduce((total, amount) => total += amount);\n  }\n\n  public get tiers(): number[] {\n    const tiersByResource = this.getResources().map(resource => resource.resourceTier).sort();\n    const tiers = [];\n    tiersByResource.map(tier => {\n      if (!tiers.includes(tier) && this.highestTierReached >= tier - 1) {\n        tiers.push(tier);\n     }\n    });\n\n    return tiers;\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Resources, message);\n  }\n}\n","import { FormControl } from '@angular/forms';\nimport { Injectable } from '@angular/core';\nimport { MatSnackBar, MatDialog, MatSelectChange } from '@angular/material';\n\nimport { AboutDialogComponent } from './../../components/about-dialog/about-dialog/about-dialog.component';\nimport { SaveDialogComponent } from '../../components/save-dialog/save-dialog.component';\nimport { ResourcesService } from './../resources/resources.service';\nimport { UpgradesService } from './../upgrades/upgrades.service';\nimport { WorkersService } from './../workers/workers.service';\nimport { MessagesService } from '../messages/messages.service';\nimport { MapService } from './../map/map.service';\nimport { EnemyService } from './../enemy/enemy.service';\nimport { FighterService } from './../fighter/fighter.service';\nimport { Tick } from './../tick/tick.service';\nimport { ResourceType, ResourceEnum } from './../../objects/resourceData';\nimport { SaveData, WorkerData, TileData } from '../../objects/savedata';\nimport { BuildingTileType, BuildingSubType, Market } from '../../objects/tile';\nimport { Enemy, Fighter, ResourceAnimationType } from '../../objects/entity';\nimport { MessageSource } from './../../objects/message';\nimport { Vector } from '../../objects/vector';\n\nconst defaultResourceBinds = [ResourceEnum.Oak, ResourceEnum.Pine, ResourceEnum.Birch, ResourceEnum.Stone, ResourceEnum.Graphite,\n  ResourceEnum.Limestone, ResourceEnum.CopperOre, ResourceEnum.TinOre, ResourceEnum.BronzeIngot, ResourceEnum.IronOre];\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class SettingsService implements Tick {\n  versionHistory = ['1.2', 'Alpha 3', 'Alpha 3.1', 'Alpha 3.2', 'Alpha 3.3', 'Alpha 3.4', 'Alpha 4.0'];\n  gameVersion = 'Alpha 4.0';\n\n  bindSelected = new FormControl();\n\n  autosaveInterval = 60000;\n  lastAutosave = this.autosaveInterval;\n  debugMode = false;\n\n  resourceBinds = defaultResourceBinds;\n\n  disableAnimations = false;\n  slimInterface = false;\n  organizeLeftPanelByType = true;\n\n  mapDetailMode = true;\n  mapLowFramerate = false;\n\n  harvestDetailColor = '#a4ff89';\n  workerDetailColor = '#ae89ff';\n  resourceAnimationColors = {\n    'PLAYERSPAWNED': '#a4ff89',\n    'WORKERSPAWNED': 'ae89ff',\n    'SOLD': '#ffc089'\n  };\n\n  constructor(protected resourcesService: ResourcesService,\n              protected upgradesService: UpgradesService,\n              protected workersService: WorkersService,\n              protected mapService: MapService,\n              protected enemyService: EnemyService,\n              protected fighterService: FighterService,\n              protected messagesService: MessagesService,\n              protected snackbar: MatSnackBar,\n              public dialog: MatDialog) { }\n\n  tick(elapsed: number, deltaTime: number) {\n    if (elapsed - this.lastAutosave < this.autosaveInterval || this.autosaveInterval < 0) {\n      return;\n    }\n\n    this.lastAutosave = elapsed;\n    this.saveGame();\n  }\n\n  resourceBindChange(event: MatSelectChange) {\n    const limitExceeded = event.value.length > 10;\n    this.bindSelected.setErrors({'length': limitExceeded});\n\n    if (!limitExceeded) {\n      this.resourceBinds = event.value;\n\n      for (const resource of this.resourcesService.getResources()) {\n        resource.bindIndex = -1;\n      }\n\n      for (const resourceBind of this.resourceBinds) {\n        const resource = this.resourcesService.resources.get(resourceBind);\n        resource.bindIndex = this.resourceBinds.indexOf(resourceBind);\n      }\n    }\n  }\n\n  openSaveDialog(saveData?: string) {\n    const dialogRef = this.dialog.open(SaveDialogComponent, {\n      width: '750px',\n      height: '150px',\n      data: saveData === undefined ? {} : {saveData: saveData}\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result !== undefined) {\n        if (this.importSave(result)) {\n          this.snackbar.open('Game successfully loaded!', '', {duration: 2000});\n          this.log('Game successfully loaded!');\n        }\n      }\n    });\n  }\n\n  openAboutDialog() {\n    const dialogRef = this.dialog.open(AboutDialogComponent, {\n      width: '750px',\n      height: '550px'\n    });\n\n    dialogRef.afterClosed().subscribe(result => {\n      if (result !== undefined) {\n        if (this.importSave(result)) {\n        }\n      }\n    });\n  }\n\n  setAutosave() {\n    this.lastAutosave = this.autosaveInterval;\n  }\n\n  saveGame() {\n    const saveData = this.exportSave();\n\n    localStorage.setItem('clickerGameSaveData', saveData);\n\n    this.snackbar.open('Game successfully saved!', '', {duration: 2000});\n    this.log('Game successfully saved!');\n  }\n\n  loadGame() {\n    const saveData = localStorage.getItem('clickerGameSaveData');\n\n    if (saveData === null) {\n      return;\n    }\n\n    if (this.importSave(saveData)) {\n      this.snackbar.open('Game successfully loaded!', '', {duration: 2000});\n      this.log('Game successfully loaded!');\n    }\n  }\n\n  deleteSave() {\n    localStorage.removeItem('clickerGameSaveData');\n\n    this.resourcesService.loadBaseResources();\n    this.upgradesService.loadBaseUpgrades();\n    this.workersService.loadBaseWorkers();\n\n    this.mapService.seedRng(Math.random());\n    this.mapService.initializeMap();\n\n    this.workersService.foodStockpile = 0;\n\n    this.autosaveInterval = 60000;\n    this.setAutosave();\n\n    this.debugMode = false;\n\n    this.resourcesService.highestTierReached = 0;\n\n    this.workersService.workersPaused = false;\n\n    this.resourceBinds = defaultResourceBinds;\n    this.bindSelected.setValue(this.resourceBinds);\n    this.resourceBindChange({'source': null, 'value': this.resourceBinds});\n\n    this.messagesService.visibleSources = [MessageSource.Admin, MessageSource.Buildings, MessageSource.Main, MessageSource.Enemy,\n      MessageSource.Fighter, MessageSource.Map, MessageSource.Resources, MessageSource.Settings,\n      MessageSource.Store, MessageSource.Upgrades, MessageSource.Workers];\n\n    this.enemyService.enemiesActive = false;\n\n    this.disableAnimations = false;\n    this.slimInterface = false;\n    this.organizeLeftPanelByType = true;\n\n    this.mapLowFramerate = false;\n    this.resourceAnimationColors = {\n      'PLAYERSPAWNED': '#a4ff89',\n      'WORKERSPAWNED': 'ae89ff',\n      'SOLD': '#ffc089'\n    };\n\n    this.snackbar.open('Game save deleted.', '', {duration: 2000});\n    this.log('Game save deleted.');\n  }\n\n  exportSave() {\n    const saveData: SaveData = {\n      resources: [],\n      purchasedUpgrades: [],\n      workers: [],\n      tiles: [],\n      enemies: [],\n      fighters: [],\n      settings: {\n        autosaveInterval: this.autosaveInterval,\n        debugMode: this.debugMode,\n        highestTierReached: this.resourcesService.highestTierReached,\n        workersPaused: this.workersService.workersPaused,\n        hidePurchasedUpgrades: this.upgradesService.hidePurchasedUpgrades,\n        resourceBinds: this.resourceBinds,\n        visibleSources: this.messagesService.visibleSources,\n        enemiesActive: this.enemyService.enemiesActive,\n        slimInterface: this.slimInterface,\n        organizeLeftPanelByType: this.organizeLeftPanelByType,\n        mapLowFramerate: this.mapLowFramerate,\n        resourceAnimationColors: this.resourceAnimationColors,\n        prngSeed: this.mapService.prngSeed\n      },\n      foodStockpile: this.workersService.foodStockpile,\n      gameVersion: this.gameVersion\n    };\n\n    for (const resource of this.resourcesService.getResources()) {\n      saveData.resources.push({\n        resourceEnum: resource.resourceEnum,\n        amount: resource.amount,\n        autoSellCutoff: resource.autoSellCutoff\n      });\n    }\n\n    saveData.purchasedUpgrades = this.upgradesService.getUpgrades(true).map(upgrade => upgrade.id);\n\n    for (const worker of this.workersService.getWorkers()) {\n      const workerData: WorkerData = {\n        resourceType: worker.resourceType,\n        cost: worker.cost,\n        workerCount: worker.workerCount,\n        workersByResource: []\n      };\n\n      for (const resourceWorker of worker.getResourceWorkers()) {\n        workerData.workersByResource.push({\n          resourceEnum: resourceWorker.resourceEnum,\n          workable: resourceWorker.workable,\n          workerCount: resourceWorker.workerCount\n        });\n      }\n\n      saveData.workers.push(workerData);\n    }\n\n    if (this.mapService.mapLayer) {\n      for (const tile of this.mapService.mapLayer.getTilesWithin()) {\n        if (!tile || !tile.properties['buildingNode']) {\n          continue;\n        }\n\n        const tileData: TileData = {\n          id: tile.properties['id'],\n          health: tile.properties['buildingNode'].health,\n          maxHealth: tile.properties['buildingNode'].maxHealth,\n          buildingRemovable: tile.properties['buildingNode'].removable,\n          statLevels: tile.properties['buildingNode'].statLevels,\n          statCosts: tile.properties['buildingNode'].statCosts\n        };\n\n        if (tile.properties['resourceNode']) {\n          tileData.resourceTileType = tile.properties['resourceNode'].tileType;\n        }\n        if (tile.properties['buildingNode']) {\n          tileData.buildingTileType = tile.properties['buildingNode'].tileType;\n        }\n\n        if (tile.properties['buildingNode'].market) {\n          tileData.sellInterval = tile.properties['buildingNode'].market.sellInterval;\n          tileData.sellQuantity = tile.properties['buildingNode'].market.sellQuantity;\n        }\n\n        saveData.tiles.push(tileData);\n      }\n    }\n\n    for (const enemy of this.enemyService.enemies) {\n      saveData.enemies.push({\n        name: enemy.name,\n        x: enemy.x,\n        y: enemy.y,\n        health: enemy.health,\n        maxHealth: enemy.maxHealth,\n        animationSpeed: enemy.animationSpeed,\n        attack: enemy.attack,\n        defense: enemy.defense,\n        attackRange: enemy.attackRange,\n        targetableBuildingTypes: enemy.targetableBuildingTypes,\n        resourcesToSteal: enemy.resourcesToSteal,\n        resorucesHeld: enemy.resourcesHeld,\n        stealMax: enemy.stealMax,\n        resourceCapacity: enemy.resourceCapacity\n      });\n    }\n\n    for (const fighter of this.fighterService.fighters) {\n      saveData.fighters.push({\n        name: fighter.name,\n        description: fighter.description,\n        x: fighter.x,\n        y: fighter.y,\n        health: fighter.health,\n        maxHealth: fighter.maxHealth,\n        animationSpeed: fighter.animationSpeed,\n        attack: fighter.attack,\n        defense: fighter.defense,\n        attackRange: fighter.attackRange,\n        moveable: fighter.moveable,\n        fireMilliseconds: fighter.fireMilliseconds,\n        cost: fighter.cost,\n        statLevels: fighter.statLevels,\n        statCosts: fighter.statCosts\n      });\n    }\n\n    return btoa(JSON.stringify(saveData));\n  }\n\n  importSave(saveDataString: string): boolean {\n    const backupSave = this.exportSave();\n\n    try {\n      this.deleteSave();\n\n      let saveData: SaveData = JSON.parse(atob(saveDataString));\n      saveData = this.processVersionDifferences(saveData);\n\n      if (!saveData.gameVersion) {\n        throw new Error('Save data is incompatible with the current version.');\n      }\n\n      if (saveData.settings !== undefined) {\n        this.autosaveInterval = saveData.settings.autosaveInterval ? saveData.settings.autosaveInterval : 900000;\n        this.debugMode = saveData.settings.debugMode ? saveData.settings.debugMode : false;\n\n        this.resourcesService.highestTierReached = saveData.settings.highestTierReached ? saveData.settings.highestTierReached : 0;\n\n        this.workersService.workersPaused = saveData.settings.workersPaused ? saveData.settings.workersPaused : false;\n        this.upgradesService.hidePurchasedUpgrades =\n          saveData.settings.hidePurchasedUpgrades ? saveData.settings.hidePurchasedUpgrades : false;\n\n        this.resourceBinds = saveData.settings.resourceBinds ? saveData.settings.resourceBinds : defaultResourceBinds;\n        this.bindSelected.setValue(this.resourceBinds);\n        this.resourceBindChange({'source': null, 'value': this.resourceBinds});\n\n        this.messagesService.visibleSources = saveData.settings.visibleSources ? saveData.settings.visibleSources :\n          [MessageSource.Admin, MessageSource.Buildings, MessageSource.Main, MessageSource.Enemy,\n            MessageSource.Fighter, MessageSource.Map, MessageSource.Resources, MessageSource.Settings,\n            MessageSource.Store, MessageSource.Upgrades, MessageSource.Workers];\n\n        this.enemyService.enemiesActive = saveData.settings.enemiesActive ? saveData.settings.enemiesActive : false;\n\n        this.slimInterface = saveData.settings.slimInterface ? saveData.settings.slimInterface : false;\n        this.organizeLeftPanelByType = saveData.settings.organizeLeftPanelByType ? saveData.settings.organizeLeftPanelByType : true;\n\n        this.mapLowFramerate = saveData.settings.mapLowFramerate ? saveData.settings.mapLowFramerate : false;\n\n        this.harvestDetailColor = saveData.settings.harvestDetailColor ? saveData.settings.harvestDetailColor : '#a4ff89';\n        this.workerDetailColor = saveData.settings.workerDetailColor ? saveData.settings.workerDetailColor : '#ae89ff';\n        if (saveData.settings.resourceAnimationColors) {\n          this.resourceAnimationColors = saveData.settings.resourceAnimationColors;\n        }\n\n        if (saveData.settings.prngSeed) {\n          this.mapService.seedRng(saveData.settings.prngSeed);\n          this.mapService.initializeMap();\n        }\n      }\n\n      if (saveData.resources !== undefined) {\n        for (const resourceData of saveData.resources) {\n          const resource = this.resourcesService.resources.get(resourceData.resourceEnum);\n\n          if (resource === undefined) {\n            continue;\n          }\n\n          resource.amount = resourceData.amount ? resourceData.amount : 0;\n          resource.autoSellCutoff = resourceData.autoSellCutoff ? resourceData.autoSellCutoff : 0;\n        }\n      }\n\n      if (saveData.purchasedUpgrades !== undefined) {\n        for (const upgradeId of saveData.purchasedUpgrades) {\n          const upgrade = this.upgradesService.getUpgrade(upgradeId);\n\n          if (upgrade) {\n            upgrade.applyUpgrade(true);\n            upgrade.purchased = true;\n          }\n        }\n      }\n\n      if (saveData.workers !== undefined) {\n        for (const workerData of saveData.workers) {\n          const worker = this.workersService.workers.get(workerData.resourceType);\n\n          worker.cost = workerData.cost;\n          worker.workerCount = workerData.workerCount;\n          worker.freeWorkers = workerData.workerCount;\n\n          for (const resourceWorkerData of workerData.workersByResource) {\n            const resourceWorker = worker.resourceWorkers.get(resourceWorkerData.resourceEnum);\n\n            resourceWorker.workable = resourceWorkerData.workable;\n            resourceWorker.workerCount = 0;\n\n            resourceWorker.sliderSetting = resourceWorkerData.workerCount;\n\n            worker.updateResourceWorker(resourceWorkerData.resourceEnum, resourceWorkerData.workerCount);\n          }\n\n          if (worker.freeWorkers < 0) {\n            throw new Error('Invalid worker settings.');\n          }\n        }\n      }\n\n      if (saveData.tiles !== undefined) {\n        for (const tileData of saveData.tiles) {\n          const tile = this.mapService.mapLayer.findTile(_tile => _tile && _tile.properties['id'] === tileData.id);\n\n          if (!tile || tileData.buildingTileType === BuildingTileType.Home) {\n            continue;\n          }\n\n          const buildingData = this.mapService.buildingTileData.get(tileData.buildingTileType);\n          this.mapService.createBuilding(tile.x, tile.y, buildingData, tileData.buildingRemovable, tileData.maxHealth, true);\n\n          tile.properties['buildingNode'].health = tileData.health ? tileData.health : 50;\n          tile.properties['buildingNode'].statLevels = tileData.statLevels;\n          tile.properties['buildingNode'].statCosts = tileData.statCosts;\n\n          if (tileData.buildingTileType &&\n            this.mapService.buildingTileData.get(tileData.buildingTileType).subType === BuildingSubType.Market) {\n\n            let resourceType: ResourceType;\n            switch (tileData.buildingTileType) {\n              case BuildingTileType.WoodMarket: {\n                resourceType = ResourceType.Wood;\n                break;\n              } case BuildingTileType.MineralMarket: {\n                resourceType = ResourceType.Mineral;\n                break;\n              } case BuildingTileType.MetalMarket: {\n                resourceType = ResourceType.Metal;\n                break;\n              }\n            }\n\n            tile.properties['buildingNode'].market = new Market(this.mapService, this.resourcesService, resourceType, tile, false);\n          }\n        }\n      }\n\n      if (saveData.enemies !== undefined) {\n        for (const enemyData of saveData.enemies) {\n          const tile = this.mapService.mapLayer.getTileAtWorldXY(enemyData.x, enemyData.y);\n\n          if (!tile) {\n            continue;\n          }\n\n          const enemyType = this.enemyService.enemyTypes.find(type => type.name === enemyData.name);\n          const enemy = this.mapService.spawnEnemy(enemyType, tile);\n\n          enemy.health = enemyData.health ? enemyData.health : 50;\n          enemy.maxHealth = enemyData.maxHealth ? enemyData.maxHealth : 50;\n        }\n      }\n\n      if (saveData.fighters !== undefined) {\n        for (const fighterData of saveData.fighters) {\n          const tile = this.mapService.mapLayer.getTileAtWorldXY(fighterData.x, fighterData.y);\n\n          if (!tile) {\n            continue;\n          }\n\n          const fighterType = this.fighterService.fighterTypes.find(type => type.name === fighterData.name);\n          const fighter = this.mapService.spawnFighter(fighterType, tile.x, tile.y, true);\n\n          fighter.health = fighterData.health ? fighterData.health : 50;\n          fighter.maxHealth = fighterData.maxHealth ? fighterData.maxHealth : 50;\n          fighter.attackRange = fighterData.attackRange ? fighterData.attackRange : 3;\n          if (fighterData.statLevels) {\n            fighter.statLevels = fighterData.statLevels;\n          }\n          if (fighterData.statCosts) {\n            fighter.statCosts = fighterData.statCosts;\n          }\n        }\n      }\n\n      this.workersService.foodStockpile = saveData.foodStockpile ? saveData.foodStockpile : 0;\n      this.mapService.calculateResourceConnections();\n\n      return true;\n    } catch (error) {\n      this.snackbar.open(`Error loading save data: ${error}`, '', {duration: 5000});\n      this.log('Error loading save data. Printing data to console for debugging.');\n      this.importSave(backupSave);\n\n      console.log(saveDataString);\n      console.error(error);\n\n      return false;\n    }\n  }\n\n  processVersionDifferences(saveData: any): SaveData {\n    const legacyResourceIds = {\n      0: 'GOLD',\n      1: 'OAK',\n      2: 'COPPERORE',\n      3: 'TINORE',\n      4: 'BRONZEINGOT',\n      5: 'IRONORE',\n      6: 'IRONINGOT',\n      7: 'PINE',\n      8: 'BIRCH',\n      9: 'EUCALYPTUS',\n      10: 'STEELINGOT',\n      11: 'GOLDORE',\n      12: 'GOLDINGOT',\n      13: 'STONE',\n      15: 'WILLOW',\n      16: 'ENTSOUL',\n      17: 'REANIMATEDENT',\n      18: 'LATINUMORE',\n      19: 'LATINUMINGOT',\n      20: 'UNBELIEVIUMORE',\n      21: 'LUSTRIALORE',\n      22: 'SPECTRUSORE',\n      23: 'TEMPROUSINGOT',\n      24: 'REFINEDTEMPROUS',\n      25: 'TEAK',\n      26: 'GRAPHITE',\n      27: 'LIMESTONE',\n      28: 'MARBLE',\n      29: 'QUARTZ',\n      30: 'OBSIDIAN',\n      31: 'DIAMOND'\n    };\n\n    const legacyWorkerIds = {\n      0: 'WOOD',\n      1: 'METAL',\n      2: 'MINERAL'\n    };\n\n    const oldVersionIndex = this.versionHistory.indexOf(saveData.gameVersion);\n\n    if (oldVersionIndex <= this.versionHistory.indexOf('1.2')) {\n      for (const resourceData of saveData.resources) {\n        const resource = this.resourcesService.resources.get(legacyResourceIds[resourceData.resourceId]);\n        resourceData.sellsFor = resource.sellsFor;\n      }\n    }\n\n    if (oldVersionIndex <= this.versionHistory.indexOf('Alpha 3')) {\n      saveData.settings.resourceAnimationColors = {};\n      saveData.settings.resourceAnimationColors[ResourceAnimationType.PlayerSpawned] = saveData.settings.harvestDetailColor;\n      saveData.settings.resourceAnimationColors[ResourceAnimationType.WorkerSpawned] = saveData.settings.workerDetailColor;\n      saveData.settings.resourceAnimationColors[ResourceAnimationType.Sold] = '#ffc089';\n\n      saveData.tiles.map(tileData => {\n        const isMarket = this.mapService.buildingTileData.get(tileData.buildingTileType).subType === BuildingSubType.Market;\n        tileData.statLevels = isMarket ? {'MAXHEALTH': 1, 'SELLAMOUNT': 1, 'SELLRATE': 1} : {'MAXHEALTH': 1};\n        tileData.statCosts = isMarket ? {'MAXHEALTH': 1500, 'SELLAMOUNT': 1500, 'SELLRATE': 1500} : {'MAXHEALTH': 1500};\n      });\n    }\n\n    if (oldVersionIndex <= this.versionHistory.indexOf('Alpha 3.1')) {\n      saveData.purchasedUpgrades = saveData.upgrades.map(upgrade => upgrade.id);\n\n      for (const resourceData of saveData.resources) {\n        resourceData.resourceEnum = legacyResourceIds[resourceData.id];\n      }\n\n      for (const workerData of saveData.workers) {\n        workerData.resourceType = legacyWorkerIds[workerData.id];\n\n        for (const resourceWorkerData of workerData.workersByResource) {\n          resourceWorkerData.resourceEnum = legacyResourceIds[resourceWorkerData.resourceId];\n        }\n      }\n\n      for (const enemyData of saveData.enemies) {\n        const newResourcesToSteal = enemyData.resourcesToSteal.map(resourceId => legacyResourceIds[resourceId]);\n        const newResourcesHeld = new Map<ResourceEnum, number>();\n\n        if (!enemyData.resourcesHeld || !enemyData.resourcesHeld.length) {\n          continue;\n        }\n\n        for (const resourceId of enemyData.resourcesToSteal) {\n          const amountHeld = enemyData.resourcesHeld[resourceId];\n          newResourcesHeld.set(legacyResourceIds[resourceId], amountHeld === undefined ? 0 : amountHeld);\n        }\n\n        enemyData.resourcesToSteal = newResourcesToSteal;\n        enemyData.resourcesHeld = newResourcesHeld;\n      }\n\n      if (saveData.settings.resourceBinds) {\n        saveData.settings.resourceBinds = saveData.settings.resourceBinds.map(resourceId => legacyResourceIds[resourceId]);\n      }\n\n      const accessedTiers = saveData.resources.filter(resource => resource.amount).map(resource =>\n        this.resourcesService.resources.get(resource.resourceEnum).resourceTier);\n      saveData.settings.highestTierReached = accessedTiers.sort()[accessedTiers.length - 1];\n    }\n\n    if (oldVersionIndex <= this.versionHistory.indexOf('Alpha 3.4')) {\n      saveData.tiles = [];\n    }\n\n    return saveData;\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Settings, message);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Resource } from '../../objects/resource';\nimport { ResourceEnum } from './../../objects/resourceData';\nimport { MessageSource } from '../../objects/message';\nimport { ResourcesService } from '../resources/resources.service';\nimport { MessagesService } from '../messages/messages.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class StoreService {\n  constructor(private resourcesService: ResourcesService,\n              private messagesService: MessagesService) { }\n\n  public sellResource(resource: Resource, amount: number) {\n    if (!this.canSellResource(resource, amount)) {\n      return;\n    }\n\n    if (amount === -1) {\n      amount = resource.amount;\n    }\n\n    resource.addAmount(-amount);\n    this.resourcesService.resources.get(ResourceEnum.Gold).addAmount(amount * resource.sellsFor);\n  }\n\n  public canSellResource(resource: Resource, amount: number): boolean {\n    if (amount === -1) {\n      return resource.sellable && resource.amount > 0;\n    }\n\n    return resource.sellable && resource.amount - amount >= 0;\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Store, message);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { HarvestService } from '../harvest/harvest.service';\nimport { WorkersService } from './../workers/workers.service';\nimport { SettingsService } from './../settings/settings.service';\n\ndeclare var d3: any;\n\nexport interface Tick {\n  tick(elapsed: number, deltaTime: number);\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TickService {\n  tickObjects = [this.harvestService, this.workersService, this.settingsService];\n  timeElapsed: number;\n\n  constructor(protected harvestService: HarvestService,\n              protected workersService: WorkersService,\n              protected settingsService: SettingsService) {\n    d3.interval(this.tick(this), 25);\n  }\n\n  tick(self: TickService) {\n    return function(elapsed) {\n      for (const tickObject of self.tickObjects) {\n        tickObject.tick(elapsed, elapsed - self.timeElapsed);\n      }\n\n      self.timeElapsed = elapsed;\n    };\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { ResourcesService } from './../resources/resources.service';\nimport { UpgradesService } from '../upgrades/upgrades.service';\nimport { WorkersService } from './../workers/workers.service';\nimport { MapService } from './../map/map.service';\nimport { Resource } from '../../objects/resource';\nimport { ResourceEnum } from './../../objects/resourceData';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class TooltipService {\n  requiredUpgrades = {\n    7: 8,\n    8: 8,\n    9: 9,\n    15: 9,\n    25: 10,\n    16: 11,\n    17: 12,\n    2: 2,\n    3: 2,\n    13: 2,\n    26: 5,\n    5: 5,\n    27: 13,\n    28: 13,\n    11: 13,\n    29: 14,\n    18: 14,\n    30: 14,\n    31: 15,\n    20: 15,\n    21: 15,\n    22: 15\n  };\n\n  requiredBuildings = {\n    4: 'CRACKEDFORGE',\n    6: 'STONEFORGE',\n    10: 'IRONFORGE',\n    12: 'IRONFORGE',\n    19: 'GOLDFORGE',\n    23: 'LATINUMFORGE',\n    24: 'TEMPROUSDISTILLERY'\n  };\n\n  consumersByResource = {\n    1: 16,\n    7: 16,\n    8: 16,\n    9: 16,\n    15: 16,\n    25: 16,\n    16: 17,\n    2: 4,\n    3: 4,\n    5: 6,\n    6: 10,\n    11: 12,\n    10: 19,\n    12: 19,\n    18: 19,\n    19: 23,\n    20: 23,\n    21: 23,\n    22: 23,\n    23: 24,\n    31: 24\n  };\n\n  constructor(protected resourcesService: ResourcesService,\n              protected upgradesService: UpgradesService,\n              protected workersService: WorkersService,\n              protected mapService: MapService) { }\n\n  getResourceTooltip(resource: Resource): string {\n    const worker = this.workersService.getResourceWorker(resource.resourceEnum);\n\n    let tooltip = `${resource.resourceDescription}`;\n\n    if (resource.resourceEnum === ResourceEnum.Gold) {\n      let totalCost = 0;\n\n      for (const _worker of this.workersService.getWorkers()) {\n        for (const rw of _worker.getResourceWorkers()) {\n          if (resource.canHarvest(rw.workerYield) && _worker.canAffordToHarvest(rw.resourceEnum)) {\n            totalCost += rw.recurringCost * rw.workerCount;\n          }\n        }\n      }\n\n      tooltip += `\\n${totalCost} spent on workers per second.`;\n\n      return tooltip;\n    }\n\n    const requiredUpgrade = this.requiredUpgrades[resource.resourceEnum];\n    if (requiredUpgrade) {\n      const upgrade = this.upgradesService.getUpgrade(requiredUpgrade);\n      tooltip += `\\nNeeded Upgrade: ${upgrade.name}.`;\n    }\n\n    const requiredBuilding = this.requiredBuildings[resource.resourceEnum];\n    if (requiredBuilding) {\n      const building = this.mapService.buildingTileData.get(requiredBuilding);\n      tooltip += `\\nNeeded Building: ${building.name}.`;\n    }\n\n    if (resource.resourceConsumes.length) {\n      tooltip += '\\nResources required:';\n      for (const resourceConsume of resource.resourceConsumes) {\n        tooltip += ` ${this.resourcesService.resources.get(resourceConsume.resourceEnum).name}: ${resourceConsume.cost},`;\n      }\n      tooltip = tooltip.substring(0, tooltip.length - 1);\n      tooltip += '.';\n    }\n\n    let workerOutput = worker.workerYield * worker.workerCount;\n    if (resource.resourceEnum in this.consumersByResource) {\n      const consumingResource = this.resourcesService.resources[this.consumersByResource[resource.resourceEnum]];\n      const consumingWorker = this.workersService.getResourceWorker[this.consumersByResource[resource.resourceEnum]];\n      workerOutput -=\n        consumingResource.resourceConsumes.find(rc => rc.resourceEnum === resource.resourceEnum).cost * consumingWorker.workerCount;\n    }\n\n    tooltip += `\\n${Math.floor(resource.harvestYield * 1000) / 1000} harvested per click ` +\n               `(${Math.floor(resource.harvestMilliseconds) / 1000} seconds per harvest).` +\n               `\\n${Math.floor(1000 * workerOutput) / 1000} per second from workers.`;\n\n     return tooltip;\n  }\n\n  getWorkerTooltip(resourceEnum: ResourceEnum): string {\n    const resource = this.resourcesService.resources.get(resourceEnum);\n    const resourceWorker = this.workersService.getResourceWorker(resourceEnum);\n\n    return `${resource.workerVerb} ${Math.floor(resourceWorker.workerYield * 100) / 100} ` +\n      `${resource.workerNoun}${resourceWorker.workerYield === 1 ? '' : 's'} per second.\\n` +\n      `Cost: ${resourceWorker.recurringCost} per worker per second (${resourceWorker.recurringCost * resourceWorker.workerCount} total).`;\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { Upgrade, UpgradeType, UpgradeVariable } from '../../objects/upgrade';\nimport { MessageSource } from '../../objects/message';\nimport { ResourcesService } from '../resources/resources.service';\nimport { WorkersService } from './../workers/workers.service';\nimport { MessagesService } from '../messages/messages.service';\n\ndeclare var require: any;\nconst baseUpgrades = require('../../../assets/json/upgrades.json');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class UpgradesService {\n  public upgrades: Upgrade[] = [];\n  hidePurchasedUpgrades = true;\n\n  constructor(private resourcesService: ResourcesService,\n              private workersService: WorkersService,\n              private messagesService: MessagesService) {\n    this.loadBaseUpgrades();\n  }\n\n  public loadBaseUpgrades() {\n    this.upgrades = [];\n    for (const baseUpgrade of baseUpgrades) {\n      const upgrade = new Upgrade(baseUpgrade.id, baseUpgrade.name, baseUpgrade.description, baseUpgrade.upgradeType,\n                                  baseUpgrade.upgradeEffects, baseUpgrade.resourceCosts, false,\n                                  this.resourcesService, this.workersService, this.messagesService);\n      this.upgrades.push(upgrade);\n    }\n  }\n\n  public getUpgrade(id: number): Upgrade {\n    return this.upgrades.find(upgrade => upgrade.id === id);\n  }\n\n  public getUpgrades(filterByPurchased = false, filterByUnpurchased = false, filterByAccessible = false,\n                     upgradeType?: UpgradeType, upgradeVariable?: UpgradeVariable): Upgrade[] {\n    let upgrades = this.upgrades;\n\n    if (upgradeType) {\n      upgrades = upgrades.filter(upgrade => upgrade.upgradeType === upgradeType);\n    }\n    if (upgradeVariable) {\n      upgrades = upgrades.filter(upgrade => upgrade.upgradeEffects.some(ue => ue.upgradeVariable === upgradeVariable));\n    }\n    if (filterByPurchased) {\n      upgrades = upgrades.filter(upgrade => upgrade.purchased);\n    }\n    if (filterByUnpurchased) {\n      upgrades = upgrades.filter(upgrade => !upgrade.purchased);\n    }\n    if (filterByAccessible) {\n      upgrades = upgrades.filter(upgrade => upgrade.resourceCosts.every(\n      rc => this.resourcesService.resources.get(rc.resourceEnum).resourceAccessible));\n    }\n\n    return upgrades;\n  }\n\n  public getUpgradeTypeString(id: number): string {\n    return UpgradeType[this.getUpgrade(id).upgradeType];\n  }\n\n  public getUpgradeVariableString(upgradeId: number, effectId: number): string {\n    return UpgradeVariable[this.getUpgrade(upgradeId).upgradeEffects[effectId].upgradeVariable];\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Upgrades, message);\n  }\n}\n","import { Injectable } from '@angular/core';\n\nimport { ResourceType, ResourceEnum } from './../../objects/resourceData';\nimport { MessageSource } from '../../objects/message';\nimport { ResourcesService } from '../resources/resources.service';\nimport { Worker, ResourceWorker } from '../../objects/worker';\nimport { MapService } from './../map/map.service';\nimport { MessagesService } from '../messages/messages.service';\nimport { Tick } from './../tick/tick.service';\n\ndeclare var require: any;\nconst baseWorkers = require('../../../assets/json/workers.json');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WorkersService implements Tick {\n  public workers = new Map<string, Worker>();\n  workersPaused: boolean;\n\n  foodStockpile = 0;\n  foodCollectAmount = 1000;\n  foodCollectInterval = 100;\n  lastFoodCollectTime = 0;\n\n  constructor(protected resourcesService: ResourcesService,\n              protected mapService: MapService,\n              protected messagesService: MessagesService) {\n    this.loadBaseWorkers();\n  }\n\n  public loadBaseWorkers() {\n    this.workers.clear();\n    for (const resourceTypeString in ResourceType) {\n      if (Number(resourceTypeString)) {\n        continue;\n      }\n\n      const resourceType = ResourceType[resourceTypeString];\n\n      const baseWorker = baseWorkers[resourceType];\n      if (!baseWorker) {\n        continue;\n      }\n\n      const resourceWorkers = new Map<string, ResourceWorker>();\n      for (const resoruceEnum in baseWorker.resourceWorkers) {\n        if (Number(resoruceEnum)) {\n          continue;\n        }\n\n        const workerYield = baseWorker.resourceWorkers[resoruceEnum].workerYield ? baseWorker.resourceWorkers[resoruceEnum].workerYield : 1;\n\n        const resourceWorker: ResourceWorker = {\n          resourceEnum: baseWorker.resourceWorkers[resoruceEnum].resourceEnum,\n          workable: baseWorker.resourceWorkers[resoruceEnum].workable,\n          recurringCost: baseWorker.resourceWorkers[resoruceEnum].recurringCost,\n          workerCount: 0,\n          workerYield: workerYield,\n          lastHarvestTime: 0,\n          sliderSetting: 0,\n          sliderSettingValid: true\n        };\n\n        resourceWorkers.set(resoruceEnum, resourceWorker);\n      }\n\n      const worker = new Worker(baseWorker.cost, baseWorker.resourceType, resourceWorkers, baseWorker.priorityOrder,\n                                this, this.resourcesService, this.mapService, this.messagesService);\n      this.workers.set(resourceType, worker);\n    }\n  }\n\n  tick(elapsed: number, deltaTime: number) {\n    if (elapsed - this.lastFoodCollectTime > this.foodCollectInterval) {\n      const foodAmount = Math.min(this.foodCollectAmount, this.foodCapacity - this.foodStockpile);\n      this.foodStockpile += this.resourcesService.takeFood(foodAmount);\n\n      this.lastFoodCollectTime = elapsed;\n    }\n\n    if (this.workersPaused) {\n      return;\n    }\n\n    for (const worker of this.getWorkers(false, false, false, true)) {\n      worker.tick(elapsed, deltaTime);\n    }\n  }\n\n  public getWorkers(filterByAccessible = false, filterByWorkable = false, filterByHarvestable = false, orderByPriority = false): Worker[] {\n    let workers = Array.from(this.workers.values());\n\n    if (orderByPriority) {\n      workers = workers.sort((a, b) => a.priorityOrder - b.priorityOrder);\n    }\n\n    return workers.filter(worker => worker.getResourceWorkers(filterByAccessible, filterByWorkable, filterByHarvestable).length);\n  }\n\n  public getWorker(resourceEnum: ResourceEnum): Worker {\n    const resoruce = this.resourcesService.resources.get(resourceEnum);\n    return this.workers.get(resoruce.resourceType);\n  }\n\n  public getResourceWorker(resourceEnum: ResourceEnum): ResourceWorker {\n    const resource = this.resourcesService.resources.get(resourceEnum);\n    const worker = this.workers.get(resource.resourceType);\n\n    if (!resource || !worker) {\n      return undefined;\n    }\n\n    return worker.resourceWorkers.get(resourceEnum);\n  }\n\n  public get foodCapacity(): number {\n    return (this.resourcesService.highestTierReached + 1) * 10000;\n  }\n\n  private log(message: string) {\n    this.messagesService.add(MessageSource.Workers, message);\n  }\n}\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build ---prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * In development mode, to ignore zone related error stack frames such as\n * `zone.run`, `zoneDelegate.invokeTask` for easier debugging, you can\n * import the following file, but please comment it out in production mode\n * because it will have performance impact when throw error\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\nimport 'hammerjs';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n"],"sourceRoot":""}